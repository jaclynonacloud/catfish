{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/Functions.ts","src/Game.ts","src/ObjectPool.ts","src/entities/Cat.ts","src/entities/Entity.ts","src/entities/Fish.ts","src/main.ts","src/managers/DataManager.ts","src/managers/LoadManager.ts","src/managers/ScreenManager.ts","src/screens/EndScreen.ts","src/screens/GameScreen.ts","src/screens/IntermediaryScreen.ts","src/screens/MenuScreen.ts","src/screens/Screen.ts","src/screens/SplashScreen.ts","src/ui/Sprites.ts","src/ui/custom/LevelSelectDisplay.ts","src/ui/display/Container.ts","src/ui/display/Layout.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/* ************************************************* */\r\n/*                      LOGGING                      */\r\n/* ************************************************* */\r\nexport class Logging {\r\n    static success(message:string):void {\r\n        console.log(`%c ${message}`, 'color:seagreen; font-size:1.1em; font-weight:bold; border-left: solid 3px seagreen;')    ;\r\n    }\r\n\r\n    static message(message:string):void {\r\n        console.log(`%c ${message}`, 'color:#1E265C; font-size:1.1em; font-weight:bold; border-left: solid 3px #1E265C;');\r\n    }\r\n\r\n    static error(message:string):void {\r\n        console.log(`%c ${message}`, 'color:red; font-size:1.1em; border-left: solid 3px red;');\r\n    }\r\n}","import { LoadManager } from \"./managers/LoadManager\";\r\nimport { ScreenManager } from \"./managers/ScreenManager\";\r\nimport { SplashScreen } from \"./screens/SplashScreen\";\r\nimport { MenuScreen } from \"./screens/MenuScreen\";\r\nimport { GameScreen } from \"./screens/GameScreen\";\r\nimport { EndScreen } from \"./screens/EndScreen\";\r\nimport { Logging } from \"./Functions\";\r\nimport { Sprites } from \"./ui/Sprites\";\r\nimport { IntermediaryScreen } from \"./screens/IntermediaryScreen\";\r\nimport { DataManager } from \"./managers/DataManager\";\r\n\r\n\r\nexport class Game {\r\n    private _canvas:HTMLCanvasElement;\r\n    private _stage:createjs.StageGL;\r\n    private _scaling:number;\r\n\r\n    private _lastGameTime:number;\r\n\r\n    constructor(canvasDiv:HTMLCanvasElement) {\r\n\r\n        this._canvas = canvasDiv;\r\n        this._canvas.width = Game.WIDTH;\r\n        this._canvas.height = Game.HEIGHT;\r\n\r\n        this._lastGameTime = -1;\r\n\r\n        //set the scaling\r\n        this._scaling = Game.HEIGHT / 1366;\r\n\r\n        //start loading game assets\r\n        new Promise(async(res, rej) => {\r\n            //create the stage\r\n            console.log(\"Readying stage!\");\r\n            this._stage = new createjs.StageGL(this._canvas, { antialias: true });\r\n            (this._stage as any).setClearColor(\"#000000\");\r\n            this._stage.enableMouseOver(10);\r\n            this._stage.update();\r\n\r\n            console.log(this._stage, this._canvas);\r\n\r\n            //listen to asset updates\r\n            (this._stage as any).addEventListener(LoadManager.ASSETS_UPDATED, (e) => {\r\n                console.log(LoadManager.Percentage);\r\n            });\r\n            //load assets\r\n            await LoadManager.loadAssets(\"assets/manifest.json\", this._stage)\r\n                .catch(err => {\r\n                    console.warn(\"Error loading assets:\", err);\r\n                });\r\n\r\n            Logging.success(\"Assets Loaded Successfully!\");\r\n\r\n            //load level data\r\n            await DataManager.loadWorldsData(\"assets/data/levels.json\")\r\n                .catch(err => {\r\n                    Logging.error(err);\r\n                    return;\r\n                });\r\n\r\n            Logging.success(\"Level Data Loaded Successfully!\");\r\n\r\n            //setup createjs.Sprites\r\n            await Sprites.setup();\r\n\r\n            //build the screens\r\n            ScreenManager.registerScreen(\"splash\", new SplashScreen());\r\n            ScreenManager.registerScreen(\"menu\", new MenuScreen(this));\r\n            ScreenManager.registerScreen(\"game\", new GameScreen(this));\r\n            ScreenManager.registerScreen(\"end\", new EndScreen());\r\n            ScreenManager.registerScreen(\"intermediary\", new IntermediaryScreen(this));\r\n\r\n            \r\n\r\n            \r\n            //set the current screen\r\n            //game test, load desired level patch -- if autoloading to game screen\r\n            (ScreenManager.getScreenByKey(\"game\") as GameScreen).LevelData = DataManager.getLevelDataByIndex(1);\r\n\r\n            ScreenManager.setCurrentScreen(\"game\", this._stage);\r\n\r\n            //setup the game loop\r\n            createjs.Ticker.framerate = Game.FRAME_RATE;\r\n            createjs.Ticker.on(\"tick\", this.update, this);\r\n\r\n        });\r\n    }\r\n\r\n\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    public update(e:any) {\r\n\r\n        const gameTime = (this._lastGameTime != -1) ? createjs.Ticker.getMeasuredFPS() - this._lastGameTime : 1;\r\n        this._lastGameTime = createjs.Ticker.getMeasuredFPS();\r\n\r\n        //update the screen\r\n        if(ScreenManager.CurrentScreen != null) ScreenManager.CurrentScreen.update(gameTime);\r\n\r\n        //update the stage\r\n        this._stage.update();\r\n    }\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get FRAME_RATE() { return 30; }\r\n    public static get WIDTH() { return document.body.clientHeight * 0.48; } //desired size\r\n    public static get HEIGHT() { return document.body.clientHeight; }\r\n\r\n    public get StageWidth() { return this._canvas.width; } //actual size\r\n    public get StageHeight() { return this._canvas.height; }\r\n\r\n    public get Stage() { return this._stage; }\r\n    public get Scaling() { return this._scaling; }\r\n\r\n\r\n\r\n\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n\r\n\r\n}","import { Logging } from \"./Functions\";\r\nimport { Entity } from \"./entities/Entity\";\r\n\r\nexport interface IPoolObject {\r\n    type:string;\r\n    obj:Entity,\r\n    active:boolean;\r\n}\r\n\r\nexport class ObjectPool {\r\n    private static _pool:IPoolObject[];\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /**Creates a pool object. */\r\n    public static createPoolObject(obj:Entity, type:string) {\r\n        const poolObj = {\r\n            type,\r\n            obj,\r\n            active: false\r\n        };\r\n        ObjectPool.Pool.push(poolObj);\r\n        return poolObj;\r\n    }\r\n\r\n    /**Checks out a pool object.  Use POOL global function to access. */\r\n    public static checkout(type:string) {\r\n        const poolObj = ObjectPool._getObjectByType(type);\r\n        if(poolObj != null) {\r\n            poolObj.active = true;\r\n            return poolObj.obj;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**Returns an object to the pool. */\r\n    public static return(obj:Entity) {\r\n        const poolObj = ObjectPool._getObjectByObj(obj);\r\n        if(poolObj != null) {\r\n            poolObj.active = false;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    public static _getObjectByType(type) {\r\n        const poolObj = ObjectPool._pool.find((o => o.type == type && !o.active));\r\n        if(poolObj == null) Logging.error(\"Object not found in pool, or pool is exhausted.  Return some objects.\");\r\n        return poolObj\r\n    }\r\n    public static _getObjectByObj(obj) {\r\n        return ObjectPool._pool.find((o => o.obj == obj));\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get Pool() { \r\n        if(ObjectPool._pool == null) ObjectPool._pool = [];\r\n        return ObjectPool._pool;\r\n    }\r\n}","import { Game } from \"../Game\";\r\nimport { Entity } from \"./Entity\";\r\nimport { LoadManager } from \"../managers/LoadManager\";\r\nimport { IEnableable } from \"../Interfaces\";\r\nimport { Logging } from \"../Functions\";\r\nimport { GameScreen } from \"../screens/GameScreen\";\r\nimport { Fish } from \"./Fish\";\r\n\r\nexport class Cat extends Entity implements IEnableable {\r\n    private _speed:number;\r\n    private _fishCaughtMultiplier:number; //this will be the rate at which the cat slows down when rising per fish\r\n\r\n    private _catYTween:createjs.Tween;\r\n    private _caughtFish:Fish[];\r\n\r\n    private _isGrabbing:boolean;\r\n    private _isRising:boolean;\r\n    private _hasReachedSurface:boolean;\r\n\r\n    constructor(gameScreen:GameScreen) {\r\n        super(gameScreen, LoadManager.Spritesheets.Cat_Spritesheet);\r\n        this._speed = 3;\r\n        this._fishCaughtMultiplier = 0.05;\r\n\r\n        this._caughtFish = [];\r\n        this._isGrabbing = false;\r\n        this._isRising = false;\r\n        this._hasReachedSurface = true;\r\n\r\n        this._sprite.gotoAndPlay(Cat.ANIMATION.Idle);\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    enable() {\r\n\r\n    }\r\n\r\n    disable() {\r\n\r\n    }\r\n\r\n\r\n    /***************/\r\n    /*   ACTIONS   */\r\n    /***************/\r\n    public grab() {\r\n        //cannot grab if we are not at surface\r\n        if(!this._hasReachedSurface) return;\r\n\r\n        this._isGrabbing = true;\r\n        this._hasReachedSurface = false;\r\n\r\n        //move to x position\r\n        this.X = this.GameScreen.Game.Stage.mouseX;\r\n\r\n\r\n        console.log(\"START SPEED:\", this.Speed);\r\n\r\n        //grab to y position\r\n        const speed = (this.GameScreen.Game.Stage.mouseY / 2) * this.Speed;\r\n        this._catYTween = createjs.Tween\r\n            .get(this._sprite)\r\n            .to({ y:this.GameScreen.Game.Stage.mouseY }, speed, createjs.Ease.circIn)\r\n            .call(() => {\r\n                //once the grab is done, turn off flag\r\n                this._isGrabbing = false;\r\n\r\n                 //play animations\r\n                this._sprite.gotoAndPlay(Cat.ANIMATION.Grab);\r\n                //listen for animation to finish\r\n                (this._sprite as any).on(\"animationend\", () => {\r\n                    this._sprite.gotoAndPlay(Cat.ANIMATION.Hold);\r\n                }, true);\r\n\r\n                //try to grab a fish\r\n                const fishes = this.GameScreen.tryToGrabFishes(this.X , this.Y);\r\n                //see if a fish was grabbed\r\n                if(fishes.length > 0) this.caught(fishes);\r\n                else this.returnToSurface();\r\n            });\r\n\r\n    }\r\n\r\n    /**\r\n     * Called to return cat to surface.\r\n     */\r\n    public returnToSurface() {\r\n        this._sprite.gotoAndPlay(Cat.ANIMATION.Idle);\r\n\r\n        //remove any lingering tweens\r\n        createjs.Tween.removeTweens(this._sprite);\r\n        const speed = (this.Y / 2) * this.Speed;\r\n        this._catYTween = createjs.Tween.get(this._sprite)\r\n            .wait(150)\r\n            .to({y:20}, speed, createjs.Ease.linear)\r\n            .call(() => {\r\n                //once the surface has been reached, allow x movement again\r\n                this.reachSurface();\r\n            });\r\n    }\r\n\r\n    public caught(fishes:Fish[]) {\r\n        console.log(\"I CAUGHT\");\r\n        if(fishes.length <= 0) return;\r\n        this._isRising = true;  \r\n        \r\n        let hasNewFish = false;\r\n\r\n        fishes.forEach(f => {\r\n            if(this._caughtFish.indexOf(f) != -1) return;\r\n            hasNewFish = true;\r\n            //grab the fish\r\n            f.catch();\r\n\r\n            //add fish to caught array\r\n            this._caughtFish.push(f);\r\n\r\n            //control the fish\r\n            f.Y = this.Y;\r\n        });\r\n        \r\n        console.log(\"I WAS CAUGHT, NOW RISING\");\r\n        console.log(\"FISH CAUGHT SPEED:\", this.Speed);\r\n\r\n        if(!hasNewFish) return;\r\n        \r\n        //if we grabbed a fish...\r\n        //go back up... slowly\r\n        createjs.Tween.removeTweens(this._sprite);\r\n        const speed = this.Y * this.Speed;\r\n        this._catYTween = createjs.Tween.get(this._sprite)\r\n            .wait(250)\r\n            .to({y:-20}, speed, createjs.Ease.linear)\r\n            .call(() => {\r\n                //once the surface has been reached, allow x movement again\r\n                this.reachSurface();\r\n                this._isRising = false;\r\n            });\r\n\r\n    }\r\n    public drop() {\r\n        //release the fish\r\n        // this._caughtFish.dropped();\r\n        this._caughtFish = [];\r\n        //return quickly\r\n        this.returnToSurface();\r\n    }\r\n\r\n    /**Called when hit by an enemy. */\r\n    public injure(enemy) {\r\n        //start hurt animation\r\n        //end any current tweening\r\n        createjs.Tween.removeTweens(this._sprite);\r\n        this._sprite.gotoAndPlay(Cat.ANIMATION.Ow);\r\n        this._catYTween = createjs.Tween.get(this._sprite)\r\n            .wait(30)\r\n            .to({y:20}, 1000, createjs.Ease.linear)\r\n            .call(() => {\r\n                //once the surface has been reached, allow x movement again\r\n                this.reachSurface();\r\n                this._sprite.gotoAndPlay(Cat.ANIMATION.Idle);\r\n            });\r\n    }\r\n\r\n    public reachSurface() {\r\n        //if we have a fish, send to main logic\r\n        if(this._caughtFish != null) {\r\n            this._caughtFish.forEach(f => {\r\n                this.GameScreen.collectFish(f);\r\n            });\r\n            this._caughtFish = [];\r\n        }\r\n\r\n        this._hasReachedSurface = true;\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    update(gameTime:number) {\r\n        super.update(gameTime);\r\n\r\n\r\n        //if we are rising, attempt to catch more fish\r\n        if(this._isRising) {\r\n            console.log(\"TRY TO GRAB\");\r\n            //try to grab a fish\r\n            const fishes = this.GameScreen.tryToGrabFishes(this.X , this.Y);\r\n            //see if a fish was grabbed\r\n            if(fishes.length > 0)\r\n                this.caught(fishes);\r\n        }\r\n\r\n        //drag fish with us if we have any\r\n        if(this._caughtFish != null) {\r\n            this._caughtFish.forEach(f => {\r\n                f.Y = this.Y - 20;\r\n            });\r\n        }\r\n    }\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get GRAB_RANGE() { return 120; }\r\n    public static get ANIMATION() {\r\n        return Object.freeze({\r\n            \"Idle\" : \"cat_idle\",\r\n            \"Death\" : \"cat_death\",\r\n            \"Grab\" : \"cat_grab\",\r\n            \"Hold\" : \"cat_grab_hold\",\r\n            \"Ow\" : \"cat_ow\"\r\n        });\r\n    }\r\n    public get Speed() { \r\n        const caughtFishMult = ((this._caughtFish.length > 0) ? 1 + (this._caughtFish.length + this._fishCaughtMultiplier) : 1);\r\n        console.log(caughtFishMult);\r\n\r\n        return caughtFishMult * this._speed;\r\n    }\r\n    public set Speed(value:number) { this._speed = value; }\r\n}","import { ICreateable, IUpdateable } from \"../Interfaces\";\r\nimport { GameScreen } from \"../screens/GameScreen\";\r\nimport { Game } from \"../Game\";\r\n\r\nexport class Entity implements ICreateable<Entity>, IUpdateable {\r\n    private _gameScreen:GameScreen;\r\n    protected _name:string;\r\n    protected _sprite:createjs.Sprite;\r\n    protected _direction:{ x:number, y:number };\r\n    private _scaling:number;\r\n\r\n    private _isIgnoringCollision:boolean;\r\n    private _ignoreCollisionTimer:number;\r\n\r\n    constructor(gameScreen:GameScreen, spritesheet:createjs.SpriteSheet) {\r\n        this._gameScreen = gameScreen;\r\n        this._sprite = new createjs.Sprite(spritesheet);\r\n        this._direction = { x:1, y:1 };\r\n\r\n        this._isIgnoringCollision = false;\r\n        this._ignoreCollisionTimer = 0;\r\n\r\n        //get the game scale\r\n        this._scaling = this._gameScreen.Game.Scaling;\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    public create(container:createjs.Container):Entity {\r\n        (this._sprite as any).scale = this._scaling;\r\n        //move to main container\r\n        if(container == null)\r\n            this._gameScreen.Game.Stage.addChild(this._sprite);\r\n        else\r\n            container.addChild(this._sprite);\r\n        return this;\r\n    }\r\n\r\n    public destroy():Entity {\r\n        if(this._sprite == null || this._sprite.parent == null) return null;\r\n\r\n        //remove from main container\r\n        this._sprite.parent.removeChild(this._sprite);\r\n\r\n        return this;\r\n    }\r\n\r\n    public update(gameTime:number) {\r\n\r\n         //listen for collision ignore\r\n        if(this._isIgnoringCollision) {\r\n            this._ignoreCollisionTimer++;\r\n\r\n            if(this._ignoreCollisionTimer > Entity.IGNORE_COLLISION)\r\n                this._isIgnoringCollision = false;\r\n        }\r\n    }\r\n\r\n    protected startIgnoreCollision() {\r\n        this._isIgnoringCollision = true\r\n    }\r\n\r\n    protected testStageBounds(artificialReg:{x:number, y:number} = null) {\r\n        let reg = { x:this._sprite.regX, y:this._sprite.regY };\r\n        if(artificialReg != null) {\r\n            reg = {\r\n                x: (this._direction.x > 0) ? this.Bounds.Width * artificialReg.x : (this.Bounds.Width * (1 - artificialReg.x)),\r\n                y: (this._direction.y > 0) ? this.Bounds.Height * artificialReg.y : (this.Bounds.Height * (1 - artificialReg.y))\r\n            }\r\n        }\r\n        // const bounds = { width:this._game.StageWidth, height: this._game.StageHeight };\r\n        const bounds = { width:this._gameScreen.Game.StageWidth, height: this._gameScreen.Game.StageHeight };\r\n        const extents = {   \r\n            x:(this._direction.x > 0) ? (this.Bounds.Width - reg.x) : -reg.x, \r\n            y:(this._direction.y > 0) ? (this.Bounds.Height - reg.y) : -reg.y \r\n        };\r\n\r\n        //test walls\r\n        if((this.X + extents.x) > bounds.width) return Entity.HIT.Right;\r\n        else if(this.X + extents.x < 0) return Entity.HIT.Left;\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get IGNORE_COLLISION() { return 20; }\r\n    public static get HIT() { return Object.freeze({Top:0, Right:1, Bottom:2, Left:3}); }\r\n\r\n    protected get GameScreen() { return this._gameScreen; }\r\n\r\n    public get Sprite() { return this._sprite; }\r\n    public get Parent() { return this._sprite.parent; }\r\n\r\n    public get X() { return this._sprite.x; }\r\n    public set X(value) { this._sprite.x = value; }\r\n    public get Y() { return this._sprite.y; }\r\n    public set Y(value) { this._sprite.y = value; }\r\n\r\n    public set DirectionX(value) { \r\n        const lastX = this._direction.x;\r\n        this._direction.x = value; \r\n        //flip sprite if our direction has changed\r\n        if(this._direction.x != lastX) this._sprite.scaleX *= -1;\r\n    }\r\n\r\n    public get Bounds() { \r\n        let bounds = this._sprite.getBounds();\r\n        return  { Width:bounds.width, Height:bounds.height };\r\n    }\r\n\r\n    public get IsIgnoringCollision() { return this._isIgnoringCollision; }\r\n}","import { Game } from \"../Game\";\r\nimport { Entity } from \"./Entity\";\r\nimport { LoadManager } from \"../managers/LoadManager\";\r\nimport { IEnableable } from \"../Interfaces\";\r\nimport { Logging } from \"../Functions\";\r\nimport { GameScreen } from \"../screens/GameScreen\";\r\n\r\nexport class Fish extends Entity implements IEnableable {\r\n    private _speed:number;\r\n    private _naturalY:number;\r\n\r\n    private _isCaught:boolean;\r\n\r\n    constructor(gameScreen:GameScreen) {\r\n        super(gameScreen, LoadManager.Spritesheets.Fish_Spritesheet);\r\n        this._speed = 1;\r\n\r\n        this._isCaught = false;\r\n\r\n        this._sprite.gotoAndPlay(Fish.ANIMATION.Slow);\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    \r\n\r\n\r\n    /***************/\r\n    /*   ACTIONS   */\r\n    /***************/\r\n    public setNaturalY() {\r\n        this._naturalY = this.Y;\r\n    }\r\n\r\n    public catch() {\r\n        if(this._isCaught) return;\r\n        \r\n        Logging.message(\"Fish was grabbed!\");\r\n        this._isCaught = true;\r\n\r\n        this._sprite.gotoAndPlay(Fish.ANIMATION.Panic);\r\n    }\r\n\r\n\r\n    /**Test to see if global position hits sprite. */\r\n    public testHit(x:number, y:number):boolean {\r\n        return this._sprite.hitTest(x, y);\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    destroy() {\r\n        this.disable();\r\n        return super.destroy();\r\n    }\r\n\r\n    update(gameTime:number) {\r\n        super.update(gameTime);\r\n\r\n        //move the fishy\r\n        if(!this._isCaught)\r\n            this.X += this._speed * gameTime * this._direction.x;\r\n\r\n        //test collision\r\n        if(!this.IsIgnoringCollision) {\r\n\r\n            //if fish hits the edge, flip direction\r\n            const hit = this.testStageBounds({x:0.5, y:0.5});\r\n            switch(hit) {\r\n                case Entity.HIT.Right:\r\n                    this._direction.x *= -1;\r\n                    this._sprite.scaleX *= -1;\r\n                    this.startIgnoreCollision();\r\n                    this.X -= 5 - this.Bounds.Width;\r\n                    break;\r\n                case Entity.HIT.Left:\r\n                    this._direction.x *= -1;\r\n                    this._sprite.scaleX *= -1;\r\n                    this.startIgnoreCollision();\r\n                    this.X += 5 - this.Bounds.Width;\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    enable() {\r\n\r\n    }\r\n\r\n    disable() {\r\n\r\n    }\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get ANIMATION() {\r\n        return Object.freeze({\r\n            \"Slow\" : \"fish_swim_slow\",\r\n            \"Fast\" : \"fish_swim_fast\",\r\n            \"Panic\" : \"fish_swim_panic\"\r\n        });\r\n    }\r\n    public get Speed() { return this._speed; }\r\n    public set Speed(value:number) { this._speed = value; }\r\n}","import { Game } from \"./Game\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    const game = new Game(document.getElementById(\"game-canvas\") as HTMLCanvasElement);\r\n});","import { Screen } from \"../screens/Screen\";\r\n\r\nexport interface WorldsData {\r\n    worlds:LevelData[];\r\n}\r\n\r\nexport interface LevelData {\r\n    name:string;\r\n    data:any[];\r\n}\r\n\r\nexport class DataManager {\r\n    private static _worldsData:WorldsData;\r\n\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /**Loads in the worlds data! */\r\n    public static loadWorldsData(fileLocation:string) {\r\n        return new Promise<WorldsData>(async(res, rej) => {\r\n            await fetch(fileLocation)\r\n                .then(blob => blob.json())\r\n                .then(json => {\r\n                    this._worldsData = json;\r\n                    res(this._worldsData);\r\n                })\r\n                .catch(err => {\r\n                    rej(\"Could not load world data! \" + err);\r\n                });\r\n        });\r\n    }\r\n\r\n    /**Returns the level data received by the given index. */\r\n    public static getLevelDataByIndex(index:number) {\r\n        //flatten level data, and get data\r\n        let flatten = [].concat.apply([], DataManager._worldsData.worlds);\r\n        return flatten[index];\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get WorldsData():WorldsData { return DataManager._worldsData; }\r\n}","export class LoadManager {\r\n    public static get ASSETS_LOADED():string { return \"onAssetsLoaded\"; }\r\n    public static get ASSETS_FAILED():string { return \"onAssetsFailed\"; }\r\n    public static get ASSETS_UPDATED():string { return \"onAssetsUpdated\"; }\r\n\r\n    public static Spritesheets:{ [key:string]:createjs.SpriteSheet } = {};\r\n    public static Images:{ [key:string]:createjs.Bitmap } = {};\r\n\r\n    private static _stage:createjs.StageGL;\r\n    private static _preloadManager:createjs.LoadQueue;\r\n    private static _sheetsTotal:number = 0;\r\n    private static _sheetsLoaded:number = 0;\r\n\r\n    private static _percentage:number = 0;\r\n    private static _totalAssetsLoaded:number = 0;\r\n    private static _totalAssets:number = 0;\r\n\r\n    private static AssetsLoadedEvent:any = new (createjs as any).Event(LoadManager.ASSETS_LOADED, false, true);\r\n    private static AssetsFailedEvent:any = new (createjs as any).Event(LoadManager.ASSETS_FAILED, false, true);\r\n    private static AssetsUpdatedEvent:any = new (createjs as any).Event(LoadManager.ASSETS_UPDATED, false, true);\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    public static reset() {\r\n        LoadManager._sheetsTotal = 0;\r\n        LoadManager._sheetsLoaded = 0;\r\n\r\n        LoadManager._percentage = 0;\r\n        LoadManager._totalAssetsLoaded = 0;\r\n        LoadManager._totalAssets = 0;\r\n    }\r\n\r\n    public static loadAssets(src:string, stage:createjs.StageGL) {\r\n        LoadManager.reset();\r\n        LoadManager._stage = stage;\r\n\r\n        return new Promise(async(res, rej) => {\r\n            LoadManager._preloadManager = new createjs.LoadQueue();\r\n\r\n            //setup sound controllers\r\n            createjs.Sound.registerPlugins([createjs.WebAudioPlugin, createjs.HTMLAudioPlugin, createjs.FlashAudioPlugin]);\r\n            createjs.Sound.alternateExtensions = [\"mp3\",\"wav\"];\r\n            LoadManager._preloadManager.installPlugin(createjs.Sound);\r\n\r\n            //setup listeners\r\n            (LoadManager._preloadManager as any).on(\"fileload\", LoadManager._onLoaded, LoadManager);\r\n            (LoadManager._preloadManager as any).on(\"complete\", LoadManager._onComplete, LoadManager);\r\n            (LoadManager._preloadManager as any).on(\"error\", LoadManager._onError, LoadManager);\r\n\r\n            //get the manifest\r\n            fetch(src)\r\n                .then(blob => blob.json())\r\n                .then(data => {\r\n                    //load the manifest\r\n                    LoadManager._preloadManager.setMaxConnections(1);\r\n                    LoadManager._preloadManager.loadManifest(data);\r\n\r\n                    (LoadManager._stage as any).addEventListener(LoadManager.ASSETS_LOADED, () => {\r\n                        res();\r\n                    });\r\n                })\r\n                .catch(() => {\r\n                    LoadManager.emitErrorEvent();\r\n                    rej(\"Could not load assets!\");\r\n                });\r\n\r\n\r\n        });\r\n\r\n    }\r\n\r\n\r\n    public static emitLoadedEvent() {\r\n        if(LoadManager._stage != null) (LoadManager._stage as any).dispatchEvent(LoadManager.AssetsLoadedEvent);\r\n    }\r\n    public static emitErrorEvent() {\r\n        if(LoadManager._stage != null) (LoadManager._stage as any).dispatchEvent(LoadManager.AssetsFailedEvent);\r\n    }\r\n    public static emitUpdatedEvent() {\r\n        LoadManager._percentage = parseFloat((LoadManager._preloadManager.getItems(true).length / LoadManager._preloadManager.getItems(false).length).toFixed(2));\r\n        if(LoadManager._stage != null) (LoadManager._stage as any).dispatchEvent(LoadManager.AssetsUpdatedEvent);\r\n    }\r\n\r\n\r\n    private static _loadedSheet(name:string, sheet:createjs.SpriteSheet) {\r\n        LoadManager.Spritesheets[name] = sheet;\r\n\r\n        LoadManager._sheetsLoaded++;\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    private static _onLoaded(e) {\r\n\r\n        console.log(\"asset loaded: \" + e.item.src + \" type: \" + e.item.type);\r\n\r\n        switch(e.item.type) {\r\n            case (createjs as any).Types.JAVASCRIPT: {\r\n                //load the spritesheet\r\n                LoadManager._sheetsTotal++;\r\n                \r\n                const sheet = (window[e.item.id] as any)._SpriteSheet;\r\n\r\n                // listen for spritesheet to load\r\n                if(!sheet.complete) {\r\n                    sheet.on(\"complete\", (ev:any) => {\r\n                        LoadManager._loadedSheet(e.item.id, sheet);\r\n                        ev.remove();\r\n                    })\r\n                }\r\n                else LoadManager._loadedSheet(e.item.id, sheet);\r\n                break\r\n            }\r\n            case (createjs as any).Types.IMAGE: {\r\n                //build the bitmap\r\n                LoadManager.Images[e.item.id] = new createjs.Bitmap(e.item.src);\r\n            }\r\n        }\r\n\r\n\r\n\r\n        //update event\r\n        LoadManager.emitUpdatedEvent();\r\n    }\r\n\r\n    private static _onComplete(e) {\r\n        //remove all preLoadManager events\r\n        (LoadManager._preloadManager as any).removeAllEventListeners();\r\n        \r\n        //make sure all spritesheets are loaded\r\n        if(LoadManager._sheetsLoaded < LoadManager._sheetsTotal) {\r\n            const loadInterval = setInterval((ev:any) => {\r\n                //see if they are loaded\r\n                if(LoadManager._sheetsLoaded >= LoadManager._sheetsTotal) {\r\n                    e.remove();\r\n                    // window.clearInterval(loadInterval);\r\n                    LoadManager.emitLoadedEvent();\r\n                }\r\n            }, 100)\r\n        }\r\n        else LoadManager.emitLoadedEvent();\r\n    }\r\n\r\n    private static _onError(e) {\r\n        LoadManager.emitErrorEvent();\r\n    }\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get Percentage():number { return LoadManager._percentage; }\r\n    \r\n\r\n\r\n\r\n}","import { Screen } from \"../screens/Screen\";\r\n\r\nexport class ScreenManager {\r\n    private static _screensLookup:{ [key:string]:Screen } = { };\r\n    private static _currentScreen:Screen = null;\r\n\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /**Registers a screen into the Screen Manager.  Uses a key to associate it. */\r\n    public static registerScreen(key:string, screen:Screen):void {\r\n        //if we don't have this screen, add it\r\n        if(ScreenManager._screensLookup[key] == null)\r\n            ScreenManager._screensLookup[key] = screen;\r\n    }\r\n\r\n    /**Unregisters a screen from the Screen Manager. */\r\n    public static unregisterScreen(key:string):boolean {\r\n        if(ScreenManager._screensLookup[key] == null) return false;\r\n\r\n        ScreenManager._screensLookup[key] = null;\r\n        delete ScreenManager._screensLookup[key];\r\n        return true;\r\n    }\r\n\r\n    /**Sets the current screen.  Can be done with the screen itself or an associative key. */\r\n    public static setCurrentScreen(screen:string | Screen, stage:createjs.StageGL):Promise<void> {\r\n        let tempScreen = null;\r\n        if(screen instanceof Screen) tempScreen = screen;\r\n        else tempScreen = ScreenManager._screensLookup[screen];\r\n\r\n        //if we did not find a screen, do not follow through\r\n        if(tempScreen == null) return Promise.resolve();\r\n\r\n        let promises = [];\r\n        //if we have a previous screen, wait for it to fade out\r\n        if(ScreenManager._currentScreen != null)\r\n        promises.push(\r\n            new Promise(async(res) => {\r\n                //fade out\r\n                createjs.Tween\r\n                    .get(ScreenManager._currentScreen.Container)\r\n                    .to({ alpha:0 }, 500, createjs.Ease.linear)\r\n                    .call(() => {\r\n                        ScreenManager._currentScreen.destroy();\r\n                        res();\r\n                    });\r\n            })\r\n        );\r\n\r\n\r\n        //wait for certain actions to finish\r\n        return new Promise(async(res) => {\r\n            //wait for promises to finish\r\n            await Promise.all(promises);\r\n\r\n            //now add in the new one\r\n            ScreenManager._currentScreen = tempScreen;\r\n            ScreenManager._currentScreen.create(stage);\r\n            ScreenManager._currentScreen.Container.alpha = 0;\r\n            ScreenManager._currentScreen.disable(); //disable until ready\r\n            console.log(\"FADE IN\")\r\n            //fade in\r\n            createjs.Tween\r\n                .get(ScreenManager._currentScreen.Container)\r\n                .to({ alpha:1 }, 1200, createjs.Ease.linear)\r\n                .call(() => {\r\n                    console.log(\"DONE\");\r\n                    ScreenManager._currentScreen.enable();\r\n                    res();\r\n                });\r\n\r\n        });\r\n    }\r\n\r\n    public static getScreenByKey(key:string):Screen {\r\n        return ScreenManager._screensLookup[key];\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get AllScreens() { return ScreenManager._screensLookup; }\r\n    public static get CurrentScreen() { return ScreenManager._currentScreen; }\r\n}","import { Screen } from \"./Screen\";\r\nimport { ScreenManager } from \"../managers/ScreenManager\";\r\n\r\nexport class EndScreen extends Screen {\r\n    private _splash:createjs.Shape;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    create(stage:createjs.StageGL):Screen {\r\n        //add stuff\r\n        this._splash = new createjs.Shape();\r\n        this._splash.graphics.beginFill(\"pink\");\r\n        this._splash.graphics.drawRect(0, 0, 200, 100);\r\n        this._splash.graphics.endFill();\r\n        this._splash.cache(0, 0, 200, 100);\r\n        this._container.addChild(this._splash);\r\n        super.create(stage);\r\n\r\n         //for testing\r\n        (this._container as any).on(\"click\", (e) => {\r\n            ScreenManager.setCurrentScreen(\"end\", stage);\r\n        }, this, true);\r\n\r\n        return null;\r\n    }\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n}","import { Screen } from \"./Screen\";\r\nimport { ScreenManager } from \"../managers/ScreenManager\";\r\nimport { ObjectPool } from \"../ObjectPool\";\r\nimport { Fish } from \"../entities/Fish\";\r\nimport { Cat } from \"../entities/Cat\";\r\nimport { Game } from \"../Game\";\r\nimport { Container } from \"../ui/display/Container\";\r\nimport { Sprites } from \"../ui/Sprites\";\r\nimport { Logging } from \"../Functions\";\r\nimport { LevelData } from \"../managers/DataManager\";\r\nimport { LoadManager } from \"../managers/LoadManager\";\r\n\r\nexport class GameScreen extends Screen {\r\n    private _game:Game;\r\n    private _levelData:LevelData;\r\n\r\n    //create containers\r\n    private _staticContainer:Container;\r\n    private _fishContainer:createjs.Container;\r\n\r\n    private _winContainer:createjs.Container;\r\n    private _winBanner:createjs.Shape;\r\n    private _winText:createjs.BitmapText;\r\n\r\n    private _cat:Cat;\r\n    private _fishes:Fish[];\r\n    \r\n    private _remainingFish:number;\r\n    \r\n    constructor(game:Game) {\r\n        super();\r\n        this._game = game;\r\n        this._fishes = [];\r\n        this._remainingFish = -1;\r\n        this._levelData = null;\r\n\r\n        //create object pool\r\n        ObjectPool.createPoolObject(new Cat(this), POOL.CAT)\r\n        for(let i = 0; i < 120; i++) {\r\n            ObjectPool.createPoolObject(new Fish(this), POOL.FISH);\r\n        }\r\n        // for(let i = 0; i < 30; i++) {\r\n        //     ObjectPool.createPoolObject(new Puffer(this._game), POOL.PUFFERFISH)\r\n        // }\r\n\r\n\r\n        //pool out static kitty\r\n        this._cat = (ObjectPool.checkout(POOL.CAT) as Cat);\r\n\r\n        //create containers\r\n        this._staticContainer = new Container();\r\n        this._staticContainer.addMany({\r\n            bg : Sprites.Backgrounds.BG\r\n        });\r\n\r\n        this._fishContainer = new createjs.Container();\r\n\r\n        this._winContainer = new createjs.Container();\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n\r\n    /**Attempts to grab a fish.  Returns any fish that are touching the global position. */\r\n    public tryToGrabFishes(x:number, y:number):Fish[] {\r\n        let fishes = [];\r\n\r\n        //see if any fish is grabbable at these coords and return if so\r\n        //for each fish, test the distance and return if close\r\n        for(let i = 0; i < this._fishes.length; i++) {\r\n            const fish = this._fishes[i];\r\n\r\n            const localPos = fish.Sprite.globalToLocal(x, y);\r\n            const hitFish = fish.testHit(localPos.x, localPos.y);\r\n\r\n            if(hitFish) {\r\n                fishes.push(fish);\r\n            }\r\n        }\r\n        //if no fish was caught, return null\r\n        return fishes;\r\n    }\r\n\r\n    public collectFish(fish:Fish) {\r\n        //get fish\r\n        Logging.success(\"GOT FISH!\");\r\n\r\n        const killedFish = fish.destroy();\r\n\r\n        //decrement fish counter -- make sure we didn't make an error\r\n        if(killedFish != null) {\r\n            this._remainingFish--;\r\n\r\n            //if all our fish are gone, end the game!\r\n            if(this._remainingFish <= 0) {\r\n                //win game!\r\n                Logging.success(\"GAME IS OVER!\");\r\n                this.win();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public win() {\r\n        this.disable();\r\n        //show win banner\r\n        createjs.Tween.get(this._winContainer)\r\n            .to({y:this._game.StageHeight / 2 - 25}, 600, createjs.Ease.elasticOut)\r\n            .wait(2000)\r\n            .call(() => {\r\n                //transition to end screen\r\n                ScreenManager.setCurrentScreen(\"end\", this._game.Stage);\r\n                // ScreenManager.setCurrentScreen(\"menu\", this._game.Stage);\r\n            });\r\n    }\r\n\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    public create(stage:createjs.StageGL):Screen {\r\n        super.create(stage);\r\n        //add stuff\r\n        this._staticContainer.checkoutSprites();\r\n        this._staticContainer.Sprites.bg.y = 0;\r\n        this._container.addChild(this._staticContainer.Container);\r\n\r\n        this._container.addChild(this._fishContainer);\r\n\r\n        //add conditional text\r\n        this._winBanner = new createjs.Shape();\r\n        this._winBanner.graphics.beginFill(\"black\");\r\n        this._winBanner.graphics.drawRect(0, 0, this._game.StageWidth, 50);\r\n        this._winBanner.cache(0, 0, this._game.StageWidth, 50);\r\n        this._winContainer.addChild(this._winBanner);\r\n        this._winText = Sprites.generateBitmapText(\"Win!\", LoadManager.Spritesheets.TypographyWhite);\r\n        this._winContainer.addChild(this._winText);\r\n        this._winText.x = (this._game.StageWidth / 2) - (this._winText.getBounds().width / 2);\r\n\r\n        this._container.addChild(this._winContainer);\r\n        this._winContainer. y = this._game.StageHeight + 50;\r\n        this._winContainer.mouseEnabled = false;\r\n\r\n        \r\n        this._cat.create(this._container);\r\n\r\n\r\n        //add level data if it exists\r\n        if(this._levelData != null) {\r\n            //load in critters\r\n            for(let i = 0; i < this._levelData.data.length; i++) {\r\n                const data = this._levelData.data[i];\r\n                switch(data.id) {\r\n                    case POOL.FISH:\r\n                        const fish = (ObjectPool.checkout(POOL.FISH) as Fish);\r\n                        fish.create(this._fishContainer);\r\n                        if(data.speed != null) fish.Speed = data.speed; //set variables\r\n                        if(data.x != null) fish.X = data.x;\r\n                        if(data.y != null) fish.Y = data.y;\r\n                        if(data.flip != null && data.flip) fish.DirectionX = -1;\r\n                        fish.setNaturalY();\r\n                        this._fishes.push(fish);\r\n                        break;\r\n                }      \r\n            }\r\n\r\n            //set fish total\r\n            this._remainingFish = this._fishes.length;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public destroy() {\r\n        this._cat.destroy();\r\n        this._fishes.forEach(f => f.destroy());\r\n        this._fishContainer.removeAllChildren();\r\n\r\n        this._fishes = [];\r\n\r\n        return super.destroy();\r\n    }\r\n\r\n    public update(gameTime:number) {\r\n        const normalizedTime = Math.min(1, gameTime) + 0.5;\r\n\r\n        //update entities\r\n        this._fishes.forEach(fish => {\r\n            fish.update(normalizedTime);\r\n        });\r\n\r\n        this._cat.update(normalizedTime);\r\n\r\n        super.update(gameTime);\r\n    }\r\n\r\n    public enable() {\r\n        (this._container as any).on(\"click\", this._cat.grab, this._cat);\r\n    }\r\n\r\n    public disable() {\r\n        (this._container as any).removeAllEventListeners();\r\n    }\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public get Game() { return this._game; }\r\n\r\n    public set LevelData(data:LevelData) { this._levelData = data; }\r\n}\r\n\r\n\r\n\r\nexport class POOL { \r\n    static get CAT() { return \"cat\"; }\r\n    static get FISH() { return \"fish\"; }\r\n    static get PUFFERFISH() { return \"puffer\"; }\r\n}","import { Screen } from \"./Screen\";\r\nimport { ScreenManager } from \"../managers/ScreenManager\";\r\nimport { Sprites } from \"../ui/Sprites\";\r\nimport { Game } from \"../Game\";\r\nimport { LoadManager } from \"../managers/LoadManager\";\r\n\r\nexport class IntermediaryScreen extends Screen {\r\n    private _game:Game;\r\n    private _bg:createjs.Shape;\r\n    private _textContainer:createjs.Container;\r\n\r\n    private _text:string;\r\n    \r\n    constructor(game:Game) {\r\n        super();\r\n        this._game = game;\r\n\r\n        this._text = \"\";\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /**Chooses the screen to load in after the intermediary. */\r\n    public queueNextScreen(screenKey:string, duration:number=3000) {\r\n        const evt = window.setTimeout(() => {\r\n            //load the screen\r\n            ScreenManager.setCurrentScreen(screenKey, this._game.Stage);\r\n            //clear the timeout\r\n            window.clearTimeout(evt);\r\n        }, duration);\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    public create(stage:createjs.StageGL):Screen {\r\n        //add stuff\r\n        this._bg = new createjs.Shape();\r\n        this._bg.graphics.beginFill(\"#191919\");\r\n        this._bg.graphics.drawRect(0, 0, this._game.StageWidth, this._game.StageHeight);\r\n        this._bg.graphics.endFill();\r\n        this._bg.cache(0, 0, this._game.StageWidth, this._game.StageHeight);\r\n        this._container.addChild(this._bg);\r\n\r\n        this._textContainer = new createjs.Container();\r\n        this._container.addChild(this._textContainer);\r\n\r\n        super.create(stage);\r\n\r\n        //for testing\r\n        (this._container as any).on(\"click\", (e) => {\r\n            ScreenManager.setCurrentScreen(\"menu\", stage);\r\n        }, this, true);\r\n\r\n        if(this._text != \"\") {\r\n            //create the text\r\n            const text = Sprites.generateBitmapText(this._text, LoadManager.Spritesheets.TypographyWhite);\r\n            (text as any).scale = 0.6;\r\n            // const text = createjs.Sprites.generateText(value);\r\n            //load into container\r\n            this._textContainer.removeAllChildren();\r\n            this._textContainer.addChild(text);\r\n    \r\n            //put container at bottom\r\n            this._textContainer.x = (this._game.StageWidth / 2) - ((text.getBounds().width / 2) * 0.6);\r\n            this._textContainer.y = (this._game.StageHeight / 2) - (text.getBounds().height / 2);\r\n        }\r\n        else {\r\n            this._textContainer.removeAllChildren();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public set Text(value:string) {\r\n        this._text = value;\r\n    }\r\n}","import { Screen } from \"./Screen\";\r\nimport { ScreenManager } from \"../managers/ScreenManager\";\r\nimport { Sprites } from \"../ui/Sprites\";\r\nimport { Layout } from \"../ui/display/Layout\";\r\nimport { LoadManager } from \"../managers/LoadManager\";\r\nimport { Container } from \"../ui/display/Container\";\r\nimport { Logging } from \"../Functions\";\r\nimport { Game } from \"../Game\";\r\nimport { LevelSelectDisplay } from \"../ui/custom/LevelSelectDisplay\";\r\nimport { IntermediaryScreen } from \"./IntermediaryScreen\";\r\nimport { GameScreen } from \"./GameScreen\";\r\nimport { DataManager } from \"../managers/DataManager\";\r\n\r\nexport class MenuScreen extends Screen {\r\n    private _game:Game;\r\n    //containers\r\n    private _swipeContainer:createjs.Container;\r\n    private _staticContainer:Container;\r\n    private _mainContainer:Container;\r\n    private _clearedContainer:Container;\r\n    private _optionsContainer:Container;\r\n    private _levelSelectContainer:Container;\r\n\r\n    //custom containers\r\n    private _levelSelectDisplay:LevelSelectDisplay;\r\n\r\n    //properties\r\n    private _swipeSpeed:number;\r\n    private _currentScreen:string;\r\n    private _initialSwipePos:{x:number, y:number};\r\n    private _dragTimer:any;\r\n\r\n    \r\n    constructor(game:Game) {\r\n        super();\r\n\r\n        this._game = game;\r\n\r\n        //setup swipe container -- holds all moving sprites\r\n        this._swipeContainer = new createjs.Container();\r\n\r\n        //setup static container\r\n        this._staticContainer = new Container();\r\n        this._staticContainer.addMany({\r\n            bg : Sprites.Backgrounds.BG\r\n        });\r\n\r\n        //setup main container\r\n        this._mainContainer = new Container();\r\n        this._mainContainer.addMany({\r\n            logo : Sprites.Backgrounds.Logo,\r\n            fishbowl : Sprites.Buttons.Fishbowl,\r\n            btnNewGame : Sprites.Buttons.NewGame,\r\n            btnOptions : Sprites.Buttons.Options,\r\n            btnLevelSelect : Sprites.Buttons.LevelSelect,\r\n            btnExit : Sprites.Buttons.Exit\r\n        });\r\n\r\n        //setup options container\r\n        this._optionsContainer = new Container();\r\n        this._optionsContainer.addMany({\r\n            txtOptions : Sprites.generateBitmapText(\"Options\", LoadManager.Spritesheets.Typography),\r\n            btnClearData : Sprites.Buttons.ClearData\r\n        });\r\n        this._optionsContainer.Container.x -= this._game.StageWidth;\r\n\r\n        //setup cleared container\r\n        this._clearedContainer = new Container();\r\n        this._clearedContainer.add(\"txtCleared\", Sprites.generateBitmapText(\"Data successfully cleared!\", LoadManager.Spritesheets.Typography));\r\n        this._clearedContainer.Container.x -= this._game.StageWidth;\r\n        this._clearedContainer.Container.y -= this._game.StageHeight;\r\n\r\n        //setup level select container\r\n        // this._levelSelectContainer = new Container();\r\n        // this._levelSelectContainer.addMany({\r\n        //     txtOptions : Sprites.generateBitmapText(\"Level Select\", LoadManager.Spritesheets.Typography),\r\n        //     // staticBG : Sprites.Backgrounds.LevelSelectBG,\r\n        //     // // levels : this._levelSelectLevelsContainer.Container\r\n        //     // level1 : Sprites.cloneSprite(Sprites.Buttons.LevelEmpty as Sprite),\r\n        //     // level2 : Sprites.cloneSprite(Sprites.Buttons.LevelEmpty as Sprite)\r\n        // });\r\n        // this._levelSelectDisplay = new LevelSelectDisplay();\r\n        // this._levelSelectContainer.add(\"levelSelect\", this._levelSelectDisplay.Container);\r\n        // this._levelSelectContainer.Container.x += this._game.StageWidth;\r\n\r\n        this._levelSelectDisplay = new LevelSelectDisplay(game);\r\n        this._levelSelectDisplay.Container.x += this._game.StageWidth;\r\n\r\n\r\n        //setup properties\r\n        this._swipeSpeed = 800;\r\n        this._currentScreen = \"main\";\r\n        this._initialSwipePos = { x:-1, y:-1 };\r\n\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    private _onNewGame() {\r\n        Logging.message(\"Go to new game!\");\r\n        \r\n        const data = DataManager.getLevelDataByIndex(0);\r\n        (ScreenManager.getScreenByKey(\"game\") as GameScreen).LevelData = data;\r\n        \r\n        const intermediary = ScreenManager.getScreenByKey(\"intermediary\") as IntermediaryScreen;\r\n        new Promise(async(res) => {\r\n            intermediary.Text = data.name;\r\n            await ScreenManager.setCurrentScreen(intermediary, this.Stage);\r\n            intermediary.queueNextScreen(\"game\");\r\n\r\n            res();\r\n        });\r\n    }\r\n    private _onOptions() {\r\n        //go to options!\r\n        Logging.message(\"Go to options!\");\r\n        createjs.Tween.get(this._swipeContainer).to({x:this._game.StageWidth}, this._swipeSpeed, createjs.Ease.circOut);\r\n        this._currentScreen = \"options\";\r\n    }\r\n    private _onLevelSelect() {\r\n        Logging.message(\"Go to level select!\");\r\n        createjs.Tween.get(this._swipeContainer).to({x:-this._game.StageWidth}, this._swipeSpeed, createjs.Ease.circOut);\r\n        this._currentScreen = \"levelSelect\";\r\n    }\r\n    private _onExit() {\r\n        Logging.message(\"Go to exit!\");\r\n    }\r\n\r\n    private _onMain() {\r\n        Logging.message(\"Go to main!\");\r\n        createjs.Tween.get(this._swipeContainer).to({x:0}, this._swipeSpeed, createjs.Ease.bounceOut);\r\n        this._currentScreen = \"main\";\r\n    }\r\n\r\n    private _onClearData() {\r\n        Logging.success(\"Cleared data!\");\r\n        createjs.Tween.get(this._swipeContainer).to({x:this._game.StageWidth, y:this._game.StageHeight}, this._swipeSpeed, createjs.Ease.cubicIn);\r\n        // this._currentScreen = \"cleared\"\r\n        let e = window.setTimeout(() => {\r\n            createjs.Tween.get(this._swipeContainer).to({x:this._game.StageWidth, y:0}, this._swipeSpeed, createjs.Ease.cubicInOut);\r\n            window.clearInterval(e);\r\n            this._currentScreen = \"options\";\r\n        }, 2000);\r\n    }\r\n\r\n    private _onDragStart(e) {\r\n\r\n        this._initialSwipePos = { x:e.stageX, y:e.stageY };\r\n\r\n        //reset drag timer if not null\r\n        if(this._dragTimer != null) window.clearTimeout(this._dragTimer);\r\n        this._dragTimer = setTimeout(() => {\r\n            this._initialSwipePos = { x:-1, y:-1 };\r\n            this._dragTimer = null;\r\n        }, 500);\r\n    }\r\n    private _onDragEnd(e) {\r\n        if(this._initialSwipePos.x != -1 || this._initialSwipePos.y != -1) {\r\n            //find the direction\r\n            if((this._initialSwipePos.x - e.stageX) > 20) {\r\n                if(this._currentScreen == \"options\")\r\n                    this._onMain();\r\n            }\r\n            else if((this._initialSwipePos.x - e.stageX) < -20) {\r\n                if(this._currentScreen == \"levelSelect\")\r\n                    this._onMain();\r\n            }\r\n        }\r\n    }\r\n\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    public create(stage:createjs.StageGL):Screen {\r\n\r\n        //add in the containers\r\n        this._staticContainer.checkoutSprites();\r\n        this._staticContainer.Sprites.bg.y = 0;\r\n        this._container.addChild(this._staticContainer.Container);\r\n        this._container.addChild(this._swipeContainer);\r\n        this._swipeContainer.addChild(this._mainContainer.Container);\r\n        this._swipeContainer.addChild(this._optionsContainer.Container);\r\n        this._swipeContainer.addChild(this._clearedContainer.Container);\r\n        // this._swipeContainer.addChild(this._levelSelectContainer.Container);\r\n        \r\n        this._swipeContainer.addChild(this._levelSelectDisplay.Container);\r\n\r\n        super.create(stage);\r\n\r\n        return null;\r\n    }\r\n\r\n    public enable() {\r\n        super.enable();\r\n        //listen to events\r\n        (this._mainContainer.Sprites.btnNewGame as any).on(\"click\", this._onNewGame, this, true);\r\n        (this._mainContainer.Sprites.btnOptions as any).on(\"click\", this._onOptions, this);\r\n        (this._mainContainer.Sprites.btnLevelSelect as any).on(\"click\", this._onLevelSelect, this);\r\n        (this._mainContainer.Sprites.btnExit as any).on(\"click\", this._onExit, this);\r\n\r\n        Sprites.listenToClearData();\r\n        (this._optionsContainer.Sprites.btnClearData as any).on(Sprites.CLEAR_DATA, this._onClearData, this);\r\n\r\n        //listen for swipes\r\n        (this._staticContainer.Sprites.bg as any).on(\"mousedown\", this._onDragStart, this);\r\n        (this._staticContainer.Sprites.bg as any).on(\"click\", this._onDragEnd, this);\r\n\r\n        // this._mainContainer.Sprites.btnOptions.on(\"click\", () => console.log(\"HELLO I CLIC\"));\r\n\r\n        this._levelSelectDisplay.enable();\r\n    }\r\n\r\n    public disable() {\r\n        super.disable();\r\n        //stop listen to events\r\n        (this._mainContainer.Sprites.btnNewGame as any).off(\"click\", this._onNewGame);\r\n        (this._mainContainer.Sprites.btnOptions as any).off(\"click\", this._onOptions);\r\n        (this._mainContainer.Sprites.btnLevelSelect as any).off(\"click\", this._onLevelSelect);\r\n        (this._mainContainer.Sprites.btnExit as any).off(\"click\", this._onExit);\r\n\r\n        Sprites.stopListenToClearData();\r\n        (this._optionsContainer.Sprites.btnClearData as any).off(Sprites.CLEAR_DATA, this._onClearData);\r\n\r\n        //stop listen for swipes\r\n        (this._staticContainer.Sprites.bg as any).off(\"mousedown\", this._onDragStart);\r\n        (this._staticContainer.Sprites.bg as any).off(\"click\", this._onDragEnd);\r\n\r\n\r\n        this._levelSelectDisplay.disable();\r\n    }\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n}","import { IUpdateable, ICreateable, IEnableable } from \"../Interfaces\";\r\n\r\nexport class Screen implements ICreateable<Screen>, IUpdateable, IEnableable {\r\n    private _stage:createjs.StageGL;\r\n    protected _container:createjs.Container;\r\n\r\n    constructor() {\r\n        this._container = new createjs.Container();\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /**Updates the screen. */\r\n    public update(gameTime:number) {\r\n\r\n    }\r\n\r\n    /**Creates the screen and adds to the stage. */\r\n    public create(stage:createjs.StageGL):Screen {\r\n        this._stage = stage;\r\n        //add to the stage\r\n        this._stage.addChild(this._container);\r\n\r\n        \r\n        return this;\r\n    }\r\n\r\n    /**Destroys the screen and removes from the stage. */\r\n    public destroy():Screen {\r\n\r\n        //remove from the stage\r\n        this._stage.removeChild(this._container);\r\n\r\n        return this;\r\n    }\r\n\r\n    public enable() {\r\n\r\n    }\r\n\r\n    public disable() {\r\n        \r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public get Container():createjs.Container { return this._container; }\r\n    protected get Stage():createjs.StageGL { return this._stage; }\r\n\r\n}","import { Screen } from \"./Screen\";\r\nimport { ScreenManager } from \"../managers/ScreenManager\";\r\n\r\nexport class SplashScreen extends Screen {\r\n    private _splash:createjs.Shape;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    public create(stage:createjs.StageGL):Screen {\r\n        //add stuff\r\n        this._splash = new createjs.Shape();\r\n        this._splash.graphics.beginFill(\"red\");\r\n        this._splash.graphics.drawRect(0, 0, 100, 100);\r\n        this._splash.graphics.endFill();\r\n        this._splash.cache(0, 0, 100, 100);\r\n        this._container.addChild(this._splash);\r\n        super.create(stage);\r\n\r\n        //for testing\r\n        (this._container as any).on(\"click\", (e) => {\r\n            ScreenManager.setCurrentScreen(\"menu\", stage);\r\n        }, this, true);\r\n\r\n        return this;\r\n    }\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n}","import { LoadManager } from \"../managers/LoadManager\";\r\n\r\n/**Used to gain access to in-game sprites. */\r\nexport class Sprites {\r\n    public static CLEAR_DATA:string = \"onClearData\";\r\n\r\n    private static _backgrounds:{ [key:string]:createjs.DisplayObject } = { };\r\n    private static _buttons:{ [key:string]:createjs.DisplayObject } = { };\r\n\r\n    private static _spritesheets:createjs.SpriteSheet[];\r\n\r\n    private static _canClearData:boolean = false;\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    public static setup() {\r\n        return new Promise((res, rej) => {\r\n            // Sprites.spritesheets = spritesheets\r\n            //setup all the sprites\r\n            /* ------- STATIC ------- */\r\n            Sprites._backgrounds.Main = new createjs.Sprite(LoadManager.Spritesheets.UI); // Static BG\r\n            (Sprites._backgrounds.Main as createjs.Sprite).gotoAndStop(\"bg_main_static\");\r\n\r\n            Sprites._backgrounds.Logo = new createjs.Sprite(LoadManager.Spritesheets.Entities); // LOGO\r\n            (Sprites._backgrounds.Logo as createjs.Sprite).gotoAndStop(\"icon_title\");\r\n\r\n            Sprites._backgrounds.BG = LoadManager.Images.BG; // Redux\r\n            Sprites._backgrounds.BGTop = LoadManager.Images.BGTop;\r\n\r\n\r\n            /* ------- ANIMATED ------- */\r\n            Sprites._backgrounds.Wave = new createjs.Sprite(LoadManager.Spritesheets.UI); // Animated BG\r\n            (Sprites._backgrounds.Wave as createjs.Sprite).gotoAndPlay(\"bg_main\");\r\n            \r\n            /* ------- BUTTONS ------- */\r\n            Sprites._buttons.NewGame = new createjs.Sprite(LoadManager.Spritesheets.Entities); // New Game\r\n            (Sprites._buttons.NewGame as createjs.Sprite).gotoAndStop(\"btn_new_game\");\r\n            new createjs.ButtonHelper(Sprites._buttons.NewGame as createjs.Sprite, \"btn_new_game\", \"btn_new_game_hover\", \"btn_new_game_hover\");\r\n\r\n\r\n            Sprites._buttons.Options = new createjs.Sprite(LoadManager.Spritesheets.Entities); // Options\r\n            (Sprites._buttons.Options as createjs.Sprite).gotoAndStop(\"btn_new_game\");\r\n            new createjs.ButtonHelper(Sprites._buttons.Options as createjs.Sprite, \"btn_options\", \"btn_options_hover\", \"btn_options_hover\");\r\n\r\n            Sprites._buttons.LevelSelect = new createjs.Sprite(LoadManager.Spritesheets.Entities); // Select\r\n            (Sprites._buttons.LevelSelect as createjs.Sprite).gotoAndStop(\"btn_select\");\r\n            new createjs.ButtonHelper(Sprites._buttons.LevelSelect as createjs.Sprite, \"btn_select\", \"btn_select_hover\", \"btn_select_hover\");\r\n\r\n            Sprites._buttons.Exit = new createjs.Sprite(LoadManager.Spritesheets.Entities); // Exit\r\n            (Sprites._buttons.Exit as createjs.Sprite).gotoAndStop(\"btn_select\");\r\n            new createjs.ButtonHelper(Sprites._buttons.Exit as createjs.Sprite, \"btn_exit\", \"btn_exit_hover\", \"btn_exit_hover\");\r\n\r\n            Sprites._buttons.Fishbowl = new createjs.Sprite(LoadManager.Spritesheets.Entities); // Fishbowl\r\n            (Sprites._buttons.Fishbowl as createjs.Sprite).gotoAndStop(\"btn_select\");\r\n            new createjs.ButtonHelper(Sprites._buttons.Fishbowl as createjs.Sprite, \"icon_fishbowl\", \"icon_fishbowl_hover\", \"icon_fishbowl_hover\", true);\r\n\r\n\r\n            /* ------- MENU ------- */\r\n            Sprites._backgrounds.LevelSelectBG = new createjs.Sprite(LoadManager.Spritesheets.Menu_Level_Select); // Level Select BG\r\n            (Sprites._backgrounds.LevelSelectBG as createjs.Sprite).gotoAndStop(\"static_bg\");\r\n            Sprites._buttons.LevelEmpty = new createjs.Sprite(LoadManager.Spritesheets.Menu_Level_Select); // Level Empty Button\r\n            (Sprites._buttons.LevelEmpty as createjs.Sprite).gotoAndStop(\"level_empty\");\r\n            Sprites._buttons.LevelComplete = new createjs.Sprite(LoadManager.Spritesheets.Menu_Level_Select); // Level Complete Button\r\n            (Sprites._buttons.LevelComplete as createjs.Sprite).gotoAndStop(\"level_complete\");\r\n            Sprites._buttons.LevelSpecialEmpty = new createjs.Sprite(LoadManager.Spritesheets.Menu_Level_Select); // Level Special Empty Button\r\n            (Sprites._buttons.LevelSpecialEmpty as createjs.Sprite).gotoAndStop(\"level_special_empty\");\r\n            Sprites._buttons.LevelSpecialComplete = new createjs.Sprite(LoadManager.Spritesheets.Menu_Level_Select); // Level Special Complete Button\r\n            (Sprites._buttons.LevelSpecialComplete as createjs.Sprite).gotoAndStop(\"level_special_complete\");\r\n\r\n\r\n            /* ------- COMPLEX ------- */\r\n            Sprites._setupBTNClearData();\r\n\r\n            res();\r\n        });\r\n    }\r\n\r\n    // /* --- Complex createjs.Sprite Setup --- */\r\n    private static _setupBTNClearData() {\r\n        Sprites._buttons.ClearData = new createjs.Sprite(LoadManager.Spritesheets.UI); // BTN Clear Data\r\n        (Sprites._buttons.ClearData as createjs.Sprite).gotoAndStop(\"btn_clear_data\");\r\n        (Sprites._buttons.ClearData as createjs.Sprite).cursor = \"pointer\";\r\n        Sprites._canClearData = false;\r\n    }\r\n    public static listenToClearData() {\r\n        //listen\r\n        (Sprites._buttons.ClearData as any).on(\"mousedown\", Sprites._btnDataDown);\r\n        (Sprites._buttons.ClearData as any).on(\"animationend\", Sprites._btnDataComplete);\r\n        (Sprites._buttons.ClearData as any).on(\"click\", Sprites._btnDataUp);\r\n    }\r\n    public static stopListenToClearData() {\r\n        //listen\r\n        (Sprites._buttons.ClearData as any).off(\"mousedown\", Sprites._btnDataDown);\r\n        (Sprites._buttons.ClearData as any).off(\"animationend\", Sprites._btnDataComplete);\r\n        (Sprites._buttons.ClearData as any).off(\"click\", Sprites._btnDataUp);\r\n    }\r\n\r\n    private static _btnDataDown(e) {\r\n        (Sprites._buttons.ClearData as createjs.Sprite).gotoAndPlay(\"btn_clear_data_progress\");\r\n        Sprites._canClearData = true;\r\n    }\r\n    private static _btnDataUp(e) {\r\n        (Sprites._buttons.ClearData as createjs.Sprite).gotoAndStop(\"btn_clear_data\");\r\n        Sprites._canClearData = false;\r\n    }\r\n    private static _btnDataComplete(e) {\r\n        (Sprites._buttons.ClearData as createjs.Sprite).gotoAndStop(\"btn_clear_data\");\r\n        //dispatch event to button\r\n        if(Sprites._canClearData) {\r\n            (Sprites._buttons.ClearData as createjs.Sprite).dispatchEvent(new Event(Sprites.CLEAR_DATA));\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**A helper function to generate and cache text for the StageGL object. */\r\n    public static generateText(text, details = \"20px Arial\", color = \"#FFFEEE\") {\r\n        const textObj = new createjs.Text(text, details, color)\r\n        textObj.cache(0, 0, textObj.getBounds().width, textObj.getBounds().height);\r\n        return textObj;\r\n    }\r\n\r\n    public static generateBitmapText(text, spritesheet) {\r\n        const textObj = new createjs.BitmapText(text, spritesheet);\r\n        return textObj;\r\n    }\r\n\r\n\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get Backgrounds() { return Sprites._backgrounds; }\r\n    public static get Buttons() { return Sprites._buttons; }\r\n\r\n    // static get BG() { return Sprites._bg }\r\n    // static get Logo() { return Sprites._logo }\r\n    // static get AnimBG() { return Sprites._animBg }\r\n    // static get GameBG() { return Sprites._gameBG }\r\n    // static get GameBGTop() { return Sprites._gameBGTop }\r\n    // //buttons\r\n    // static get BTN_New_Game() { return Sprites._btnNewGame }\r\n    // static get BTN_Options() { return Sprites._btnOptions }\r\n    // static get BTN_Select() { return Sprites._btnSelect }\r\n    // static get BTN_Exit() { return Sprites._btnExit }\r\n    // static get BTN_Fishbowl() { return Sprites._btnFishbowl }\r\n    // static get BTN_ClearData() { return Sprites._btnClearData }\r\n\r\n\r\n    // static get CLEAR_DATA() { return \"onClearData\" }\r\n}","import { Sprites } from \"../Sprites\";\r\nimport { LoadManager } from \"../../managers/LoadManager\";\r\nimport { Game } from \"../../Game\";\r\nimport { IEnableable } from \"../../Interfaces\";\r\nimport { GameScreen } from \"../../screens/GameScreen\";\r\nimport { DataManager } from \"../../managers/DataManager\";\r\nimport { ScreenManager } from \"../../managers/ScreenManager\";\r\nimport { IntermediaryScreen } from \"../../screens/IntermediaryScreen\";\r\n\r\n\r\nexport class LevelSelectDisplay implements IEnableable {\r\n    private _game:Game;\r\n\r\n    private _container:createjs.Container;\r\n    private _background:createjs.Sprite;\r\n    private _levelsContainer:createjs.Container;\r\n    private _levelTextContainer:createjs.Container;\r\n\r\n    private _levelsData:any;\r\n\r\n    private _levelButtons:createjs.Sprite[];\r\n\r\n    constructor(game:Game) {\r\n        this._game = game;\r\n        this._levelButtons = [];\r\n\r\n        //build the required components for the level select display\r\n        this._container = new createjs.Container();\r\n        this._background = Sprites.Backgrounds.LevelSelectBG as createjs.Sprite;\r\n        this._background.x = (game.StageWidth / 2) - (this._background.getBounds().width / 2);\r\n        this._background.y = 80;\r\n\r\n        this._levelsContainer = new createjs.Container();\r\n        this._container.addChild(this._background);\r\n        let text = Sprites.generateBitmapText(\"Level Select\", LoadManager.Spritesheets.Typography);\r\n        text.x = (game.StageWidth / 2) - (text.getBounds().width / 2);\r\n        text.y = 30;\r\n        this._container.addChild(text);\r\n\r\n\r\n        //setup display text\r\n        this._levelTextContainer = new createjs.Container();\r\n        this._container.addChild(this._levelTextContainer);\r\n\r\n        this.LevelText = \"Hello World!\";\r\n\r\n\r\n        //spoof some level data\r\n        this._levelsData = [\r\n            [\r\n                { name: \"Welcome to the pond!\", complete:true, unlocked:true, data:[0, 0, 0, 0, 0, 0, 0] },\r\n                { name: \"A new adventure!\", complete:true, unlocked:true, data:[0, 0, 0, 0, 0, 0, 0] },\r\n                { name: \"Learn to aim!\", complete:false, unlocked:true, data:[0, 0, 0, 0, 0, 0, 0] },\r\n                { name: \"Persephone!\", special:true, complete:false, unlocked:false, data:[0, 0, 0, 0, 0, 0, 0] },\r\n            ],\r\n            [\r\n                { name: \"In deep water!\", complete:false, unlocked:false, data:[0, 0, 0, 0, 0, 0, 0] },\r\n                { name: \"An ocean of fish!\", complete:false, unlocked:false, data:[0, 0, 0, 0, 0, 0, 0] },\r\n                { name: \"Barnacles ahoy!\", complete:false, unlocked:false, data:[0, 0, 0, 0, 0, 0, 0] },\r\n                { name: \"Owen!\", special:true, complete:false, unlocked:false, data:[0, 0, 0, 0, 0, 0, 0] },\r\n            ]\r\n        ];\r\n\r\n\r\n        //build the level icons\r\n        for(let r = 0; r < this._levelsData.length; r++) {\r\n            //iterate through levels\r\n            for(let i = 0; i < this._levelsData[r].length; i++) {\r\n                const levelData = this._levelsData[r][i];\r\n                console.log(\"LEVEL\", levelData);\r\n                //decide the sprite\r\n                let sprite = Sprites.Buttons.LevelEmpty.clone();\r\n                if(levelData.special != null && levelData.special) sprite = Sprites.Buttons.LevelSpecialEmpty.clone();\r\n                // //completed\r\n                if(levelData.complete) {\r\n                    sprite = Sprites.Buttons.LevelComplete.clone();\r\n                    if(levelData.special != null && levelData.special) sprite = Sprites.Buttons.LevelSpecialComplete;\r\n                }\r\n                //locked\r\n                if(!levelData.unlocked) {\r\n                    sprite.alpha = 0.25;\r\n                }\r\n                else {\r\n                    sprite.alpha = 1;\r\n                     //extras\r\n                    sprite.cursor = \"pointer\";\r\n                }\r\n\r\n                //place\r\n                sprite.x = 60 * i;\r\n                sprite.y = 50 * r;\r\n                //add\r\n                this._levelsContainer.addChild(sprite);\r\n                //to array\r\n                this._levelButtons.push(sprite as createjs.Sprite);\r\n            }\r\n        };\r\n\r\n        this._levelsContainer.x = (game.StageWidth / 2) - (this._levelsContainer.getBounds().width / 2);\r\n        this._levelsContainer.y = 100;\r\n        this._container.addChild(this._levelsContainer);\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    public enable() {\r\n        this._levelButtons.forEach(btn => {\r\n            btn.on(\"click\", this._onLevelClick, this);\r\n            btn.on(\"mouseover\", this._onLevelHover, this);\r\n            btn.on(\"mouseout\", this._onLevelUnhover, this);\r\n        });\r\n    }\r\n\r\n    public disable() {\r\n        this._levelButtons.forEach(btn => {\r\n            btn.removeAllEventListeners();\r\n        });\r\n    }\r\n\r\n\r\n    /**Returns level data from the given index. */\r\n    private _getDataByIndex(index:number) {\r\n        //flatten level data, and get data\r\n        let flatten = this._levelsData.reduce((acc, next) => acc.concat(next));\r\n        return flatten[index];\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    private _onLevelClick(e) {\r\n         //get button index\r\n        let index = this._levelButtons.indexOf(e.target);\r\n\r\n        if(index == -1) return;\r\n\r\n        //set the level index\r\n        const data = DataManager.getLevelDataByIndex(index);\r\n        (ScreenManager.getScreenByKey(\"game\") as GameScreen).LevelData = data;\r\n        //go to intermediary screen\r\n        const intermediary = ScreenManager.getScreenByKey(\"intermediary\") as IntermediaryScreen;\r\n        new Promise(async(res) => {\r\n            intermediary.Text = data.name;\r\n            await ScreenManager.setCurrentScreen(intermediary, this._game.Stage);\r\n            intermediary.queueNextScreen(\"game\", 1000);\r\n\r\n            res();\r\n        });\r\n    }\r\n\r\n    private _onLevelHover(e) {\r\n        //find the button data\r\n        //get button index\r\n        let index = this._levelButtons.indexOf(e.target);\r\n        \r\n        if(index != -1) {\r\n            const data = this._getDataByIndex(index);\r\n            if(data != null) {\r\n                if(data.unlocked)\r\n                    this.LevelText = data.name;\r\n            }\r\n        }\r\n\r\n    }\r\n    private _onLevelUnhover(e) {\r\n        this.LevelText = \"\";\r\n    }\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public get Container() { return this._container; }\r\n    public set LevelText(value:string) {\r\n        if(value == \"\") {\r\n            this._levelTextContainer.removeAllChildren();\r\n            return;\r\n        }\r\n        //create the text\r\n        const text = Sprites.generateBitmapText(value, LoadManager.Spritesheets.Typography);\r\n        (text as any).scale = 0.6;\r\n        //load into container\r\n        this._levelTextContainer.removeAllChildren();\r\n        this._levelTextContainer.addChild(text);\r\n\r\n        //put container at bottom\r\n        this._levelTextContainer.x = (this._game.StageWidth / 2) - ((text.getBounds().width / 2) * 0.6);\r\n        this._levelTextContainer.y = this._game.StageHeight - 30;\r\n    }\r\n}","import { Layout } from \"./Layout\";\r\n\r\n/**Uses custom classes and the createjs library to help easily build up ui interfaces with DisplayObjects. */\r\nexport class Container {\r\n    private _sprites:{ [key:string]:createjs.DisplayObject };\r\n    private _container:createjs.Container;\r\n    private _layout:Layout;\r\n\r\n    constructor() {\r\n        this._sprites = { };\r\n        this._container = new createjs.Container();\r\n        this._layout = Layout.MAKE_VERTICAL_CENTER(this._container);\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    public add(key:string, sprite:createjs.DisplayObject, updateLayout:boolean=true):boolean {\r\n        if(this._sprites[key] != null) return false;\r\n        this._sprites[key] = sprite;\r\n\r\n        if(updateLayout) this._layout.buildLayout(true, ...Object.keys(this._sprites).map(k => this._sprites[k]));\r\n        return true;\r\n    }\r\n\r\n    public addMany(sprites:{ [key:string]:createjs.DisplayObject }) {\r\n        Object.keys(sprites).forEach(k => {\r\n            this.add(k, sprites[k], false);\r\n        });\r\n\r\n        this._layout.buildLayout(true, ...Object.keys(this._sprites).map(k => this._sprites[k]));\r\n    }\r\n\r\n    public changeLayout(layout:Layout) {\r\n        this._layout = layout;\r\n    }\r\n\r\n    /**In case of wandering or reusable sprites, call them back to this layout! */\r\n    public checkoutSprites() {\r\n        this._layout.buildLayout(true, ...Object.keys(this._sprites).map(k => this._sprites[k]));\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public get Container():createjs.Container { return this._container; }\r\n    public get Sprites() { return this._sprites; }\r\n}","import { Game } from \"../../Game\";\r\n\r\n/**Used to layout createjs display objects. */\r\nexport class Layout {\r\n    //justify content\r\n    public static HORIZONTAL:string = \"horizontal\";\r\n    public static VERTICAL:string = \"vertical\";\r\n    //align items\r\n    public static START:string = \"start\";\r\n    public static END:string = \"end\";\r\n    public static CENTER:string = \"center\";\r\n\r\n    private _parent:createjs.Container;\r\n    private _items:createjs.DisplayObject[];\r\n\r\n    private _direction:string;\r\n    private _alignment:string;\r\n    private _crossAlignment:string;\r\n    private _spacing:number;\r\n\r\n    constructor(parent:createjs.Container, direction:string, alignment:string, crossAlignment:string, spacing:number = 5) {\r\n        this._parent = parent;\r\n        this._items = [];\r\n\r\n        this._direction = direction;\r\n        this._alignment = alignment;\r\n        this._crossAlignment = crossAlignment;\r\n        this._spacing = spacing;\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    public buildLayout(addToParent:boolean=true, ...items:createjs.DisplayObject[]) {\r\n        if(items.length <= 0) return;\r\n\r\n        this._items = items;\r\n\r\n        if(addToParent) {\r\n            this._parent.removeAllChildren();\r\n        }\r\n        \r\n\r\n        if(this._direction == Layout.VERTICAL) {\r\n            // X - CENTER\r\n            let totalHeight = 0;\r\n            if(this._alignment == Layout.CENTER) {\r\n                for(let i = 0; i < items.length; i++) {\r\n                    const item:createjs.DisplayObject = items[i];\r\n                    item.x = (Game.WIDTH / 2) - (item.getBounds().width / 2);\r\n                    item.y = totalHeight;\r\n                    totalHeight += item.getBounds().height + this._spacing;\r\n                    if(addToParent) this._parent.addChild(item);\r\n                }\r\n\r\n                // Y - CENTER\r\n                //handle vertical alignment\r\n                if(this._crossAlignment == Layout.START) {\r\n                    // DO NOTHING, this is the default\r\n                }\r\n                else if(this._crossAlignment == Layout.CENTER) {\r\n                    totalHeight += items[items.length-1].getBounds().height;\r\n                    for(let i = 0; i < items.length; i++) {\r\n                        const item:createjs.DisplayObject = items[i];\r\n                        //decipher desired center\r\n                        item.y += (Game.HEIGHT / 2) - (totalHeight / 2);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n\r\n        }\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    \r\n    /*--------------- HELPER FUNCTIONS ---------------*/\r\n    public static MAKE_VERTICAL_CENTER(container:createjs.Container) { return new Layout(container, Layout.VERTICAL, Layout.CENTER, Layout.CENTER, 5); }\r\n\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvRnVuY3Rpb25zLnRzIiwic3JjL0dhbWUudHMiLCJzcmMvT2JqZWN0UG9vbC50cyIsInNyYy9lbnRpdGllcy9DYXQudHMiLCJzcmMvZW50aXRpZXMvRW50aXR5LnRzIiwic3JjL2VudGl0aWVzL0Zpc2gudHMiLCJzcmMvbWFpbi50cyIsInNyYy9tYW5hZ2Vycy9EYXRhTWFuYWdlci50cyIsInNyYy9tYW5hZ2Vycy9Mb2FkTWFuYWdlci50cyIsInNyYy9tYW5hZ2Vycy9TY3JlZW5NYW5hZ2VyLnRzIiwic3JjL3NjcmVlbnMvRW5kU2NyZWVuLnRzIiwic3JjL3NjcmVlbnMvR2FtZVNjcmVlbi50cyIsInNyYy9zY3JlZW5zL0ludGVybWVkaWFyeVNjcmVlbi50cyIsInNyYy9zY3JlZW5zL01lbnVTY3JlZW4udHMiLCJzcmMvc2NyZWVucy9TY3JlZW4udHMiLCJzcmMvc2NyZWVucy9TcGxhc2hTY3JlZW4udHMiLCJzcmMvdWkvU3ByaXRlcy50cyIsInNyYy91aS9jdXN0b20vTGV2ZWxTZWxlY3REaXNwbGF5LnRzIiwic3JjL3VpL2Rpc3BsYXkvQ29udGFpbmVyLnRzIiwic3JjL3VpL2Rpc3BsYXkvTGF5b3V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztBQ0FBO0FBQ0E7QUFDQTs7SUFDYSxPOzs7Ozs7O2dDQUNNLE8sRUFBYztBQUN6QixvQkFBUSxHQUFSLFNBQWtCLE9BQWxCLEVBQTZCLHFGQUE3QjtBQUNIOzs7Z0NBRWMsUSxFQUFjO0FBQ3pCLG9CQUFRLEdBQVIsU0FBa0IsUUFBbEIsRUFBNkIsbUZBQTdCO0FBQ0g7Ozs4QkFFWSxPLEVBQWM7QUFDdkIsb0JBQVEsR0FBUixTQUFrQixPQUFsQixFQUE2Qix5REFBN0I7QUFDSDs7Ozs7O0FBWEwsUUFBQSxPQUFBLEdBQUEsT0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0hBLElB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LEVBQXNELE9BQU8sTUFBN0QsRUFBcUUsQ0FBckUsQ0FBUDtBQUFpRjs7Ozs7QUExRXBKOzs7QUFDYyxPQUFBLFVBQUEsR0FBb0IsWUFBcEI7QUFDQSxPQUFBLFFBQUEsR0FBa0IsVUFBbEI7QUFDZDtBQUNjLE9BQUEsS0FBQSxHQUFlLE9BQWY7QUFDQSxPQUFBLEdBQUEsR0FBYSxLQUFiO0FBQ0EsT0FBQSxNQUFBLEdBQWdCLFFBQWhCO0FBUGxCLFFBQUEsTUFBQSxHQUFBLE1BQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qICAgICAgICAgICAgICAgICAgICAgIExPR0dJTkcgICAgICAgICAgICAgICAgICAgICAgKi9cclxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5leHBvcnQgY2xhc3MgTG9nZ2luZyB7XHJcbiAgICBzdGF0aWMgc3VjY2VzcyhtZXNzYWdlOnN0cmluZyk6dm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCVjICR7bWVzc2FnZX1gLCAnY29sb3I6c2VhZ3JlZW47IGZvbnQtc2l6ZToxLjFlbTsgZm9udC13ZWlnaHQ6Ym9sZDsgYm9yZGVyLWxlZnQ6IHNvbGlkIDNweCBzZWFncmVlbjsnKSAgICA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG1lc3NhZ2UobWVzc2FnZTpzdHJpbmcpOnZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAlYyAke21lc3NhZ2V9YCwgJ2NvbG9yOiMxRTI2NUM7IGZvbnQtc2l6ZToxLjFlbTsgZm9udC13ZWlnaHQ6Ym9sZDsgYm9yZGVyLWxlZnQ6IHNvbGlkIDNweCAjMUUyNjVDOycpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBlcnJvcihtZXNzYWdlOnN0cmluZyk6dm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCVjICR7bWVzc2FnZX1gLCAnY29sb3I6cmVkOyBmb250LXNpemU6MS4xZW07IGJvcmRlci1sZWZ0OiBzb2xpZCAzcHggcmVkOycpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTG9hZE1hbmFnZXIgfSBmcm9tIFwiLi9tYW5hZ2Vycy9Mb2FkTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTY3JlZW5NYW5hZ2VyIH0gZnJvbSBcIi4vbWFuYWdlcnMvU2NyZWVuTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTcGxhc2hTY3JlZW4gfSBmcm9tIFwiLi9zY3JlZW5zL1NwbGFzaFNjcmVlblwiO1xyXG5pbXBvcnQgeyBNZW51U2NyZWVuIH0gZnJvbSBcIi4vc2NyZWVucy9NZW51U2NyZWVuXCI7XHJcbmltcG9ydCB7IEdhbWVTY3JlZW4gfSBmcm9tIFwiLi9zY3JlZW5zL0dhbWVTY3JlZW5cIjtcclxuaW1wb3J0IHsgRW5kU2NyZWVuIH0gZnJvbSBcIi4vc2NyZWVucy9FbmRTY3JlZW5cIjtcclxuaW1wb3J0IHsgTG9nZ2luZyB9IGZyb20gXCIuL0Z1bmN0aW9uc1wiO1xyXG5pbXBvcnQgeyBTcHJpdGVzIH0gZnJvbSBcIi4vdWkvU3ByaXRlc1wiO1xyXG5pbXBvcnQgeyBJbnRlcm1lZGlhcnlTY3JlZW4gfSBmcm9tIFwiLi9zY3JlZW5zL0ludGVybWVkaWFyeVNjcmVlblwiO1xyXG5pbXBvcnQgeyBEYXRhTWFuYWdlciB9IGZyb20gXCIuL21hbmFnZXJzL0RhdGFNYW5hZ2VyXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWUge1xyXG4gICAgcHJpdmF0ZSBfY2FudmFzOkhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBfc3RhZ2U6Y3JlYXRlanMuU3RhZ2VHTDtcclxuICAgIHByaXZhdGUgX3NjYWxpbmc6bnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgX2xhc3RHYW1lVGltZTpudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2FudmFzRGl2OkhUTUxDYW52YXNFbGVtZW50KSB7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IGNhbnZhc0RpdjtcclxuICAgICAgICB0aGlzLl9jYW52YXMud2lkdGggPSBHYW1lLldJRFRIO1xyXG4gICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSBHYW1lLkhFSUdIVDtcclxuXHJcbiAgICAgICAgdGhpcy5fbGFzdEdhbWVUaW1lID0gLTE7XHJcblxyXG4gICAgICAgIC8vc2V0IHRoZSBzY2FsaW5nXHJcbiAgICAgICAgdGhpcy5fc2NhbGluZyA9IEdhbWUuSEVJR0hUIC8gMTM2NjtcclxuXHJcbiAgICAgICAgLy9zdGFydCBsb2FkaW5nIGdhbWUgYXNzZXRzXHJcbiAgICAgICAgbmV3IFByb21pc2UoYXN5bmMocmVzLCByZWopID0+IHtcclxuICAgICAgICAgICAgLy9jcmVhdGUgdGhlIHN0YWdlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVhZHlpbmcgc3RhZ2UhXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZUdMKHRoaXMuX2NhbnZhcywgeyBhbnRpYWxpYXM6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICh0aGlzLl9zdGFnZSBhcyBhbnkpLnNldENsZWFyQ29sb3IoXCIjMDAwMDAwXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFnZS5lbmFibGVNb3VzZU92ZXIoMTApO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFnZS51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuX3N0YWdlLCB0aGlzLl9jYW52YXMpO1xyXG5cclxuICAgICAgICAgICAgLy9saXN0ZW4gdG8gYXNzZXQgdXBkYXRlc1xyXG4gICAgICAgICAgICAodGhpcy5fc3RhZ2UgYXMgYW55KS5hZGRFdmVudExpc3RlbmVyKExvYWRNYW5hZ2VyLkFTU0VUU19VUERBVEVELCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coTG9hZE1hbmFnZXIuUGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL2xvYWQgYXNzZXRzXHJcbiAgICAgICAgICAgIGF3YWl0IExvYWRNYW5hZ2VyLmxvYWRBc3NldHMoXCJhc3NldHMvbWFuaWZlc3QuanNvblwiLCB0aGlzLl9zdGFnZSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yIGxvYWRpbmcgYXNzZXRzOlwiLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBMb2dnaW5nLnN1Y2Nlc3MoXCJBc3NldHMgTG9hZGVkIFN1Y2Nlc3NmdWxseSFcIik7XHJcblxyXG4gICAgICAgICAgICAvL2xvYWQgbGV2ZWwgZGF0YVxyXG4gICAgICAgICAgICBhd2FpdCBEYXRhTWFuYWdlci5sb2FkV29ybGRzRGF0YShcImFzc2V0cy9kYXRhL2xldmVscy5qc29uXCIpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBMb2dnaW5nLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBMb2dnaW5nLnN1Y2Nlc3MoXCJMZXZlbCBEYXRhIExvYWRlZCBTdWNjZXNzZnVsbHkhXCIpO1xyXG5cclxuICAgICAgICAgICAgLy9zZXR1cCBjcmVhdGVqcy5TcHJpdGVzXHJcbiAgICAgICAgICAgIGF3YWl0IFNwcml0ZXMuc2V0dXAoKTtcclxuXHJcbiAgICAgICAgICAgIC8vYnVpbGQgdGhlIHNjcmVlbnNcclxuICAgICAgICAgICAgU2NyZWVuTWFuYWdlci5yZWdpc3RlclNjcmVlbihcInNwbGFzaFwiLCBuZXcgU3BsYXNoU2NyZWVuKCkpO1xyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLnJlZ2lzdGVyU2NyZWVuKFwibWVudVwiLCBuZXcgTWVudVNjcmVlbih0aGlzKSk7XHJcbiAgICAgICAgICAgIFNjcmVlbk1hbmFnZXIucmVnaXN0ZXJTY3JlZW4oXCJnYW1lXCIsIG5ldyBHYW1lU2NyZWVuKHRoaXMpKTtcclxuICAgICAgICAgICAgU2NyZWVuTWFuYWdlci5yZWdpc3RlclNjcmVlbihcImVuZFwiLCBuZXcgRW5kU2NyZWVuKCkpO1xyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLnJlZ2lzdGVyU2NyZWVuKFwiaW50ZXJtZWRpYXJ5XCIsIG5ldyBJbnRlcm1lZGlhcnlTY3JlZW4odGhpcykpO1xyXG5cclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9zZXQgdGhlIGN1cnJlbnQgc2NyZWVuXHJcbiAgICAgICAgICAgIC8vZ2FtZSB0ZXN0LCBsb2FkIGRlc2lyZWQgbGV2ZWwgcGF0Y2ggLS0gaWYgYXV0b2xvYWRpbmcgdG8gZ2FtZSBzY3JlZW5cclxuICAgICAgICAgICAgKFNjcmVlbk1hbmFnZXIuZ2V0U2NyZWVuQnlLZXkoXCJnYW1lXCIpIGFzIEdhbWVTY3JlZW4pLkxldmVsRGF0YSA9IERhdGFNYW5hZ2VyLmdldExldmVsRGF0YUJ5SW5kZXgoMSk7XHJcblxyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLnNldEN1cnJlbnRTY3JlZW4oXCJnYW1lXCIsIHRoaXMuX3N0YWdlKTtcclxuXHJcbiAgICAgICAgICAgIC8vc2V0dXAgdGhlIGdhbWUgbG9vcFxyXG4gICAgICAgICAgICBjcmVhdGVqcy5UaWNrZXIuZnJhbWVyYXRlID0gR2FtZS5GUkFNRV9SQVRFO1xyXG4gICAgICAgICAgICBjcmVhdGVqcy5UaWNrZXIub24oXCJ0aWNrXCIsIHRoaXMudXBkYXRlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgdXBkYXRlKGU6YW55KSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGdhbWVUaW1lID0gKHRoaXMuX2xhc3RHYW1lVGltZSAhPSAtMSkgPyBjcmVhdGVqcy5UaWNrZXIuZ2V0TWVhc3VyZWRGUFMoKSAtIHRoaXMuX2xhc3RHYW1lVGltZSA6IDE7XHJcbiAgICAgICAgdGhpcy5fbGFzdEdhbWVUaW1lID0gY3JlYXRlanMuVGlja2VyLmdldE1lYXN1cmVkRlBTKCk7XHJcblxyXG4gICAgICAgIC8vdXBkYXRlIHRoZSBzY3JlZW5cclxuICAgICAgICBpZihTY3JlZW5NYW5hZ2VyLkN1cnJlbnRTY3JlZW4gIT0gbnVsbCkgU2NyZWVuTWFuYWdlci5DdXJyZW50U2NyZWVuLnVwZGF0ZShnYW1lVGltZSk7XHJcblxyXG4gICAgICAgIC8vdXBkYXRlIHRoZSBzdGFnZVxyXG4gICAgICAgIHRoaXMuX3N0YWdlLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgRlJBTUVfUkFURSgpIHsgcmV0dXJuIDMwOyB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBXSURUSCgpIHsgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0ICogMC40ODsgfSAvL2Rlc2lyZWQgc2l6ZVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgSEVJR0hUKCkgeyByZXR1cm4gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7IH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IFN0YWdlV2lkdGgoKSB7IHJldHVybiB0aGlzLl9jYW52YXMud2lkdGg7IH0gLy9hY3R1YWwgc2l6ZVxyXG4gICAgcHVibGljIGdldCBTdGFnZUhlaWdodCgpIHsgcmV0dXJuIHRoaXMuX2NhbnZhcy5oZWlnaHQ7IH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IFN0YWdlKCkgeyByZXR1cm4gdGhpcy5fc3RhZ2U7IH1cclxuICAgIHB1YmxpYyBnZXQgU2NhbGluZygpIHsgcmV0dXJuIHRoaXMuX3NjYWxpbmc7IH1cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gQUJTVFJBQ1RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBMb2dnaW5nIH0gZnJvbSBcIi4vRnVuY3Rpb25zXCI7XHJcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuL2VudGl0aWVzL0VudGl0eVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUG9vbE9iamVjdCB7XHJcbiAgICB0eXBlOnN0cmluZztcclxuICAgIG9iajpFbnRpdHksXHJcbiAgICBhY3RpdmU6Ym9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE9iamVjdFBvb2wge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3Bvb2w6SVBvb2xPYmplY3RbXTtcclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKipDcmVhdGVzIGEgcG9vbCBvYmplY3QuICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZVBvb2xPYmplY3Qob2JqOkVudGl0eSwgdHlwZTpzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBwb29sT2JqID0ge1xyXG4gICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICBvYmosXHJcbiAgICAgICAgICAgIGFjdGl2ZTogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdFBvb2wuUG9vbC5wdXNoKHBvb2xPYmopO1xyXG4gICAgICAgIHJldHVybiBwb29sT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKkNoZWNrcyBvdXQgYSBwb29sIG9iamVjdC4gIFVzZSBQT09MIGdsb2JhbCBmdW5jdGlvbiB0byBhY2Nlc3MuICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNoZWNrb3V0KHR5cGU6c3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgcG9vbE9iaiA9IE9iamVjdFBvb2wuX2dldE9iamVjdEJ5VHlwZSh0eXBlKTtcclxuICAgICAgICBpZihwb29sT2JqICE9IG51bGwpIHtcclxuICAgICAgICAgICAgcG9vbE9iai5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gcG9vbE9iai5vYmo7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlJldHVybnMgYW4gb2JqZWN0IHRvIHRoZSBwb29sLiAqL1xyXG4gICAgcHVibGljIHN0YXRpYyByZXR1cm4ob2JqOkVudGl0eSkge1xyXG4gICAgICAgIGNvbnN0IHBvb2xPYmogPSBPYmplY3RQb29sLl9nZXRPYmplY3RCeU9iaihvYmopO1xyXG4gICAgICAgIGlmKHBvb2xPYmogIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBwb29sT2JqLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIF9nZXRPYmplY3RCeVR5cGUodHlwZSkge1xyXG4gICAgICAgIGNvbnN0IHBvb2xPYmogPSBPYmplY3RQb29sLl9wb29sLmZpbmQoKG8gPT4gby50eXBlID09IHR5cGUgJiYgIW8uYWN0aXZlKSk7XHJcbiAgICAgICAgaWYocG9vbE9iaiA9PSBudWxsKSBMb2dnaW5nLmVycm9yKFwiT2JqZWN0IG5vdCBmb3VuZCBpbiBwb29sLCBvciBwb29sIGlzIGV4aGF1c3RlZC4gIFJldHVybiBzb21lIG9iamVjdHMuXCIpO1xyXG4gICAgICAgIHJldHVybiBwb29sT2JqXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIF9nZXRPYmplY3RCeU9iaihvYmopIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0UG9vbC5fcG9vbC5maW5kKChvID0+IG8ub2JqID09IG9iaikpO1xyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gQUJTVFJBQ1RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgUG9vbCgpIHsgXHJcbiAgICAgICAgaWYoT2JqZWN0UG9vbC5fcG9vbCA9PSBudWxsKSBPYmplY3RQb29sLl9wb29sID0gW107XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdFBvb2wuX3Bvb2w7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4uL0dhbWVcIjtcclxuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vRW50aXR5XCI7XHJcbmltcG9ydCB7IExvYWRNYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL0xvYWRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IElFbmFibGVhYmxlIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcclxuaW1wb3J0IHsgTG9nZ2luZyB9IGZyb20gXCIuLi9GdW5jdGlvbnNcIjtcclxuaW1wb3J0IHsgR2FtZVNjcmVlbiB9IGZyb20gXCIuLi9zY3JlZW5zL0dhbWVTY3JlZW5cIjtcclxuaW1wb3J0IHsgRmlzaCB9IGZyb20gXCIuL0Zpc2hcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYXQgZXh0ZW5kcyBFbnRpdHkgaW1wbGVtZW50cyBJRW5hYmxlYWJsZSB7XHJcbiAgICBwcml2YXRlIF9zcGVlZDpudW1iZXI7XHJcbiAgICBwcml2YXRlIF9maXNoQ2F1Z2h0TXVsdGlwbGllcjpudW1iZXI7IC8vdGhpcyB3aWxsIGJlIHRoZSByYXRlIGF0IHdoaWNoIHRoZSBjYXQgc2xvd3MgZG93biB3aGVuIHJpc2luZyBwZXIgZmlzaFxyXG5cclxuICAgIHByaXZhdGUgX2NhdFlUd2VlbjpjcmVhdGVqcy5Ud2VlbjtcclxuICAgIHByaXZhdGUgX2NhdWdodEZpc2g6RmlzaFtdO1xyXG5cclxuICAgIHByaXZhdGUgX2lzR3JhYmJpbmc6Ym9vbGVhbjtcclxuICAgIHByaXZhdGUgX2lzUmlzaW5nOmJvb2xlYW47XHJcbiAgICBwcml2YXRlIF9oYXNSZWFjaGVkU3VyZmFjZTpib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGdhbWVTY3JlZW46R2FtZVNjcmVlbikge1xyXG4gICAgICAgIHN1cGVyKGdhbWVTY3JlZW4sIExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5DYXRfU3ByaXRlc2hlZXQpO1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMztcclxuICAgICAgICB0aGlzLl9maXNoQ2F1Z2h0TXVsdGlwbGllciA9IDAuMDU7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhdWdodEZpc2ggPSBbXTtcclxuICAgICAgICB0aGlzLl9pc0dyYWJiaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5faXNSaXNpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9oYXNSZWFjaGVkU3VyZmFjZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuX3Nwcml0ZS5nb3RvQW5kUGxheShDYXQuQU5JTUFUSU9OLklkbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIGVuYWJsZSgpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZSgpIHtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKioqKioqKioqKioqKiovXHJcbiAgICAvKiAgIEFDVElPTlMgICAqL1xyXG4gICAgLyoqKioqKioqKioqKioqKi9cclxuICAgIHB1YmxpYyBncmFiKCkge1xyXG4gICAgICAgIC8vY2Fubm90IGdyYWIgaWYgd2UgYXJlIG5vdCBhdCBzdXJmYWNlXHJcbiAgICAgICAgaWYoIXRoaXMuX2hhc1JlYWNoZWRTdXJmYWNlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuX2lzR3JhYmJpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2hhc1JlYWNoZWRTdXJmYWNlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vbW92ZSB0byB4IHBvc2l0aW9uXHJcbiAgICAgICAgdGhpcy5YID0gdGhpcy5HYW1lU2NyZWVuLkdhbWUuU3RhZ2UubW91c2VYO1xyXG5cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTVEFSVCBTUEVFRDpcIiwgdGhpcy5TcGVlZCk7XHJcblxyXG4gICAgICAgIC8vZ3JhYiB0byB5IHBvc2l0aW9uXHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSAodGhpcy5HYW1lU2NyZWVuLkdhbWUuU3RhZ2UubW91c2VZIC8gMikgKiB0aGlzLlNwZWVkO1xyXG4gICAgICAgIHRoaXMuX2NhdFlUd2VlbiA9IGNyZWF0ZWpzLlR3ZWVuXHJcbiAgICAgICAgICAgIC5nZXQodGhpcy5fc3ByaXRlKVxyXG4gICAgICAgICAgICAudG8oeyB5OnRoaXMuR2FtZVNjcmVlbi5HYW1lLlN0YWdlLm1vdXNlWSB9LCBzcGVlZCwgY3JlYXRlanMuRWFzZS5jaXJjSW4pXHJcbiAgICAgICAgICAgIC5jYWxsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vb25jZSB0aGUgZ3JhYiBpcyBkb25lLCB0dXJuIG9mZiBmbGFnXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0dyYWJiaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgIC8vcGxheSBhbmltYXRpb25zXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcHJpdGUuZ290b0FuZFBsYXkoQ2F0LkFOSU1BVElPTi5HcmFiKTtcclxuICAgICAgICAgICAgICAgIC8vbGlzdGVuIGZvciBhbmltYXRpb24gdG8gZmluaXNoXHJcbiAgICAgICAgICAgICAgICAodGhpcy5fc3ByaXRlIGFzIGFueSkub24oXCJhbmltYXRpb25lbmRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Nwcml0ZS5nb3RvQW5kUGxheShDYXQuQU5JTUFUSU9OLkhvbGQpO1xyXG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy90cnkgdG8gZ3JhYiBhIGZpc2hcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpc2hlcyA9IHRoaXMuR2FtZVNjcmVlbi50cnlUb0dyYWJGaXNoZXModGhpcy5YICwgdGhpcy5ZKTtcclxuICAgICAgICAgICAgICAgIC8vc2VlIGlmIGEgZmlzaCB3YXMgZ3JhYmJlZFxyXG4gICAgICAgICAgICAgICAgaWYoZmlzaGVzLmxlbmd0aCA+IDApIHRoaXMuY2F1Z2h0KGZpc2hlcyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMucmV0dXJuVG9TdXJmYWNlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCB0byByZXR1cm4gY2F0IHRvIHN1cmZhY2UuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZXR1cm5Ub1N1cmZhY2UoKSB7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLmdvdG9BbmRQbGF5KENhdC5BTklNQVRJT04uSWRsZSk7XHJcblxyXG4gICAgICAgIC8vcmVtb3ZlIGFueSBsaW5nZXJpbmcgdHdlZW5zXHJcbiAgICAgICAgY3JlYXRlanMuVHdlZW4ucmVtb3ZlVHdlZW5zKHRoaXMuX3Nwcml0ZSk7XHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSAodGhpcy5ZIC8gMikgKiB0aGlzLlNwZWVkO1xyXG4gICAgICAgIHRoaXMuX2NhdFlUd2VlbiA9IGNyZWF0ZWpzLlR3ZWVuLmdldCh0aGlzLl9zcHJpdGUpXHJcbiAgICAgICAgICAgIC53YWl0KDE1MClcclxuICAgICAgICAgICAgLnRvKHt5OjIwfSwgc3BlZWQsIGNyZWF0ZWpzLkVhc2UubGluZWFyKVxyXG4gICAgICAgICAgICAuY2FsbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL29uY2UgdGhlIHN1cmZhY2UgaGFzIGJlZW4gcmVhY2hlZCwgYWxsb3cgeCBtb3ZlbWVudCBhZ2FpblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFjaFN1cmZhY2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhdWdodChmaXNoZXM6RmlzaFtdKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJJIENBVUdIVFwiKTtcclxuICAgICAgICBpZihmaXNoZXMubGVuZ3RoIDw9IDApIHJldHVybjtcclxuICAgICAgICB0aGlzLl9pc1Jpc2luZyA9IHRydWU7ICBcclxuICAgICAgICBcclxuICAgICAgICBsZXQgaGFzTmV3RmlzaCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBmaXNoZXMuZm9yRWFjaChmID0+IHtcclxuICAgICAgICAgICAgaWYodGhpcy5fY2F1Z2h0RmlzaC5pbmRleE9mKGYpICE9IC0xKSByZXR1cm47XHJcbiAgICAgICAgICAgIGhhc05ld0Zpc2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAvL2dyYWIgdGhlIGZpc2hcclxuICAgICAgICAgICAgZi5jYXRjaCgpO1xyXG5cclxuICAgICAgICAgICAgLy9hZGQgZmlzaCB0byBjYXVnaHQgYXJyYXlcclxuICAgICAgICAgICAgdGhpcy5fY2F1Z2h0RmlzaC5wdXNoKGYpO1xyXG5cclxuICAgICAgICAgICAgLy9jb250cm9sIHRoZSBmaXNoXHJcbiAgICAgICAgICAgIGYuWSA9IHRoaXMuWTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkkgV0FTIENBVUdIVCwgTk9XIFJJU0lOR1wiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkZJU0ggQ0FVR0hUIFNQRUVEOlwiLCB0aGlzLlNwZWVkKTtcclxuXHJcbiAgICAgICAgaWYoIWhhc05ld0Zpc2gpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICAvL2lmIHdlIGdyYWJiZWQgYSBmaXNoLi4uXHJcbiAgICAgICAgLy9nbyBiYWNrIHVwLi4uIHNsb3dseVxyXG4gICAgICAgIGNyZWF0ZWpzLlR3ZWVuLnJlbW92ZVR3ZWVucyh0aGlzLl9zcHJpdGUpO1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gdGhpcy5ZICogdGhpcy5TcGVlZDtcclxuICAgICAgICB0aGlzLl9jYXRZVHdlZW4gPSBjcmVhdGVqcy5Ud2Vlbi5nZXQodGhpcy5fc3ByaXRlKVxyXG4gICAgICAgICAgICAud2FpdCgyNTApXHJcbiAgICAgICAgICAgIC50byh7eTotMjB9LCBzcGVlZCwgY3JlYXRlanMuRWFzZS5saW5lYXIpXHJcbiAgICAgICAgICAgIC5jYWxsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vb25jZSB0aGUgc3VyZmFjZSBoYXMgYmVlbiByZWFjaGVkLCBhbGxvdyB4IG1vdmVtZW50IGFnYWluXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWNoU3VyZmFjZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNSaXNpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG4gICAgcHVibGljIGRyb3AoKSB7XHJcbiAgICAgICAgLy9yZWxlYXNlIHRoZSBmaXNoXHJcbiAgICAgICAgLy8gdGhpcy5fY2F1Z2h0RmlzaC5kcm9wcGVkKCk7XHJcbiAgICAgICAgdGhpcy5fY2F1Z2h0RmlzaCA9IFtdO1xyXG4gICAgICAgIC8vcmV0dXJuIHF1aWNrbHlcclxuICAgICAgICB0aGlzLnJldHVyblRvU3VyZmFjZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKkNhbGxlZCB3aGVuIGhpdCBieSBhbiBlbmVteS4gKi9cclxuICAgIHB1YmxpYyBpbmp1cmUoZW5lbXkpIHtcclxuICAgICAgICAvL3N0YXJ0IGh1cnQgYW5pbWF0aW9uXHJcbiAgICAgICAgLy9lbmQgYW55IGN1cnJlbnQgdHdlZW5pbmdcclxuICAgICAgICBjcmVhdGVqcy5Ud2Vlbi5yZW1vdmVUd2VlbnModGhpcy5fc3ByaXRlKTtcclxuICAgICAgICB0aGlzLl9zcHJpdGUuZ290b0FuZFBsYXkoQ2F0LkFOSU1BVElPTi5Pdyk7XHJcbiAgICAgICAgdGhpcy5fY2F0WVR3ZWVuID0gY3JlYXRlanMuVHdlZW4uZ2V0KHRoaXMuX3Nwcml0ZSlcclxuICAgICAgICAgICAgLndhaXQoMzApXHJcbiAgICAgICAgICAgIC50byh7eToyMH0sIDEwMDAsIGNyZWF0ZWpzLkVhc2UubGluZWFyKVxyXG4gICAgICAgICAgICAuY2FsbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL29uY2UgdGhlIHN1cmZhY2UgaGFzIGJlZW4gcmVhY2hlZCwgYWxsb3cgeCBtb3ZlbWVudCBhZ2FpblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFjaFN1cmZhY2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Nwcml0ZS5nb3RvQW5kUGxheShDYXQuQU5JTUFUSU9OLklkbGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhY2hTdXJmYWNlKCkge1xyXG4gICAgICAgIC8vaWYgd2UgaGF2ZSBhIGZpc2gsIHNlbmQgdG8gbWFpbiBsb2dpY1xyXG4gICAgICAgIGlmKHRoaXMuX2NhdWdodEZpc2ggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYXVnaHRGaXNoLmZvckVhY2goZiA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkdhbWVTY3JlZW4uY29sbGVjdEZpc2goZik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9jYXVnaHRGaXNoID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9oYXNSZWFjaGVkU3VyZmFjZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBPVkVSUklERVMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICB1cGRhdGUoZ2FtZVRpbWU6bnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlKGdhbWVUaW1lKTtcclxuXHJcblxyXG4gICAgICAgIC8vaWYgd2UgYXJlIHJpc2luZywgYXR0ZW1wdCB0byBjYXRjaCBtb3JlIGZpc2hcclxuICAgICAgICBpZih0aGlzLl9pc1Jpc2luZykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRSWSBUTyBHUkFCXCIpO1xyXG4gICAgICAgICAgICAvL3RyeSB0byBncmFiIGEgZmlzaFxyXG4gICAgICAgICAgICBjb25zdCBmaXNoZXMgPSB0aGlzLkdhbWVTY3JlZW4udHJ5VG9HcmFiRmlzaGVzKHRoaXMuWCAsIHRoaXMuWSk7XHJcbiAgICAgICAgICAgIC8vc2VlIGlmIGEgZmlzaCB3YXMgZ3JhYmJlZFxyXG4gICAgICAgICAgICBpZihmaXNoZXMubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgIHRoaXMuY2F1Z2h0KGZpc2hlcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2RyYWcgZmlzaCB3aXRoIHVzIGlmIHdlIGhhdmUgYW55XHJcbiAgICAgICAgaWYodGhpcy5fY2F1Z2h0RmlzaCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhdWdodEZpc2guZm9yRWFjaChmID0+IHtcclxuICAgICAgICAgICAgICAgIGYuWSA9IHRoaXMuWSAtIDIwO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBHRVRURVJTICYgU0VUVEVSUyAtLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBHUkFCX1JBTkdFKCkgeyByZXR1cm4gMTIwOyB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBBTklNQVRJT04oKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBcIklkbGVcIiA6IFwiY2F0X2lkbGVcIixcclxuICAgICAgICAgICAgXCJEZWF0aFwiIDogXCJjYXRfZGVhdGhcIixcclxuICAgICAgICAgICAgXCJHcmFiXCIgOiBcImNhdF9ncmFiXCIsXHJcbiAgICAgICAgICAgIFwiSG9sZFwiIDogXCJjYXRfZ3JhYl9ob2xkXCIsXHJcbiAgICAgICAgICAgIFwiT3dcIiA6IFwiY2F0X293XCJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgU3BlZWQoKSB7IFxyXG4gICAgICAgIGNvbnN0IGNhdWdodEZpc2hNdWx0ID0gKCh0aGlzLl9jYXVnaHRGaXNoLmxlbmd0aCA+IDApID8gMSArICh0aGlzLl9jYXVnaHRGaXNoLmxlbmd0aCArIHRoaXMuX2Zpc2hDYXVnaHRNdWx0aXBsaWVyKSA6IDEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGNhdWdodEZpc2hNdWx0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNhdWdodEZpc2hNdWx0ICogdGhpcy5fc3BlZWQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IFNwZWVkKHZhbHVlOm51bWJlcikgeyB0aGlzLl9zcGVlZCA9IHZhbHVlOyB9XHJcbn0iLCJpbXBvcnQgeyBJQ3JlYXRlYWJsZSwgSVVwZGF0ZWFibGUgfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xyXG5pbXBvcnQgeyBHYW1lU2NyZWVuIH0gZnJvbSBcIi4uL3NjcmVlbnMvR2FtZVNjcmVlblwiO1xyXG5pbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4uL0dhbWVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFbnRpdHkgaW1wbGVtZW50cyBJQ3JlYXRlYWJsZTxFbnRpdHk+LCBJVXBkYXRlYWJsZSB7XHJcbiAgICBwcml2YXRlIF9nYW1lU2NyZWVuOkdhbWVTY3JlZW47XHJcbiAgICBwcm90ZWN0ZWQgX25hbWU6c3RyaW5nO1xyXG4gICAgcHJvdGVjdGVkIF9zcHJpdGU6Y3JlYXRlanMuU3ByaXRlO1xyXG4gICAgcHJvdGVjdGVkIF9kaXJlY3Rpb246eyB4Om51bWJlciwgeTpudW1iZXIgfTtcclxuICAgIHByaXZhdGUgX3NjYWxpbmc6bnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgX2lzSWdub3JpbmdDb2xsaXNpb246Ym9vbGVhbjtcclxuICAgIHByaXZhdGUgX2lnbm9yZUNvbGxpc2lvblRpbWVyOm51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lU2NyZWVuOkdhbWVTY3JlZW4sIHNwcml0ZXNoZWV0OmNyZWF0ZWpzLlNwcml0ZVNoZWV0KSB7XHJcbiAgICAgICAgdGhpcy5fZ2FtZVNjcmVlbiA9IGdhbWVTY3JlZW47XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlID0gbmV3IGNyZWF0ZWpzLlNwcml0ZShzcHJpdGVzaGVldCk7XHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0geyB4OjEsIHk6MSB9O1xyXG5cclxuICAgICAgICB0aGlzLl9pc0lnbm9yaW5nQ29sbGlzaW9uID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5faWdub3JlQ29sbGlzaW9uVGltZXIgPSAwO1xyXG5cclxuICAgICAgICAvL2dldCB0aGUgZ2FtZSBzY2FsZVxyXG4gICAgICAgIHRoaXMuX3NjYWxpbmcgPSB0aGlzLl9nYW1lU2NyZWVuLkdhbWUuU2NhbGluZztcclxuICAgIH1cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgY3JlYXRlKGNvbnRhaW5lcjpjcmVhdGVqcy5Db250YWluZXIpOkVudGl0eSB7XHJcbiAgICAgICAgKHRoaXMuX3Nwcml0ZSBhcyBhbnkpLnNjYWxlID0gdGhpcy5fc2NhbGluZztcclxuICAgICAgICAvL21vdmUgdG8gbWFpbiBjb250YWluZXJcclxuICAgICAgICBpZihjb250YWluZXIgPT0gbnVsbClcclxuICAgICAgICAgICAgdGhpcy5fZ2FtZVNjcmVlbi5HYW1lLlN0YWdlLmFkZENoaWxkKHRoaXMuX3Nwcml0ZSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGhpcy5fc3ByaXRlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzdHJveSgpOkVudGl0eSB7XHJcbiAgICAgICAgaWYodGhpcy5fc3ByaXRlID09IG51bGwgfHwgdGhpcy5fc3ByaXRlLnBhcmVudCA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgLy9yZW1vdmUgZnJvbSBtYWluIGNvbnRhaW5lclxyXG4gICAgICAgIHRoaXMuX3Nwcml0ZS5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5fc3ByaXRlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZShnYW1lVGltZTpudW1iZXIpIHtcclxuXHJcbiAgICAgICAgIC8vbGlzdGVuIGZvciBjb2xsaXNpb24gaWdub3JlXHJcbiAgICAgICAgaWYodGhpcy5faXNJZ25vcmluZ0NvbGxpc2lvbikge1xyXG4gICAgICAgICAgICB0aGlzLl9pZ25vcmVDb2xsaXNpb25UaW1lcisrO1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5faWdub3JlQ29sbGlzaW9uVGltZXIgPiBFbnRpdHkuSUdOT1JFX0NPTExJU0lPTilcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzSWdub3JpbmdDb2xsaXNpb24gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN0YXJ0SWdub3JlQ29sbGlzaW9uKCkge1xyXG4gICAgICAgIHRoaXMuX2lzSWdub3JpbmdDb2xsaXNpb24gPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHRlc3RTdGFnZUJvdW5kcyhhcnRpZmljaWFsUmVnOnt4Om51bWJlciwgeTpudW1iZXJ9ID0gbnVsbCkge1xyXG4gICAgICAgIGxldCByZWcgPSB7IHg6dGhpcy5fc3ByaXRlLnJlZ1gsIHk6dGhpcy5fc3ByaXRlLnJlZ1kgfTtcclxuICAgICAgICBpZihhcnRpZmljaWFsUmVnICE9IG51bGwpIHtcclxuICAgICAgICAgICAgcmVnID0ge1xyXG4gICAgICAgICAgICAgICAgeDogKHRoaXMuX2RpcmVjdGlvbi54ID4gMCkgPyB0aGlzLkJvdW5kcy5XaWR0aCAqIGFydGlmaWNpYWxSZWcueCA6ICh0aGlzLkJvdW5kcy5XaWR0aCAqICgxIC0gYXJ0aWZpY2lhbFJlZy54KSksXHJcbiAgICAgICAgICAgICAgICB5OiAodGhpcy5fZGlyZWN0aW9uLnkgPiAwKSA/IHRoaXMuQm91bmRzLkhlaWdodCAqIGFydGlmaWNpYWxSZWcueSA6ICh0aGlzLkJvdW5kcy5IZWlnaHQgKiAoMSAtIGFydGlmaWNpYWxSZWcueSkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29uc3QgYm91bmRzID0geyB3aWR0aDp0aGlzLl9nYW1lLlN0YWdlV2lkdGgsIGhlaWdodDogdGhpcy5fZ2FtZS5TdGFnZUhlaWdodCB9O1xyXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHsgd2lkdGg6dGhpcy5fZ2FtZVNjcmVlbi5HYW1lLlN0YWdlV2lkdGgsIGhlaWdodDogdGhpcy5fZ2FtZVNjcmVlbi5HYW1lLlN0YWdlSGVpZ2h0IH07XHJcbiAgICAgICAgY29uc3QgZXh0ZW50cyA9IHsgICBcclxuICAgICAgICAgICAgeDoodGhpcy5fZGlyZWN0aW9uLnggPiAwKSA/ICh0aGlzLkJvdW5kcy5XaWR0aCAtIHJlZy54KSA6IC1yZWcueCwgXHJcbiAgICAgICAgICAgIHk6KHRoaXMuX2RpcmVjdGlvbi55ID4gMCkgPyAodGhpcy5Cb3VuZHMuSGVpZ2h0IC0gcmVnLnkpIDogLXJlZy55IFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vdGVzdCB3YWxsc1xyXG4gICAgICAgIGlmKCh0aGlzLlggKyBleHRlbnRzLngpID4gYm91bmRzLndpZHRoKSByZXR1cm4gRW50aXR5LkhJVC5SaWdodDtcclxuICAgICAgICBlbHNlIGlmKHRoaXMuWCArIGV4dGVudHMueCA8IDApIHJldHVybiBFbnRpdHkuSElULkxlZnQ7XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBPVkVSUklERVMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBHRVRURVJTICYgU0VUVEVSUyAtLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBJR05PUkVfQ09MTElTSU9OKCkgeyByZXR1cm4gMjA7IH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEhJVCgpIHsgcmV0dXJuIE9iamVjdC5mcmVlemUoe1RvcDowLCBSaWdodDoxLCBCb3R0b206MiwgTGVmdDozfSk7IH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0IEdhbWVTY3JlZW4oKSB7IHJldHVybiB0aGlzLl9nYW1lU2NyZWVuOyB9XHJcblxyXG4gICAgcHVibGljIGdldCBTcHJpdGUoKSB7IHJldHVybiB0aGlzLl9zcHJpdGU7IH1cclxuICAgIHB1YmxpYyBnZXQgUGFyZW50KCkgeyByZXR1cm4gdGhpcy5fc3ByaXRlLnBhcmVudDsgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgWCgpIHsgcmV0dXJuIHRoaXMuX3Nwcml0ZS54OyB9XHJcbiAgICBwdWJsaWMgc2V0IFgodmFsdWUpIHsgdGhpcy5fc3ByaXRlLnggPSB2YWx1ZTsgfVxyXG4gICAgcHVibGljIGdldCBZKCkgeyByZXR1cm4gdGhpcy5fc3ByaXRlLnk7IH1cclxuICAgIHB1YmxpYyBzZXQgWSh2YWx1ZSkgeyB0aGlzLl9zcHJpdGUueSA9IHZhbHVlOyB9XHJcblxyXG4gICAgcHVibGljIHNldCBEaXJlY3Rpb25YKHZhbHVlKSB7IFxyXG4gICAgICAgIGNvbnN0IGxhc3RYID0gdGhpcy5fZGlyZWN0aW9uLng7XHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uLnggPSB2YWx1ZTsgXHJcbiAgICAgICAgLy9mbGlwIHNwcml0ZSBpZiBvdXIgZGlyZWN0aW9uIGhhcyBjaGFuZ2VkXHJcbiAgICAgICAgaWYodGhpcy5fZGlyZWN0aW9uLnggIT0gbGFzdFgpIHRoaXMuX3Nwcml0ZS5zY2FsZVggKj0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBCb3VuZHMoKSB7IFxyXG4gICAgICAgIGxldCBib3VuZHMgPSB0aGlzLl9zcHJpdGUuZ2V0Qm91bmRzKCk7XHJcbiAgICAgICAgcmV0dXJuICB7IFdpZHRoOmJvdW5kcy53aWR0aCwgSGVpZ2h0OmJvdW5kcy5oZWlnaHQgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IElzSWdub3JpbmdDb2xsaXNpb24oKSB7IHJldHVybiB0aGlzLl9pc0lnbm9yaW5nQ29sbGlzaW9uOyB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4uL0dhbWVcIjtcclxuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vRW50aXR5XCI7XHJcbmltcG9ydCB7IExvYWRNYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL0xvYWRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IElFbmFibGVhYmxlIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcclxuaW1wb3J0IHsgTG9nZ2luZyB9IGZyb20gXCIuLi9GdW5jdGlvbnNcIjtcclxuaW1wb3J0IHsgR2FtZVNjcmVlbiB9IGZyb20gXCIuLi9zY3JlZW5zL0dhbWVTY3JlZW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGaXNoIGV4dGVuZHMgRW50aXR5IGltcGxlbWVudHMgSUVuYWJsZWFibGUge1xyXG4gICAgcHJpdmF0ZSBfc3BlZWQ6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfbmF0dXJhbFk6bnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgX2lzQ2F1Z2h0OmJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ2FtZVNjcmVlbjpHYW1lU2NyZWVuKSB7XHJcbiAgICAgICAgc3VwZXIoZ2FtZVNjcmVlbiwgTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLkZpc2hfU3ByaXRlc2hlZXQpO1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMTtcclxuXHJcbiAgICAgICAgdGhpcy5faXNDYXVnaHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLmdvdG9BbmRQbGF5KEZpc2guQU5JTUFUSU9OLlNsb3cpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIFxyXG5cclxuXHJcbiAgICAvKioqKioqKioqKioqKioqL1xyXG4gICAgLyogICBBQ1RJT05TICAgKi9cclxuICAgIC8qKioqKioqKioqKioqKiovXHJcbiAgICBwdWJsaWMgc2V0TmF0dXJhbFkoKSB7XHJcbiAgICAgICAgdGhpcy5fbmF0dXJhbFkgPSB0aGlzLlk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhdGNoKCkge1xyXG4gICAgICAgIGlmKHRoaXMuX2lzQ2F1Z2h0KSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgTG9nZ2luZy5tZXNzYWdlKFwiRmlzaCB3YXMgZ3JhYmJlZCFcIik7XHJcbiAgICAgICAgdGhpcy5faXNDYXVnaHQgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLl9zcHJpdGUuZ290b0FuZFBsYXkoRmlzaC5BTklNQVRJT04uUGFuaWMpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipUZXN0IHRvIHNlZSBpZiBnbG9iYWwgcG9zaXRpb24gaGl0cyBzcHJpdGUuICovXHJcbiAgICBwdWJsaWMgdGVzdEhpdCh4Om51bWJlciwgeTpudW1iZXIpOmJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zcHJpdGUuaGl0VGVzdCh4LCB5KTtcclxuICAgIH1cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEFCU1RSQUNUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEVWRU5UUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE9WRVJSSURFUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5kaXNhYmxlKCk7XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLmRlc3Ryb3koKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZ2FtZVRpbWU6bnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlKGdhbWVUaW1lKTtcclxuXHJcbiAgICAgICAgLy9tb3ZlIHRoZSBmaXNoeVxyXG4gICAgICAgIGlmKCF0aGlzLl9pc0NhdWdodClcclxuICAgICAgICAgICAgdGhpcy5YICs9IHRoaXMuX3NwZWVkICogZ2FtZVRpbWUgKiB0aGlzLl9kaXJlY3Rpb24ueDtcclxuXHJcbiAgICAgICAgLy90ZXN0IGNvbGxpc2lvblxyXG4gICAgICAgIGlmKCF0aGlzLklzSWdub3JpbmdDb2xsaXNpb24pIHtcclxuXHJcbiAgICAgICAgICAgIC8vaWYgZmlzaCBoaXRzIHRoZSBlZGdlLCBmbGlwIGRpcmVjdGlvblxyXG4gICAgICAgICAgICBjb25zdCBoaXQgPSB0aGlzLnRlc3RTdGFnZUJvdW5kcyh7eDowLjUsIHk6MC41fSk7XHJcbiAgICAgICAgICAgIHN3aXRjaChoaXQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgRW50aXR5LkhJVC5SaWdodDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24ueCAqPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zcHJpdGUuc2NhbGVYICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRJZ25vcmVDb2xsaXNpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlggLT0gNSAtIHRoaXMuQm91bmRzLldpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBFbnRpdHkuSElULkxlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uLnggKj0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3ByaXRlLnNjYWxlWCAqPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0SWdub3JlQ29sbGlzaW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5YICs9IDUgLSB0aGlzLkJvdW5kcy5XaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZW5hYmxlKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkaXNhYmxlKCkge1xyXG5cclxuICAgIH1cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEdFVFRFUlMgJiBTRVRURVJTIC0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEFOSU1BVElPTigpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIFwiU2xvd1wiIDogXCJmaXNoX3N3aW1fc2xvd1wiLFxyXG4gICAgICAgICAgICBcIkZhc3RcIiA6IFwiZmlzaF9zd2ltX2Zhc3RcIixcclxuICAgICAgICAgICAgXCJQYW5pY1wiIDogXCJmaXNoX3N3aW1fcGFuaWNcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBTcGVlZCgpIHsgcmV0dXJuIHRoaXMuX3NwZWVkOyB9XHJcbiAgICBwdWJsaWMgc2V0IFNwZWVkKHZhbHVlOm51bWJlcikgeyB0aGlzLl9zcGVlZCA9IHZhbHVlOyB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vR2FtZVwiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgZ2FtZSA9IG5ldyBHYW1lKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZS1jYW52YXNcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQpO1xyXG59KTsiLCJpbXBvcnQgeyBTY3JlZW4gfSBmcm9tIFwiLi4vc2NyZWVucy9TY3JlZW5cIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV29ybGRzRGF0YSB7XHJcbiAgICB3b3JsZHM6TGV2ZWxEYXRhW107XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTGV2ZWxEYXRhIHtcclxuICAgIG5hbWU6c3RyaW5nO1xyXG4gICAgZGF0YTphbnlbXTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERhdGFNYW5hZ2VyIHtcclxuICAgIHByaXZhdGUgc3RhdGljIF93b3JsZHNEYXRhOldvcmxkc0RhdGE7XHJcblxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qKkxvYWRzIGluIHRoZSB3b3JsZHMgZGF0YSEgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZFdvcmxkc0RhdGEoZmlsZUxvY2F0aW9uOnN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxXb3JsZHNEYXRhPihhc3luYyhyZXMsIHJlaikgPT4ge1xyXG4gICAgICAgICAgICBhd2FpdCBmZXRjaChmaWxlTG9jYXRpb24pXHJcbiAgICAgICAgICAgICAgICAudGhlbihibG9iID0+IGJsb2IuanNvbigpKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fd29ybGRzRGF0YSA9IGpzb247XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzKHRoaXMuX3dvcmxkc0RhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlaihcIkNvdWxkIG5vdCBsb2FkIHdvcmxkIGRhdGEhIFwiICsgZXJyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlJldHVybnMgdGhlIGxldmVsIGRhdGEgcmVjZWl2ZWQgYnkgdGhlIGdpdmVuIGluZGV4LiAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRMZXZlbERhdGFCeUluZGV4KGluZGV4Om51bWJlcikge1xyXG4gICAgICAgIC8vZmxhdHRlbiBsZXZlbCBkYXRhLCBhbmQgZ2V0IGRhdGFcclxuICAgICAgICBsZXQgZmxhdHRlbiA9IFtdLmNvbmNhdC5hcHBseShbXSwgRGF0YU1hbmFnZXIuX3dvcmxkc0RhdGEud29ybGRzKTtcclxuICAgICAgICByZXR1cm4gZmxhdHRlbltpbmRleF07XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBPVkVSUklERVMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBHRVRURVJTICYgU0VUVEVSUyAtLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBXb3JsZHNEYXRhKCk6V29ybGRzRGF0YSB7IHJldHVybiBEYXRhTWFuYWdlci5fd29ybGRzRGF0YTsgfVxyXG59IiwiZXhwb3J0IGNsYXNzIExvYWRNYW5hZ2VyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEFTU0VUU19MT0FERUQoKTpzdHJpbmcgeyByZXR1cm4gXCJvbkFzc2V0c0xvYWRlZFwiOyB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBBU1NFVFNfRkFJTEVEKCk6c3RyaW5nIHsgcmV0dXJuIFwib25Bc3NldHNGYWlsZWRcIjsgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgQVNTRVRTX1VQREFURUQoKTpzdHJpbmcgeyByZXR1cm4gXCJvbkFzc2V0c1VwZGF0ZWRcIjsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU3ByaXRlc2hlZXRzOnsgW2tleTpzdHJpbmddOmNyZWF0ZWpzLlNwcml0ZVNoZWV0IH0gPSB7fTtcclxuICAgIHB1YmxpYyBzdGF0aWMgSW1hZ2VzOnsgW2tleTpzdHJpbmddOmNyZWF0ZWpzLkJpdG1hcCB9ID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3N0YWdlOmNyZWF0ZWpzLlN0YWdlR0w7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfcHJlbG9hZE1hbmFnZXI6Y3JlYXRlanMuTG9hZFF1ZXVlO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3NoZWV0c1RvdGFsOm51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfc2hlZXRzTG9hZGVkOm51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3BlcmNlbnRhZ2U6bnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgc3RhdGljIF90b3RhbEFzc2V0c0xvYWRlZDpudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3RvdGFsQXNzZXRzOm51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgQXNzZXRzTG9hZGVkRXZlbnQ6YW55ID0gbmV3IChjcmVhdGVqcyBhcyBhbnkpLkV2ZW50KExvYWRNYW5hZ2VyLkFTU0VUU19MT0FERUQsIGZhbHNlLCB0cnVlKTtcclxuICAgIHByaXZhdGUgc3RhdGljIEFzc2V0c0ZhaWxlZEV2ZW50OmFueSA9IG5ldyAoY3JlYXRlanMgYXMgYW55KS5FdmVudChMb2FkTWFuYWdlci5BU1NFVFNfRkFJTEVELCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBBc3NldHNVcGRhdGVkRXZlbnQ6YW55ID0gbmV3IChjcmVhdGVqcyBhcyBhbnkpLkV2ZW50KExvYWRNYW5hZ2VyLkFTU0VUU19VUERBVEVELCBmYWxzZSwgdHJ1ZSk7XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIHN0YXRpYyByZXNldCgpIHtcclxuICAgICAgICBMb2FkTWFuYWdlci5fc2hlZXRzVG90YWwgPSAwO1xyXG4gICAgICAgIExvYWRNYW5hZ2VyLl9zaGVldHNMb2FkZWQgPSAwO1xyXG5cclxuICAgICAgICBMb2FkTWFuYWdlci5fcGVyY2VudGFnZSA9IDA7XHJcbiAgICAgICAgTG9hZE1hbmFnZXIuX3RvdGFsQXNzZXRzTG9hZGVkID0gMDtcclxuICAgICAgICBMb2FkTWFuYWdlci5fdG90YWxBc3NldHMgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZEFzc2V0cyhzcmM6c3RyaW5nLCBzdGFnZTpjcmVhdGVqcy5TdGFnZUdMKSB7XHJcbiAgICAgICAgTG9hZE1hbmFnZXIucmVzZXQoKTtcclxuICAgICAgICBMb2FkTWFuYWdlci5fc3RhZ2UgPSBzdGFnZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHJlcywgcmVqKSA9PiB7XHJcbiAgICAgICAgICAgIExvYWRNYW5hZ2VyLl9wcmVsb2FkTWFuYWdlciA9IG5ldyBjcmVhdGVqcy5Mb2FkUXVldWUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vc2V0dXAgc291bmQgY29udHJvbGxlcnNcclxuICAgICAgICAgICAgY3JlYXRlanMuU291bmQucmVnaXN0ZXJQbHVnaW5zKFtjcmVhdGVqcy5XZWJBdWRpb1BsdWdpbiwgY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLCBjcmVhdGVqcy5GbGFzaEF1ZGlvUGx1Z2luXSk7XHJcbiAgICAgICAgICAgIGNyZWF0ZWpzLlNvdW5kLmFsdGVybmF0ZUV4dGVuc2lvbnMgPSBbXCJtcDNcIixcIndhdlwiXTtcclxuICAgICAgICAgICAgTG9hZE1hbmFnZXIuX3ByZWxvYWRNYW5hZ2VyLmluc3RhbGxQbHVnaW4oY3JlYXRlanMuU291bmQpO1xyXG5cclxuICAgICAgICAgICAgLy9zZXR1cCBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgKExvYWRNYW5hZ2VyLl9wcmVsb2FkTWFuYWdlciBhcyBhbnkpLm9uKFwiZmlsZWxvYWRcIiwgTG9hZE1hbmFnZXIuX29uTG9hZGVkLCBMb2FkTWFuYWdlcik7XHJcbiAgICAgICAgICAgIChMb2FkTWFuYWdlci5fcHJlbG9hZE1hbmFnZXIgYXMgYW55KS5vbihcImNvbXBsZXRlXCIsIExvYWRNYW5hZ2VyLl9vbkNvbXBsZXRlLCBMb2FkTWFuYWdlcik7XHJcbiAgICAgICAgICAgIChMb2FkTWFuYWdlci5fcHJlbG9hZE1hbmFnZXIgYXMgYW55KS5vbihcImVycm9yXCIsIExvYWRNYW5hZ2VyLl9vbkVycm9yLCBMb2FkTWFuYWdlcik7XHJcblxyXG4gICAgICAgICAgICAvL2dldCB0aGUgbWFuaWZlc3RcclxuICAgICAgICAgICAgZmV0Y2goc3JjKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oYmxvYiA9PiBibG9iLmpzb24oKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbG9hZCB0aGUgbWFuaWZlc3RcclxuICAgICAgICAgICAgICAgICAgICBMb2FkTWFuYWdlci5fcHJlbG9hZE1hbmFnZXIuc2V0TWF4Q29ubmVjdGlvbnMoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgTG9hZE1hbmFnZXIuX3ByZWxvYWRNYW5hZ2VyLmxvYWRNYW5pZmVzdChkYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgKExvYWRNYW5hZ2VyLl9zdGFnZSBhcyBhbnkpLmFkZEV2ZW50TGlzdGVuZXIoTG9hZE1hbmFnZXIuQVNTRVRTX0xPQURFRCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIExvYWRNYW5hZ2VyLmVtaXRFcnJvckV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqKFwiQ291bGQgbm90IGxvYWQgYXNzZXRzIVwiKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGVtaXRMb2FkZWRFdmVudCgpIHtcclxuICAgICAgICBpZihMb2FkTWFuYWdlci5fc3RhZ2UgIT0gbnVsbCkgKExvYWRNYW5hZ2VyLl9zdGFnZSBhcyBhbnkpLmRpc3BhdGNoRXZlbnQoTG9hZE1hbmFnZXIuQXNzZXRzTG9hZGVkRXZlbnQpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBlbWl0RXJyb3JFdmVudCgpIHtcclxuICAgICAgICBpZihMb2FkTWFuYWdlci5fc3RhZ2UgIT0gbnVsbCkgKExvYWRNYW5hZ2VyLl9zdGFnZSBhcyBhbnkpLmRpc3BhdGNoRXZlbnQoTG9hZE1hbmFnZXIuQXNzZXRzRmFpbGVkRXZlbnQpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBlbWl0VXBkYXRlZEV2ZW50KCkge1xyXG4gICAgICAgIExvYWRNYW5hZ2VyLl9wZXJjZW50YWdlID0gcGFyc2VGbG9hdCgoTG9hZE1hbmFnZXIuX3ByZWxvYWRNYW5hZ2VyLmdldEl0ZW1zKHRydWUpLmxlbmd0aCAvIExvYWRNYW5hZ2VyLl9wcmVsb2FkTWFuYWdlci5nZXRJdGVtcyhmYWxzZSkubGVuZ3RoKS50b0ZpeGVkKDIpKTtcclxuICAgICAgICBpZihMb2FkTWFuYWdlci5fc3RhZ2UgIT0gbnVsbCkgKExvYWRNYW5hZ2VyLl9zdGFnZSBhcyBhbnkpLmRpc3BhdGNoRXZlbnQoTG9hZE1hbmFnZXIuQXNzZXRzVXBkYXRlZEV2ZW50KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2xvYWRlZFNoZWV0KG5hbWU6c3RyaW5nLCBzaGVldDpjcmVhdGVqcy5TcHJpdGVTaGVldCkge1xyXG4gICAgICAgIExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0c1tuYW1lXSA9IHNoZWV0O1xyXG5cclxuICAgICAgICBMb2FkTWFuYWdlci5fc2hlZXRzTG9hZGVkKys7XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfb25Mb2FkZWQoZSkge1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcImFzc2V0IGxvYWRlZDogXCIgKyBlLml0ZW0uc3JjICsgXCIgdHlwZTogXCIgKyBlLml0ZW0udHlwZSk7XHJcblxyXG4gICAgICAgIHN3aXRjaChlLml0ZW0udHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIChjcmVhdGVqcyBhcyBhbnkpLlR5cGVzLkpBVkFTQ1JJUFQ6IHtcclxuICAgICAgICAgICAgICAgIC8vbG9hZCB0aGUgc3ByaXRlc2hlZXRcclxuICAgICAgICAgICAgICAgIExvYWRNYW5hZ2VyLl9zaGVldHNUb3RhbCsrO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaGVldCA9ICh3aW5kb3dbZS5pdGVtLmlkXSBhcyBhbnkpLl9TcHJpdGVTaGVldDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBsaXN0ZW4gZm9yIHNwcml0ZXNoZWV0IHRvIGxvYWRcclxuICAgICAgICAgICAgICAgIGlmKCFzaGVldC5jb21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNoZWV0Lm9uKFwiY29tcGxldGVcIiwgKGV2OmFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBMb2FkTWFuYWdlci5fbG9hZGVkU2hlZXQoZS5pdGVtLmlkLCBzaGVldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIExvYWRNYW5hZ2VyLl9sb2FkZWRTaGVldChlLml0ZW0uaWQsIHNoZWV0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAoY3JlYXRlanMgYXMgYW55KS5UeXBlcy5JTUFHRToge1xyXG4gICAgICAgICAgICAgICAgLy9idWlsZCB0aGUgYml0bWFwXHJcbiAgICAgICAgICAgICAgICBMb2FkTWFuYWdlci5JbWFnZXNbZS5pdGVtLmlkXSA9IG5ldyBjcmVhdGVqcy5CaXRtYXAoZS5pdGVtLnNyYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy91cGRhdGUgZXZlbnRcclxuICAgICAgICBMb2FkTWFuYWdlci5lbWl0VXBkYXRlZEV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX29uQ29tcGxldGUoZSkge1xyXG4gICAgICAgIC8vcmVtb3ZlIGFsbCBwcmVMb2FkTWFuYWdlciBldmVudHNcclxuICAgICAgICAoTG9hZE1hbmFnZXIuX3ByZWxvYWRNYW5hZ2VyIGFzIGFueSkucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICBcclxuICAgICAgICAvL21ha2Ugc3VyZSBhbGwgc3ByaXRlc2hlZXRzIGFyZSBsb2FkZWRcclxuICAgICAgICBpZihMb2FkTWFuYWdlci5fc2hlZXRzTG9hZGVkIDwgTG9hZE1hbmFnZXIuX3NoZWV0c1RvdGFsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvYWRJbnRlcnZhbCA9IHNldEludGVydmFsKChldjphbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vc2VlIGlmIHRoZXkgYXJlIGxvYWRlZFxyXG4gICAgICAgICAgICAgICAgaWYoTG9hZE1hbmFnZXIuX3NoZWV0c0xvYWRlZCA+PSBMb2FkTWFuYWdlci5fc2hlZXRzVG90YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5jbGVhckludGVydmFsKGxvYWRJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgTG9hZE1hbmFnZXIuZW1pdExvYWRlZEV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwMClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBMb2FkTWFuYWdlci5lbWl0TG9hZGVkRXZlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfb25FcnJvcihlKSB7XHJcbiAgICAgICAgTG9hZE1hbmFnZXIuZW1pdEVycm9yRXZlbnQoKTtcclxuICAgIH1cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE9WRVJSSURFUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEdFVFRFUlMgJiBTRVRURVJTIC0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IFBlcmNlbnRhZ2UoKTpudW1iZXIgeyByZXR1cm4gTG9hZE1hbmFnZXIuX3BlcmNlbnRhZ2U7IH1cclxuICAgIFxyXG5cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgU2NyZWVuIH0gZnJvbSBcIi4uL3NjcmVlbnMvU2NyZWVuXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2NyZWVuTWFuYWdlciB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfc2NyZWVuc0xvb2t1cDp7IFtrZXk6c3RyaW5nXTpTY3JlZW4gfSA9IHsgfTtcclxuICAgIHByaXZhdGUgc3RhdGljIF9jdXJyZW50U2NyZWVuOlNjcmVlbiA9IG51bGw7XHJcblxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qKlJlZ2lzdGVycyBhIHNjcmVlbiBpbnRvIHRoZSBTY3JlZW4gTWFuYWdlci4gIFVzZXMgYSBrZXkgdG8gYXNzb2NpYXRlIGl0LiAqL1xyXG4gICAgcHVibGljIHN0YXRpYyByZWdpc3RlclNjcmVlbihrZXk6c3RyaW5nLCBzY3JlZW46U2NyZWVuKTp2b2lkIHtcclxuICAgICAgICAvL2lmIHdlIGRvbid0IGhhdmUgdGhpcyBzY3JlZW4sIGFkZCBpdFxyXG4gICAgICAgIGlmKFNjcmVlbk1hbmFnZXIuX3NjcmVlbnNMb29rdXBba2V5XSA9PSBudWxsKVxyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLl9zY3JlZW5zTG9va3VwW2tleV0gPSBzY3JlZW47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqVW5yZWdpc3RlcnMgYSBzY3JlZW4gZnJvbSB0aGUgU2NyZWVuIE1hbmFnZXIuICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHVucmVnaXN0ZXJTY3JlZW4oa2V5OnN0cmluZyk6Ym9vbGVhbiB7XHJcbiAgICAgICAgaWYoU2NyZWVuTWFuYWdlci5fc2NyZWVuc0xvb2t1cFtrZXldID09IG51bGwpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgU2NyZWVuTWFuYWdlci5fc2NyZWVuc0xvb2t1cFtrZXldID0gbnVsbDtcclxuICAgICAgICBkZWxldGUgU2NyZWVuTWFuYWdlci5fc2NyZWVuc0xvb2t1cFtrZXldO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlNldHMgdGhlIGN1cnJlbnQgc2NyZWVuLiAgQ2FuIGJlIGRvbmUgd2l0aCB0aGUgc2NyZWVuIGl0c2VsZiBvciBhbiBhc3NvY2lhdGl2ZSBrZXkuICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldEN1cnJlbnRTY3JlZW4oc2NyZWVuOnN0cmluZyB8IFNjcmVlbiwgc3RhZ2U6Y3JlYXRlanMuU3RhZ2VHTCk6UHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgbGV0IHRlbXBTY3JlZW4gPSBudWxsO1xyXG4gICAgICAgIGlmKHNjcmVlbiBpbnN0YW5jZW9mIFNjcmVlbikgdGVtcFNjcmVlbiA9IHNjcmVlbjtcclxuICAgICAgICBlbHNlIHRlbXBTY3JlZW4gPSBTY3JlZW5NYW5hZ2VyLl9zY3JlZW5zTG9va3VwW3NjcmVlbl07XHJcblxyXG4gICAgICAgIC8vaWYgd2UgZGlkIG5vdCBmaW5kIGEgc2NyZWVuLCBkbyBub3QgZm9sbG93IHRocm91Z2hcclxuICAgICAgICBpZih0ZW1wU2NyZWVuID09IG51bGwpIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuXHJcbiAgICAgICAgbGV0IHByb21pc2VzID0gW107XHJcbiAgICAgICAgLy9pZiB3ZSBoYXZlIGEgcHJldmlvdXMgc2NyZWVuLCB3YWl0IGZvciBpdCB0byBmYWRlIG91dFxyXG4gICAgICAgIGlmKFNjcmVlbk1hbmFnZXIuX2N1cnJlbnRTY3JlZW4gIT0gbnVsbClcclxuICAgICAgICBwcm9taXNlcy5wdXNoKFxyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZShhc3luYyhyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vZmFkZSBvdXRcclxuICAgICAgICAgICAgICAgIGNyZWF0ZWpzLlR3ZWVuXHJcbiAgICAgICAgICAgICAgICAgICAgLmdldChTY3JlZW5NYW5hZ2VyLl9jdXJyZW50U2NyZWVuLkNvbnRhaW5lcilcclxuICAgICAgICAgICAgICAgICAgICAudG8oeyBhbHBoYTowIH0sIDUwMCwgY3JlYXRlanMuRWFzZS5saW5lYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhbGwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLl9jdXJyZW50U2NyZWVuLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgIC8vd2FpdCBmb3IgY2VydGFpbiBhY3Rpb25zIHRvIGZpbmlzaFxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyhyZXMpID0+IHtcclxuICAgICAgICAgICAgLy93YWl0IGZvciBwcm9taXNlcyB0byBmaW5pc2hcclxuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG5cclxuICAgICAgICAgICAgLy9ub3cgYWRkIGluIHRoZSBuZXcgb25lXHJcbiAgICAgICAgICAgIFNjcmVlbk1hbmFnZXIuX2N1cnJlbnRTY3JlZW4gPSB0ZW1wU2NyZWVuO1xyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLl9jdXJyZW50U2NyZWVuLmNyZWF0ZShzdGFnZSk7XHJcbiAgICAgICAgICAgIFNjcmVlbk1hbmFnZXIuX2N1cnJlbnRTY3JlZW4uQ29udGFpbmVyLmFscGhhID0gMDtcclxuICAgICAgICAgICAgU2NyZWVuTWFuYWdlci5fY3VycmVudFNjcmVlbi5kaXNhYmxlKCk7IC8vZGlzYWJsZSB1bnRpbCByZWFkeVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZBREUgSU5cIilcclxuICAgICAgICAgICAgLy9mYWRlIGluXHJcbiAgICAgICAgICAgIGNyZWF0ZWpzLlR3ZWVuXHJcbiAgICAgICAgICAgICAgICAuZ2V0KFNjcmVlbk1hbmFnZXIuX2N1cnJlbnRTY3JlZW4uQ29udGFpbmVyKVxyXG4gICAgICAgICAgICAgICAgLnRvKHsgYWxwaGE6MSB9LCAxMjAwLCBjcmVhdGVqcy5FYXNlLmxpbmVhcilcclxuICAgICAgICAgICAgICAgIC5jYWxsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRPTkVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgU2NyZWVuTWFuYWdlci5fY3VycmVudFNjcmVlbi5lbmFibGUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFNjcmVlbkJ5S2V5KGtleTpzdHJpbmcpOlNjcmVlbiB7XHJcbiAgICAgICAgcmV0dXJuIFNjcmVlbk1hbmFnZXIuX3NjcmVlbnNMb29rdXBba2V5XTtcclxuICAgIH1cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEFCU1RSQUNUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEVWRU5UUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE9WRVJSSURFUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEdFVFRFUlMgJiBTRVRURVJTIC0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEFsbFNjcmVlbnMoKSB7IHJldHVybiBTY3JlZW5NYW5hZ2VyLl9zY3JlZW5zTG9va3VwOyB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBDdXJyZW50U2NyZWVuKCkgeyByZXR1cm4gU2NyZWVuTWFuYWdlci5fY3VycmVudFNjcmVlbjsgfVxyXG59IiwiaW1wb3J0IHsgU2NyZWVuIH0gZnJvbSBcIi4vU2NyZWVuXCI7XHJcbmltcG9ydCB7IFNjcmVlbk1hbmFnZXIgfSBmcm9tIFwiLi4vbWFuYWdlcnMvU2NyZWVuTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZFNjcmVlbiBleHRlbmRzIFNjcmVlbiB7XHJcbiAgICBwcml2YXRlIF9zcGxhc2g6Y3JlYXRlanMuU2hhcGU7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gQUJTVFJBQ1RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgY3JlYXRlKHN0YWdlOmNyZWF0ZWpzLlN0YWdlR0wpOlNjcmVlbiB7XHJcbiAgICAgICAgLy9hZGQgc3R1ZmZcclxuICAgICAgICB0aGlzLl9zcGxhc2ggPSBuZXcgY3JlYXRlanMuU2hhcGUoKTtcclxuICAgICAgICB0aGlzLl9zcGxhc2guZ3JhcGhpY3MuYmVnaW5GaWxsKFwicGlua1wiKTtcclxuICAgICAgICB0aGlzLl9zcGxhc2guZ3JhcGhpY3MuZHJhd1JlY3QoMCwgMCwgMjAwLCAxMDApO1xyXG4gICAgICAgIHRoaXMuX3NwbGFzaC5ncmFwaGljcy5lbmRGaWxsKCk7XHJcbiAgICAgICAgdGhpcy5fc3BsYXNoLmNhY2hlKDAsIDAsIDIwMCwgMTAwKTtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkQ2hpbGQodGhpcy5fc3BsYXNoKTtcclxuICAgICAgICBzdXBlci5jcmVhdGUoc3RhZ2UpO1xyXG5cclxuICAgICAgICAgLy9mb3IgdGVzdGluZ1xyXG4gICAgICAgICh0aGlzLl9jb250YWluZXIgYXMgYW55KS5vbihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIFNjcmVlbk1hbmFnZXIuc2V0Q3VycmVudFNjcmVlbihcImVuZFwiLCBzdGFnZSk7XHJcbiAgICAgICAgfSwgdGhpcywgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG59IiwiaW1wb3J0IHsgU2NyZWVuIH0gZnJvbSBcIi4vU2NyZWVuXCI7XHJcbmltcG9ydCB7IFNjcmVlbk1hbmFnZXIgfSBmcm9tIFwiLi4vbWFuYWdlcnMvU2NyZWVuTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBPYmplY3RQb29sIH0gZnJvbSBcIi4uL09iamVjdFBvb2xcIjtcclxuaW1wb3J0IHsgRmlzaCB9IGZyb20gXCIuLi9lbnRpdGllcy9GaXNoXCI7XHJcbmltcG9ydCB7IENhdCB9IGZyb20gXCIuLi9lbnRpdGllcy9DYXRcIjtcclxuaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuLi9HYW1lXCI7XHJcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuLi91aS9kaXNwbGF5L0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBTcHJpdGVzIH0gZnJvbSBcIi4uL3VpL1Nwcml0ZXNcIjtcclxuaW1wb3J0IHsgTG9nZ2luZyB9IGZyb20gXCIuLi9GdW5jdGlvbnNcIjtcclxuaW1wb3J0IHsgTGV2ZWxEYXRhIH0gZnJvbSBcIi4uL21hbmFnZXJzL0RhdGFNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IExvYWRNYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL0xvYWRNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjcmVlbiBleHRlbmRzIFNjcmVlbiB7XHJcbiAgICBwcml2YXRlIF9nYW1lOkdhbWU7XHJcbiAgICBwcml2YXRlIF9sZXZlbERhdGE6TGV2ZWxEYXRhO1xyXG5cclxuICAgIC8vY3JlYXRlIGNvbnRhaW5lcnNcclxuICAgIHByaXZhdGUgX3N0YXRpY0NvbnRhaW5lcjpDb250YWluZXI7XHJcbiAgICBwcml2YXRlIF9maXNoQ29udGFpbmVyOmNyZWF0ZWpzLkNvbnRhaW5lcjtcclxuXHJcbiAgICBwcml2YXRlIF93aW5Db250YWluZXI6Y3JlYXRlanMuQ29udGFpbmVyO1xyXG4gICAgcHJpdmF0ZSBfd2luQmFubmVyOmNyZWF0ZWpzLlNoYXBlO1xyXG4gICAgcHJpdmF0ZSBfd2luVGV4dDpjcmVhdGVqcy5CaXRtYXBUZXh0O1xyXG5cclxuICAgIHByaXZhdGUgX2NhdDpDYXQ7XHJcbiAgICBwcml2YXRlIF9maXNoZXM6RmlzaFtdO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIF9yZW1haW5pbmdGaXNoOm51bWJlcjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoZ2FtZTpHYW1lKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLl9nYW1lID0gZ2FtZTtcclxuICAgICAgICB0aGlzLl9maXNoZXMgPSBbXTtcclxuICAgICAgICB0aGlzLl9yZW1haW5pbmdGaXNoID0gLTE7XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxEYXRhID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy9jcmVhdGUgb2JqZWN0IHBvb2xcclxuICAgICAgICBPYmplY3RQb29sLmNyZWF0ZVBvb2xPYmplY3QobmV3IENhdCh0aGlzKSwgUE9PTC5DQVQpXHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IDEyMDsgaSsrKSB7XHJcbiAgICAgICAgICAgIE9iamVjdFBvb2wuY3JlYXRlUG9vbE9iamVjdChuZXcgRmlzaCh0aGlzKSwgUE9PTC5GSVNIKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZm9yKGxldCBpID0gMDsgaSA8IDMwOyBpKyspIHtcclxuICAgICAgICAvLyAgICAgT2JqZWN0UG9vbC5jcmVhdGVQb29sT2JqZWN0KG5ldyBQdWZmZXIodGhpcy5fZ2FtZSksIFBPT0wuUFVGRkVSRklTSClcclxuICAgICAgICAvLyB9XHJcblxyXG5cclxuICAgICAgICAvL3Bvb2wgb3V0IHN0YXRpYyBraXR0eVxyXG4gICAgICAgIHRoaXMuX2NhdCA9IChPYmplY3RQb29sLmNoZWNrb3V0KFBPT0wuQ0FUKSBhcyBDYXQpO1xyXG5cclxuICAgICAgICAvL2NyZWF0ZSBjb250YWluZXJzXHJcbiAgICAgICAgdGhpcy5fc3RhdGljQ29udGFpbmVyID0gbmV3IENvbnRhaW5lcigpO1xyXG4gICAgICAgIHRoaXMuX3N0YXRpY0NvbnRhaW5lci5hZGRNYW55KHtcclxuICAgICAgICAgICAgYmcgOiBTcHJpdGVzLkJhY2tncm91bmRzLkJHXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2Zpc2hDb250YWluZXIgPSBuZXcgY3JlYXRlanMuQ29udGFpbmVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX3dpbkNvbnRhaW5lciA9IG5ldyBjcmVhdGVqcy5Db250YWluZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcblxyXG4gICAgLyoqQXR0ZW1wdHMgdG8gZ3JhYiBhIGZpc2guICBSZXR1cm5zIGFueSBmaXNoIHRoYXQgYXJlIHRvdWNoaW5nIHRoZSBnbG9iYWwgcG9zaXRpb24uICovXHJcbiAgICBwdWJsaWMgdHJ5VG9HcmFiRmlzaGVzKHg6bnVtYmVyLCB5Om51bWJlcik6RmlzaFtdIHtcclxuICAgICAgICBsZXQgZmlzaGVzID0gW107XHJcblxyXG4gICAgICAgIC8vc2VlIGlmIGFueSBmaXNoIGlzIGdyYWJiYWJsZSBhdCB0aGVzZSBjb29yZHMgYW5kIHJldHVybiBpZiBzb1xyXG4gICAgICAgIC8vZm9yIGVhY2ggZmlzaCwgdGVzdCB0aGUgZGlzdGFuY2UgYW5kIHJldHVybiBpZiBjbG9zZVxyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLl9maXNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZmlzaCA9IHRoaXMuX2Zpc2hlc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsUG9zID0gZmlzaC5TcHJpdGUuZ2xvYmFsVG9Mb2NhbCh4LCB5KTtcclxuICAgICAgICAgICAgY29uc3QgaGl0RmlzaCA9IGZpc2gudGVzdEhpdChsb2NhbFBvcy54LCBsb2NhbFBvcy55KTtcclxuXHJcbiAgICAgICAgICAgIGlmKGhpdEZpc2gpIHtcclxuICAgICAgICAgICAgICAgIGZpc2hlcy5wdXNoKGZpc2gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vaWYgbm8gZmlzaCB3YXMgY2F1Z2h0LCByZXR1cm4gbnVsbFxyXG4gICAgICAgIHJldHVybiBmaXNoZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbGxlY3RGaXNoKGZpc2g6RmlzaCkge1xyXG4gICAgICAgIC8vZ2V0IGZpc2hcclxuICAgICAgICBMb2dnaW5nLnN1Y2Nlc3MoXCJHT1QgRklTSCFcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IGtpbGxlZEZpc2ggPSBmaXNoLmRlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgLy9kZWNyZW1lbnQgZmlzaCBjb3VudGVyIC0tIG1ha2Ugc3VyZSB3ZSBkaWRuJ3QgbWFrZSBhbiBlcnJvclxyXG4gICAgICAgIGlmKGtpbGxlZEZpc2ggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW1haW5pbmdGaXNoLS07XHJcblxyXG4gICAgICAgICAgICAvL2lmIGFsbCBvdXIgZmlzaCBhcmUgZ29uZSwgZW5kIHRoZSBnYW1lIVxyXG4gICAgICAgICAgICBpZih0aGlzLl9yZW1haW5pbmdGaXNoIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIC8vd2luIGdhbWUhXHJcbiAgICAgICAgICAgICAgICBMb2dnaW5nLnN1Y2Nlc3MoXCJHQU1FIElTIE9WRVIhXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy53aW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHdpbigpIHtcclxuICAgICAgICB0aGlzLmRpc2FibGUoKTtcclxuICAgICAgICAvL3Nob3cgd2luIGJhbm5lclxyXG4gICAgICAgIGNyZWF0ZWpzLlR3ZWVuLmdldCh0aGlzLl93aW5Db250YWluZXIpXHJcbiAgICAgICAgICAgIC50byh7eTp0aGlzLl9nYW1lLlN0YWdlSGVpZ2h0IC8gMiAtIDI1fSwgNjAwLCBjcmVhdGVqcy5FYXNlLmVsYXN0aWNPdXQpXHJcbiAgICAgICAgICAgIC53YWl0KDIwMDApXHJcbiAgICAgICAgICAgIC5jYWxsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vdHJhbnNpdGlvbiB0byBlbmQgc2NyZWVuXHJcbiAgICAgICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLnNldEN1cnJlbnRTY3JlZW4oXCJlbmRcIiwgdGhpcy5fZ2FtZS5TdGFnZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBTY3JlZW5NYW5hZ2VyLnNldEN1cnJlbnRTY3JlZW4oXCJtZW51XCIsIHRoaXMuX2dhbWUuU3RhZ2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBPVkVSUklERVMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgY3JlYXRlKHN0YWdlOmNyZWF0ZWpzLlN0YWdlR0wpOlNjcmVlbiB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlKHN0YWdlKTtcclxuICAgICAgICAvL2FkZCBzdHVmZlxyXG4gICAgICAgIHRoaXMuX3N0YXRpY0NvbnRhaW5lci5jaGVja291dFNwcml0ZXMoKTtcclxuICAgICAgICB0aGlzLl9zdGF0aWNDb250YWluZXIuU3ByaXRlcy5iZy55ID0gMDtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkQ2hpbGQodGhpcy5fc3RhdGljQ29udGFpbmVyLkNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl9maXNoQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgLy9hZGQgY29uZGl0aW9uYWwgdGV4dFxyXG4gICAgICAgIHRoaXMuX3dpbkJhbm5lciA9IG5ldyBjcmVhdGVqcy5TaGFwZSgpO1xyXG4gICAgICAgIHRoaXMuX3dpbkJhbm5lci5ncmFwaGljcy5iZWdpbkZpbGwoXCJibGFja1wiKTtcclxuICAgICAgICB0aGlzLl93aW5CYW5uZXIuZ3JhcGhpY3MuZHJhd1JlY3QoMCwgMCwgdGhpcy5fZ2FtZS5TdGFnZVdpZHRoLCA1MCk7XHJcbiAgICAgICAgdGhpcy5fd2luQmFubmVyLmNhY2hlKDAsIDAsIHRoaXMuX2dhbWUuU3RhZ2VXaWR0aCwgNTApO1xyXG4gICAgICAgIHRoaXMuX3dpbkNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl93aW5CYW5uZXIpO1xyXG4gICAgICAgIHRoaXMuX3dpblRleHQgPSBTcHJpdGVzLmdlbmVyYXRlQml0bWFwVGV4dChcIldpbiFcIiwgTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLlR5cG9ncmFwaHlXaGl0ZSk7XHJcbiAgICAgICAgdGhpcy5fd2luQ29udGFpbmVyLmFkZENoaWxkKHRoaXMuX3dpblRleHQpO1xyXG4gICAgICAgIHRoaXMuX3dpblRleHQueCA9ICh0aGlzLl9nYW1lLlN0YWdlV2lkdGggLyAyKSAtICh0aGlzLl93aW5UZXh0LmdldEJvdW5kcygpLndpZHRoIC8gMik7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl93aW5Db250YWluZXIpO1xyXG4gICAgICAgIHRoaXMuX3dpbkNvbnRhaW5lci4geSA9IHRoaXMuX2dhbWUuU3RhZ2VIZWlnaHQgKyA1MDtcclxuICAgICAgICB0aGlzLl93aW5Db250YWluZXIubW91c2VFbmFibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2NhdC5jcmVhdGUodGhpcy5fY29udGFpbmVyKTtcclxuXHJcblxyXG4gICAgICAgIC8vYWRkIGxldmVsIGRhdGEgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgaWYodGhpcy5fbGV2ZWxEYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgLy9sb2FkIGluIGNyaXR0ZXJzXHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLl9sZXZlbERhdGEuZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX2xldmVsRGF0YS5kYXRhW2ldO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKGRhdGEuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFBPT0wuRklTSDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlzaCA9IChPYmplY3RQb29sLmNoZWNrb3V0KFBPT0wuRklTSCkgYXMgRmlzaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpc2guY3JlYXRlKHRoaXMuX2Zpc2hDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnNwZWVkICE9IG51bGwpIGZpc2guU3BlZWQgPSBkYXRhLnNwZWVkOyAvL3NldCB2YXJpYWJsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS54ICE9IG51bGwpIGZpc2guWCA9IGRhdGEueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS55ICE9IG51bGwpIGZpc2guWSA9IGRhdGEueTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5mbGlwICE9IG51bGwgJiYgZGF0YS5mbGlwKSBmaXNoLkRpcmVjdGlvblggPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlzaC5zZXROYXR1cmFsWSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXNoZXMucHVzaChmaXNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9ICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vc2V0IGZpc2ggdG90YWxcclxuICAgICAgICAgICAgdGhpcy5fcmVtYWluaW5nRmlzaCA9IHRoaXMuX2Zpc2hlcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLl9jYXQuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuX2Zpc2hlcy5mb3JFYWNoKGYgPT4gZi5kZXN0cm95KCkpO1xyXG4gICAgICAgIHRoaXMuX2Zpc2hDb250YWluZXIucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZmlzaGVzID0gW107XHJcblxyXG4gICAgICAgIHJldHVybiBzdXBlci5kZXN0cm95KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZShnYW1lVGltZTpudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBub3JtYWxpemVkVGltZSA9IE1hdGgubWluKDEsIGdhbWVUaW1lKSArIDAuNTtcclxuXHJcbiAgICAgICAgLy91cGRhdGUgZW50aXRpZXNcclxuICAgICAgICB0aGlzLl9maXNoZXMuZm9yRWFjaChmaXNoID0+IHtcclxuICAgICAgICAgICAgZmlzaC51cGRhdGUobm9ybWFsaXplZFRpbWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXQudXBkYXRlKG5vcm1hbGl6ZWRUaW1lKTtcclxuXHJcbiAgICAgICAgc3VwZXIudXBkYXRlKGdhbWVUaW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZW5hYmxlKCkge1xyXG4gICAgICAgICh0aGlzLl9jb250YWluZXIgYXMgYW55KS5vbihcImNsaWNrXCIsIHRoaXMuX2NhdC5ncmFiLCB0aGlzLl9jYXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNhYmxlKCkge1xyXG4gICAgICAgICh0aGlzLl9jb250YWluZXIgYXMgYW55KS5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIGdldCBHYW1lKCkgeyByZXR1cm4gdGhpcy5fZ2FtZTsgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgTGV2ZWxEYXRhKGRhdGE6TGV2ZWxEYXRhKSB7IHRoaXMuX2xldmVsRGF0YSA9IGRhdGE7IH1cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUE9PTCB7IFxyXG4gICAgc3RhdGljIGdldCBDQVQoKSB7IHJldHVybiBcImNhdFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IEZJU0goKSB7IHJldHVybiBcImZpc2hcIjsgfVxyXG4gICAgc3RhdGljIGdldCBQVUZGRVJGSVNIKCkgeyByZXR1cm4gXCJwdWZmZXJcIjsgfVxyXG59IiwiaW1wb3J0IHsgU2NyZWVuIH0gZnJvbSBcIi4vU2NyZWVuXCI7XHJcbmltcG9ydCB7IFNjcmVlbk1hbmFnZXIgfSBmcm9tIFwiLi4vbWFuYWdlcnMvU2NyZWVuTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTcHJpdGVzIH0gZnJvbSBcIi4uL3VpL1Nwcml0ZXNcIjtcclxuaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuLi9HYW1lXCI7XHJcbmltcG9ydCB7IExvYWRNYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL0xvYWRNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSW50ZXJtZWRpYXJ5U2NyZWVuIGV4dGVuZHMgU2NyZWVuIHtcclxuICAgIHByaXZhdGUgX2dhbWU6R2FtZTtcclxuICAgIHByaXZhdGUgX2JnOmNyZWF0ZWpzLlNoYXBlO1xyXG4gICAgcHJpdmF0ZSBfdGV4dENvbnRhaW5lcjpjcmVhdGVqcy5Db250YWluZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBfdGV4dDpzdHJpbmc7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKGdhbWU6R2FtZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZSA9IGdhbWU7XHJcblxyXG4gICAgICAgIHRoaXMuX3RleHQgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qKkNob29zZXMgdGhlIHNjcmVlbiB0byBsb2FkIGluIGFmdGVyIHRoZSBpbnRlcm1lZGlhcnkuICovXHJcbiAgICBwdWJsaWMgcXVldWVOZXh0U2NyZWVuKHNjcmVlbktleTpzdHJpbmcsIGR1cmF0aW9uOm51bWJlcj0zMDAwKSB7XHJcbiAgICAgICAgY29uc3QgZXZ0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAvL2xvYWQgdGhlIHNjcmVlblxyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLnNldEN1cnJlbnRTY3JlZW4oc2NyZWVuS2V5LCB0aGlzLl9nYW1lLlN0YWdlKTtcclxuICAgICAgICAgICAgLy9jbGVhciB0aGUgdGltZW91dFxyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGV2dCk7XHJcbiAgICAgICAgfSwgZHVyYXRpb24pO1xyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gQUJTVFJBQ1RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIGNyZWF0ZShzdGFnZTpjcmVhdGVqcy5TdGFnZUdMKTpTY3JlZW4ge1xyXG4gICAgICAgIC8vYWRkIHN0dWZmXHJcbiAgICAgICAgdGhpcy5fYmcgPSBuZXcgY3JlYXRlanMuU2hhcGUoKTtcclxuICAgICAgICB0aGlzLl9iZy5ncmFwaGljcy5iZWdpbkZpbGwoXCIjMTkxOTE5XCIpO1xyXG4gICAgICAgIHRoaXMuX2JnLmdyYXBoaWNzLmRyYXdSZWN0KDAsIDAsIHRoaXMuX2dhbWUuU3RhZ2VXaWR0aCwgdGhpcy5fZ2FtZS5TdGFnZUhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5fYmcuZ3JhcGhpY3MuZW5kRmlsbCgpO1xyXG4gICAgICAgIHRoaXMuX2JnLmNhY2hlKDAsIDAsIHRoaXMuX2dhbWUuU3RhZ2VXaWR0aCwgdGhpcy5fZ2FtZS5TdGFnZUhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZENoaWxkKHRoaXMuX2JnKTtcclxuXHJcbiAgICAgICAgdGhpcy5fdGV4dENvbnRhaW5lciA9IG5ldyBjcmVhdGVqcy5Db250YWluZXIoKTtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkQ2hpbGQodGhpcy5fdGV4dENvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIHN1cGVyLmNyZWF0ZShzdGFnZSk7XHJcblxyXG4gICAgICAgIC8vZm9yIHRlc3RpbmdcclxuICAgICAgICAodGhpcy5fY29udGFpbmVyIGFzIGFueSkub24oXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLnNldEN1cnJlbnRTY3JlZW4oXCJtZW51XCIsIHN0YWdlKTtcclxuICAgICAgICB9LCB0aGlzLCB0cnVlKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5fdGV4dCAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoZSB0ZXh0XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBTcHJpdGVzLmdlbmVyYXRlQml0bWFwVGV4dCh0aGlzLl90ZXh0LCBMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuVHlwb2dyYXBoeVdoaXRlKTtcclxuICAgICAgICAgICAgKHRleHQgYXMgYW55KS5zY2FsZSA9IDAuNjtcclxuICAgICAgICAgICAgLy8gY29uc3QgdGV4dCA9IGNyZWF0ZWpzLlNwcml0ZXMuZ2VuZXJhdGVUZXh0KHZhbHVlKTtcclxuICAgICAgICAgICAgLy9sb2FkIGludG8gY29udGFpbmVyXHJcbiAgICAgICAgICAgIHRoaXMuX3RleHRDb250YWluZXIucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dENvbnRhaW5lci5hZGRDaGlsZCh0ZXh0KTtcclxuICAgIFxyXG4gICAgICAgICAgICAvL3B1dCBjb250YWluZXIgYXQgYm90dG9tXHJcbiAgICAgICAgICAgIHRoaXMuX3RleHRDb250YWluZXIueCA9ICh0aGlzLl9nYW1lLlN0YWdlV2lkdGggLyAyKSAtICgodGV4dC5nZXRCb3VuZHMoKS53aWR0aCAvIDIpICogMC42KTtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dENvbnRhaW5lci55ID0gKHRoaXMuX2dhbWUuU3RhZ2VIZWlnaHQgLyAyKSAtICh0ZXh0LmdldEJvdW5kcygpLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dENvbnRhaW5lci5yZW1vdmVBbGxDaGlsZHJlbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIHNldCBUZXh0KHZhbHVlOnN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX3RleHQgPSB2YWx1ZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFNjcmVlbiB9IGZyb20gXCIuL1NjcmVlblwiO1xyXG5pbXBvcnQgeyBTY3JlZW5NYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL1NjcmVlbk1hbmFnZXJcIjtcclxuaW1wb3J0IHsgU3ByaXRlcyB9IGZyb20gXCIuLi91aS9TcHJpdGVzXCI7XHJcbmltcG9ydCB7IExheW91dCB9IGZyb20gXCIuLi91aS9kaXNwbGF5L0xheW91dFwiO1xyXG5pbXBvcnQgeyBMb2FkTWFuYWdlciB9IGZyb20gXCIuLi9tYW5hZ2Vycy9Mb2FkTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tIFwiLi4vdWkvZGlzcGxheS9Db250YWluZXJcIjtcclxuaW1wb3J0IHsgTG9nZ2luZyB9IGZyb20gXCIuLi9GdW5jdGlvbnNcIjtcclxuaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuLi9HYW1lXCI7XHJcbmltcG9ydCB7IExldmVsU2VsZWN0RGlzcGxheSB9IGZyb20gXCIuLi91aS9jdXN0b20vTGV2ZWxTZWxlY3REaXNwbGF5XCI7XHJcbmltcG9ydCB7IEludGVybWVkaWFyeVNjcmVlbiB9IGZyb20gXCIuL0ludGVybWVkaWFyeVNjcmVlblwiO1xyXG5pbXBvcnQgeyBHYW1lU2NyZWVuIH0gZnJvbSBcIi4vR2FtZVNjcmVlblwiO1xyXG5pbXBvcnQgeyBEYXRhTWFuYWdlciB9IGZyb20gXCIuLi9tYW5hZ2Vycy9EYXRhTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVTY3JlZW4gZXh0ZW5kcyBTY3JlZW4ge1xyXG4gICAgcHJpdmF0ZSBfZ2FtZTpHYW1lO1xyXG4gICAgLy9jb250YWluZXJzXHJcbiAgICBwcml2YXRlIF9zd2lwZUNvbnRhaW5lcjpjcmVhdGVqcy5Db250YWluZXI7XHJcbiAgICBwcml2YXRlIF9zdGF0aWNDb250YWluZXI6Q29udGFpbmVyO1xyXG4gICAgcHJpdmF0ZSBfbWFpbkNvbnRhaW5lcjpDb250YWluZXI7XHJcbiAgICBwcml2YXRlIF9jbGVhcmVkQ29udGFpbmVyOkNvbnRhaW5lcjtcclxuICAgIHByaXZhdGUgX29wdGlvbnNDb250YWluZXI6Q29udGFpbmVyO1xyXG4gICAgcHJpdmF0ZSBfbGV2ZWxTZWxlY3RDb250YWluZXI6Q29udGFpbmVyO1xyXG5cclxuICAgIC8vY3VzdG9tIGNvbnRhaW5lcnNcclxuICAgIHByaXZhdGUgX2xldmVsU2VsZWN0RGlzcGxheTpMZXZlbFNlbGVjdERpc3BsYXk7XHJcblxyXG4gICAgLy9wcm9wZXJ0aWVzXHJcbiAgICBwcml2YXRlIF9zd2lwZVNwZWVkOm51bWJlcjtcclxuICAgIHByaXZhdGUgX2N1cnJlbnRTY3JlZW46c3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBfaW5pdGlhbFN3aXBlUG9zOnt4Om51bWJlciwgeTpudW1iZXJ9O1xyXG4gICAgcHJpdmF0ZSBfZHJhZ1RpbWVyOmFueTtcclxuXHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKGdhbWU6R2FtZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2dhbWUgPSBnYW1lO1xyXG5cclxuICAgICAgICAvL3NldHVwIHN3aXBlIGNvbnRhaW5lciAtLSBob2xkcyBhbGwgbW92aW5nIHNwcml0ZXNcclxuICAgICAgICB0aGlzLl9zd2lwZUNvbnRhaW5lciA9IG5ldyBjcmVhdGVqcy5Db250YWluZXIoKTtcclxuXHJcbiAgICAgICAgLy9zZXR1cCBzdGF0aWMgY29udGFpbmVyXHJcbiAgICAgICAgdGhpcy5fc3RhdGljQ29udGFpbmVyID0gbmV3IENvbnRhaW5lcigpO1xyXG4gICAgICAgIHRoaXMuX3N0YXRpY0NvbnRhaW5lci5hZGRNYW55KHtcclxuICAgICAgICAgICAgYmcgOiBTcHJpdGVzLkJhY2tncm91bmRzLkJHXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vc2V0dXAgbWFpbiBjb250YWluZXJcclxuICAgICAgICB0aGlzLl9tYWluQ29udGFpbmVyID0gbmV3IENvbnRhaW5lcigpO1xyXG4gICAgICAgIHRoaXMuX21haW5Db250YWluZXIuYWRkTWFueSh7XHJcbiAgICAgICAgICAgIGxvZ28gOiBTcHJpdGVzLkJhY2tncm91bmRzLkxvZ28sXHJcbiAgICAgICAgICAgIGZpc2hib3dsIDogU3ByaXRlcy5CdXR0b25zLkZpc2hib3dsLFxyXG4gICAgICAgICAgICBidG5OZXdHYW1lIDogU3ByaXRlcy5CdXR0b25zLk5ld0dhbWUsXHJcbiAgICAgICAgICAgIGJ0bk9wdGlvbnMgOiBTcHJpdGVzLkJ1dHRvbnMuT3B0aW9ucyxcclxuICAgICAgICAgICAgYnRuTGV2ZWxTZWxlY3QgOiBTcHJpdGVzLkJ1dHRvbnMuTGV2ZWxTZWxlY3QsXHJcbiAgICAgICAgICAgIGJ0bkV4aXQgOiBTcHJpdGVzLkJ1dHRvbnMuRXhpdFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL3NldHVwIG9wdGlvbnMgY29udGFpbmVyXHJcbiAgICAgICAgdGhpcy5fb3B0aW9uc0NvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcclxuICAgICAgICB0aGlzLl9vcHRpb25zQ29udGFpbmVyLmFkZE1hbnkoe1xyXG4gICAgICAgICAgICB0eHRPcHRpb25zIDogU3ByaXRlcy5nZW5lcmF0ZUJpdG1hcFRleHQoXCJPcHRpb25zXCIsIExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5UeXBvZ3JhcGh5KSxcclxuICAgICAgICAgICAgYnRuQ2xlYXJEYXRhIDogU3ByaXRlcy5CdXR0b25zLkNsZWFyRGF0YVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnNDb250YWluZXIuQ29udGFpbmVyLnggLT0gdGhpcy5fZ2FtZS5TdGFnZVdpZHRoO1xyXG5cclxuICAgICAgICAvL3NldHVwIGNsZWFyZWQgY29udGFpbmVyXHJcbiAgICAgICAgdGhpcy5fY2xlYXJlZENvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcclxuICAgICAgICB0aGlzLl9jbGVhcmVkQ29udGFpbmVyLmFkZChcInR4dENsZWFyZWRcIiwgU3ByaXRlcy5nZW5lcmF0ZUJpdG1hcFRleHQoXCJEYXRhIHN1Y2Nlc3NmdWxseSBjbGVhcmVkIVwiLCBMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuVHlwb2dyYXBoeSkpO1xyXG4gICAgICAgIHRoaXMuX2NsZWFyZWRDb250YWluZXIuQ29udGFpbmVyLnggLT0gdGhpcy5fZ2FtZS5TdGFnZVdpZHRoO1xyXG4gICAgICAgIHRoaXMuX2NsZWFyZWRDb250YWluZXIuQ29udGFpbmVyLnkgLT0gdGhpcy5fZ2FtZS5TdGFnZUhlaWdodDtcclxuXHJcbiAgICAgICAgLy9zZXR1cCBsZXZlbCBzZWxlY3QgY29udGFpbmVyXHJcbiAgICAgICAgLy8gdGhpcy5fbGV2ZWxTZWxlY3RDb250YWluZXIgPSBuZXcgQ29udGFpbmVyKCk7XHJcbiAgICAgICAgLy8gdGhpcy5fbGV2ZWxTZWxlY3RDb250YWluZXIuYWRkTWFueSh7XHJcbiAgICAgICAgLy8gICAgIHR4dE9wdGlvbnMgOiBTcHJpdGVzLmdlbmVyYXRlQml0bWFwVGV4dChcIkxldmVsIFNlbGVjdFwiLCBMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuVHlwb2dyYXBoeSksXHJcbiAgICAgICAgLy8gICAgIC8vIHN0YXRpY0JHIDogU3ByaXRlcy5CYWNrZ3JvdW5kcy5MZXZlbFNlbGVjdEJHLFxyXG4gICAgICAgIC8vICAgICAvLyAvLyBsZXZlbHMgOiB0aGlzLl9sZXZlbFNlbGVjdExldmVsc0NvbnRhaW5lci5Db250YWluZXJcclxuICAgICAgICAvLyAgICAgLy8gbGV2ZWwxIDogU3ByaXRlcy5jbG9uZVNwcml0ZShTcHJpdGVzLkJ1dHRvbnMuTGV2ZWxFbXB0eSBhcyBTcHJpdGUpLFxyXG4gICAgICAgIC8vICAgICAvLyBsZXZlbDIgOiBTcHJpdGVzLmNsb25lU3ByaXRlKFNwcml0ZXMuQnV0dG9ucy5MZXZlbEVtcHR5IGFzIFNwcml0ZSlcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICAvLyB0aGlzLl9sZXZlbFNlbGVjdERpc3BsYXkgPSBuZXcgTGV2ZWxTZWxlY3REaXNwbGF5KCk7XHJcbiAgICAgICAgLy8gdGhpcy5fbGV2ZWxTZWxlY3RDb250YWluZXIuYWRkKFwibGV2ZWxTZWxlY3RcIiwgdGhpcy5fbGV2ZWxTZWxlY3REaXNwbGF5LkNvbnRhaW5lcik7XHJcbiAgICAgICAgLy8gdGhpcy5fbGV2ZWxTZWxlY3RDb250YWluZXIuQ29udGFpbmVyLnggKz0gdGhpcy5fZ2FtZS5TdGFnZVdpZHRoO1xyXG5cclxuICAgICAgICB0aGlzLl9sZXZlbFNlbGVjdERpc3BsYXkgPSBuZXcgTGV2ZWxTZWxlY3REaXNwbGF5KGdhbWUpO1xyXG4gICAgICAgIHRoaXMuX2xldmVsU2VsZWN0RGlzcGxheS5Db250YWluZXIueCArPSB0aGlzLl9nYW1lLlN0YWdlV2lkdGg7XHJcblxyXG5cclxuICAgICAgICAvL3NldHVwIHByb3BlcnRpZXNcclxuICAgICAgICB0aGlzLl9zd2lwZVNwZWVkID0gODAwO1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRTY3JlZW4gPSBcIm1haW5cIjtcclxuICAgICAgICB0aGlzLl9pbml0aWFsU3dpcGVQb3MgPSB7IHg6LTEsIHk6LTEgfTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gQUJTVFJBQ1RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHJpdmF0ZSBfb25OZXdHYW1lKCkge1xyXG4gICAgICAgIExvZ2dpbmcubWVzc2FnZShcIkdvIHRvIG5ldyBnYW1lIVwiKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBkYXRhID0gRGF0YU1hbmFnZXIuZ2V0TGV2ZWxEYXRhQnlJbmRleCgwKTtcclxuICAgICAgICAoU2NyZWVuTWFuYWdlci5nZXRTY3JlZW5CeUtleShcImdhbWVcIikgYXMgR2FtZVNjcmVlbikuTGV2ZWxEYXRhID0gZGF0YTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBpbnRlcm1lZGlhcnkgPSBTY3JlZW5NYW5hZ2VyLmdldFNjcmVlbkJ5S2V5KFwiaW50ZXJtZWRpYXJ5XCIpIGFzIEludGVybWVkaWFyeVNjcmVlbjtcclxuICAgICAgICBuZXcgUHJvbWlzZShhc3luYyhyZXMpID0+IHtcclxuICAgICAgICAgICAgaW50ZXJtZWRpYXJ5LlRleHQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgIGF3YWl0IFNjcmVlbk1hbmFnZXIuc2V0Q3VycmVudFNjcmVlbihpbnRlcm1lZGlhcnksIHRoaXMuU3RhZ2UpO1xyXG4gICAgICAgICAgICBpbnRlcm1lZGlhcnkucXVldWVOZXh0U2NyZWVuKFwiZ2FtZVwiKTtcclxuXHJcbiAgICAgICAgICAgIHJlcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfb25PcHRpb25zKCkge1xyXG4gICAgICAgIC8vZ28gdG8gb3B0aW9ucyFcclxuICAgICAgICBMb2dnaW5nLm1lc3NhZ2UoXCJHbyB0byBvcHRpb25zIVwiKTtcclxuICAgICAgICBjcmVhdGVqcy5Ud2Vlbi5nZXQodGhpcy5fc3dpcGVDb250YWluZXIpLnRvKHt4OnRoaXMuX2dhbWUuU3RhZ2VXaWR0aH0sIHRoaXMuX3N3aXBlU3BlZWQsIGNyZWF0ZWpzLkVhc2UuY2lyY091dCk7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudFNjcmVlbiA9IFwib3B0aW9uc1wiO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfb25MZXZlbFNlbGVjdCgpIHtcclxuICAgICAgICBMb2dnaW5nLm1lc3NhZ2UoXCJHbyB0byBsZXZlbCBzZWxlY3QhXCIpO1xyXG4gICAgICAgIGNyZWF0ZWpzLlR3ZWVuLmdldCh0aGlzLl9zd2lwZUNvbnRhaW5lcikudG8oe3g6LXRoaXMuX2dhbWUuU3RhZ2VXaWR0aH0sIHRoaXMuX3N3aXBlU3BlZWQsIGNyZWF0ZWpzLkVhc2UuY2lyY091dCk7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudFNjcmVlbiA9IFwibGV2ZWxTZWxlY3RcIjtcclxuICAgIH1cclxuICAgIHByaXZhdGUgX29uRXhpdCgpIHtcclxuICAgICAgICBMb2dnaW5nLm1lc3NhZ2UoXCJHbyB0byBleGl0IVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9vbk1haW4oKSB7XHJcbiAgICAgICAgTG9nZ2luZy5tZXNzYWdlKFwiR28gdG8gbWFpbiFcIik7XHJcbiAgICAgICAgY3JlYXRlanMuVHdlZW4uZ2V0KHRoaXMuX3N3aXBlQ29udGFpbmVyKS50byh7eDowfSwgdGhpcy5fc3dpcGVTcGVlZCwgY3JlYXRlanMuRWFzZS5ib3VuY2VPdXQpO1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRTY3JlZW4gPSBcIm1haW5cIjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9vbkNsZWFyRGF0YSgpIHtcclxuICAgICAgICBMb2dnaW5nLnN1Y2Nlc3MoXCJDbGVhcmVkIGRhdGEhXCIpO1xyXG4gICAgICAgIGNyZWF0ZWpzLlR3ZWVuLmdldCh0aGlzLl9zd2lwZUNvbnRhaW5lcikudG8oe3g6dGhpcy5fZ2FtZS5TdGFnZVdpZHRoLCB5OnRoaXMuX2dhbWUuU3RhZ2VIZWlnaHR9LCB0aGlzLl9zd2lwZVNwZWVkLCBjcmVhdGVqcy5FYXNlLmN1YmljSW4pO1xyXG4gICAgICAgIC8vIHRoaXMuX2N1cnJlbnRTY3JlZW4gPSBcImNsZWFyZWRcIlxyXG4gICAgICAgIGxldCBlID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBjcmVhdGVqcy5Ud2Vlbi5nZXQodGhpcy5fc3dpcGVDb250YWluZXIpLnRvKHt4OnRoaXMuX2dhbWUuU3RhZ2VXaWR0aCwgeTowfSwgdGhpcy5fc3dpcGVTcGVlZCwgY3JlYXRlanMuRWFzZS5jdWJpY0luT3V0KTtcclxuICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTY3JlZW4gPSBcIm9wdGlvbnNcIjtcclxuICAgICAgICB9LCAyMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9vbkRyYWdTdGFydChlKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX2luaXRpYWxTd2lwZVBvcyA9IHsgeDplLnN0YWdlWCwgeTplLnN0YWdlWSB9O1xyXG5cclxuICAgICAgICAvL3Jlc2V0IGRyYWcgdGltZXIgaWYgbm90IG51bGxcclxuICAgICAgICBpZih0aGlzLl9kcmFnVGltZXIgIT0gbnVsbCkgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9kcmFnVGltZXIpO1xyXG4gICAgICAgIHRoaXMuX2RyYWdUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsU3dpcGVQb3MgPSB7IHg6LTEsIHk6LTEgfTtcclxuICAgICAgICAgICAgdGhpcy5fZHJhZ1RpbWVyID0gbnVsbDtcclxuICAgICAgICB9LCA1MDApO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfb25EcmFnRW5kKGUpIHtcclxuICAgICAgICBpZih0aGlzLl9pbml0aWFsU3dpcGVQb3MueCAhPSAtMSB8fCB0aGlzLl9pbml0aWFsU3dpcGVQb3MueSAhPSAtMSkge1xyXG4gICAgICAgICAgICAvL2ZpbmQgdGhlIGRpcmVjdGlvblxyXG4gICAgICAgICAgICBpZigodGhpcy5faW5pdGlhbFN3aXBlUG9zLnggLSBlLnN0YWdlWCkgPiAyMCkge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5fY3VycmVudFNjcmVlbiA9PSBcIm9wdGlvbnNcIilcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbk1haW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKCh0aGlzLl9pbml0aWFsU3dpcGVQb3MueCAtIGUuc3RhZ2VYKSA8IC0yMCkge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5fY3VycmVudFNjcmVlbiA9PSBcImxldmVsU2VsZWN0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25NYWluKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIGNyZWF0ZShzdGFnZTpjcmVhdGVqcy5TdGFnZUdMKTpTY3JlZW4ge1xyXG5cclxuICAgICAgICAvL2FkZCBpbiB0aGUgY29udGFpbmVyc1xyXG4gICAgICAgIHRoaXMuX3N0YXRpY0NvbnRhaW5lci5jaGVja291dFNwcml0ZXMoKTtcclxuICAgICAgICB0aGlzLl9zdGF0aWNDb250YWluZXIuU3ByaXRlcy5iZy55ID0gMDtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkQ2hpbGQodGhpcy5fc3RhdGljQ29udGFpbmVyLkNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZENoaWxkKHRoaXMuX3N3aXBlQ29udGFpbmVyKTtcclxuICAgICAgICB0aGlzLl9zd2lwZUNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl9tYWluQ29udGFpbmVyLkNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5fc3dpcGVDb250YWluZXIuYWRkQ2hpbGQodGhpcy5fb3B0aW9uc0NvbnRhaW5lci5Db250YWluZXIpO1xyXG4gICAgICAgIHRoaXMuX3N3aXBlQ29udGFpbmVyLmFkZENoaWxkKHRoaXMuX2NsZWFyZWRDb250YWluZXIuQ29udGFpbmVyKTtcclxuICAgICAgICAvLyB0aGlzLl9zd2lwZUNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl9sZXZlbFNlbGVjdENvbnRhaW5lci5Db250YWluZXIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX3N3aXBlQ29udGFpbmVyLmFkZENoaWxkKHRoaXMuX2xldmVsU2VsZWN0RGlzcGxheS5Db250YWluZXIpO1xyXG5cclxuICAgICAgICBzdXBlci5jcmVhdGUoc3RhZ2UpO1xyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZW5hYmxlKCkge1xyXG4gICAgICAgIHN1cGVyLmVuYWJsZSgpO1xyXG4gICAgICAgIC8vbGlzdGVuIHRvIGV2ZW50c1xyXG4gICAgICAgICh0aGlzLl9tYWluQ29udGFpbmVyLlNwcml0ZXMuYnRuTmV3R2FtZSBhcyBhbnkpLm9uKFwiY2xpY2tcIiwgdGhpcy5fb25OZXdHYW1lLCB0aGlzLCB0cnVlKTtcclxuICAgICAgICAodGhpcy5fbWFpbkNvbnRhaW5lci5TcHJpdGVzLmJ0bk9wdGlvbnMgYXMgYW55KS5vbihcImNsaWNrXCIsIHRoaXMuX29uT3B0aW9ucywgdGhpcyk7XHJcbiAgICAgICAgKHRoaXMuX21haW5Db250YWluZXIuU3ByaXRlcy5idG5MZXZlbFNlbGVjdCBhcyBhbnkpLm9uKFwiY2xpY2tcIiwgdGhpcy5fb25MZXZlbFNlbGVjdCwgdGhpcyk7XHJcbiAgICAgICAgKHRoaXMuX21haW5Db250YWluZXIuU3ByaXRlcy5idG5FeGl0IGFzIGFueSkub24oXCJjbGlja1wiLCB0aGlzLl9vbkV4aXQsIHRoaXMpO1xyXG5cclxuICAgICAgICBTcHJpdGVzLmxpc3RlblRvQ2xlYXJEYXRhKCk7XHJcbiAgICAgICAgKHRoaXMuX29wdGlvbnNDb250YWluZXIuU3ByaXRlcy5idG5DbGVhckRhdGEgYXMgYW55KS5vbihTcHJpdGVzLkNMRUFSX0RBVEEsIHRoaXMuX29uQ2xlYXJEYXRhLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy9saXN0ZW4gZm9yIHN3aXBlc1xyXG4gICAgICAgICh0aGlzLl9zdGF0aWNDb250YWluZXIuU3ByaXRlcy5iZyBhcyBhbnkpLm9uKFwibW91c2Vkb3duXCIsIHRoaXMuX29uRHJhZ1N0YXJ0LCB0aGlzKTtcclxuICAgICAgICAodGhpcy5fc3RhdGljQ29udGFpbmVyLlNwcml0ZXMuYmcgYXMgYW55KS5vbihcImNsaWNrXCIsIHRoaXMuX29uRHJhZ0VuZCwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHRoaXMuX21haW5Db250YWluZXIuU3ByaXRlcy5idG5PcHRpb25zLm9uKFwiY2xpY2tcIiwgKCkgPT4gY29uc29sZS5sb2coXCJIRUxMTyBJIENMSUNcIikpO1xyXG5cclxuICAgICAgICB0aGlzLl9sZXZlbFNlbGVjdERpc3BsYXkuZW5hYmxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc2FibGUoKSB7XHJcbiAgICAgICAgc3VwZXIuZGlzYWJsZSgpO1xyXG4gICAgICAgIC8vc3RvcCBsaXN0ZW4gdG8gZXZlbnRzXHJcbiAgICAgICAgKHRoaXMuX21haW5Db250YWluZXIuU3ByaXRlcy5idG5OZXdHYW1lIGFzIGFueSkub2ZmKFwiY2xpY2tcIiwgdGhpcy5fb25OZXdHYW1lKTtcclxuICAgICAgICAodGhpcy5fbWFpbkNvbnRhaW5lci5TcHJpdGVzLmJ0bk9wdGlvbnMgYXMgYW55KS5vZmYoXCJjbGlja1wiLCB0aGlzLl9vbk9wdGlvbnMpO1xyXG4gICAgICAgICh0aGlzLl9tYWluQ29udGFpbmVyLlNwcml0ZXMuYnRuTGV2ZWxTZWxlY3QgYXMgYW55KS5vZmYoXCJjbGlja1wiLCB0aGlzLl9vbkxldmVsU2VsZWN0KTtcclxuICAgICAgICAodGhpcy5fbWFpbkNvbnRhaW5lci5TcHJpdGVzLmJ0bkV4aXQgYXMgYW55KS5vZmYoXCJjbGlja1wiLCB0aGlzLl9vbkV4aXQpO1xyXG5cclxuICAgICAgICBTcHJpdGVzLnN0b3BMaXN0ZW5Ub0NsZWFyRGF0YSgpO1xyXG4gICAgICAgICh0aGlzLl9vcHRpb25zQ29udGFpbmVyLlNwcml0ZXMuYnRuQ2xlYXJEYXRhIGFzIGFueSkub2ZmKFNwcml0ZXMuQ0xFQVJfREFUQSwgdGhpcy5fb25DbGVhckRhdGEpO1xyXG5cclxuICAgICAgICAvL3N0b3AgbGlzdGVuIGZvciBzd2lwZXNcclxuICAgICAgICAodGhpcy5fc3RhdGljQ29udGFpbmVyLlNwcml0ZXMuYmcgYXMgYW55KS5vZmYoXCJtb3VzZWRvd25cIiwgdGhpcy5fb25EcmFnU3RhcnQpO1xyXG4gICAgICAgICh0aGlzLl9zdGF0aWNDb250YWluZXIuU3ByaXRlcy5iZyBhcyBhbnkpLm9mZihcImNsaWNrXCIsIHRoaXMuX29uRHJhZ0VuZCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLl9sZXZlbFNlbGVjdERpc3BsYXkuZGlzYWJsZSgpO1xyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG59IiwiaW1wb3J0IHsgSVVwZGF0ZWFibGUsIElDcmVhdGVhYmxlLCBJRW5hYmxlYWJsZSB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2NyZWVuIGltcGxlbWVudHMgSUNyZWF0ZWFibGU8U2NyZWVuPiwgSVVwZGF0ZWFibGUsIElFbmFibGVhYmxlIHtcclxuICAgIHByaXZhdGUgX3N0YWdlOmNyZWF0ZWpzLlN0YWdlR0w7XHJcbiAgICBwcm90ZWN0ZWQgX2NvbnRhaW5lcjpjcmVhdGVqcy5Db250YWluZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gbmV3IGNyZWF0ZWpzLkNvbnRhaW5lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qKlVwZGF0ZXMgdGhlIHNjcmVlbi4gKi9cclxuICAgIHB1YmxpYyB1cGRhdGUoZ2FtZVRpbWU6bnVtYmVyKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKkNyZWF0ZXMgdGhlIHNjcmVlbiBhbmQgYWRkcyB0byB0aGUgc3RhZ2UuICovXHJcbiAgICBwdWJsaWMgY3JlYXRlKHN0YWdlOmNyZWF0ZWpzLlN0YWdlR0wpOlNjcmVlbiB7XHJcbiAgICAgICAgdGhpcy5fc3RhZ2UgPSBzdGFnZTtcclxuICAgICAgICAvL2FkZCB0byB0aGUgc3RhZ2VcclxuICAgICAgICB0aGlzLl9zdGFnZS5hZGRDaGlsZCh0aGlzLl9jb250YWluZXIpO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipEZXN0cm95cyB0aGUgc2NyZWVuIGFuZCByZW1vdmVzIGZyb20gdGhlIHN0YWdlLiAqL1xyXG4gICAgcHVibGljIGRlc3Ryb3koKTpTY3JlZW4ge1xyXG5cclxuICAgICAgICAvL3JlbW92ZSBmcm9tIHRoZSBzdGFnZVxyXG4gICAgICAgIHRoaXMuX3N0YWdlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbmFibGUoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNhYmxlKCkge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gQUJTVFJBQ1RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIGdldCBDb250YWluZXIoKTpjcmVhdGVqcy5Db250YWluZXIgeyByZXR1cm4gdGhpcy5fY29udGFpbmVyOyB9XHJcbiAgICBwcm90ZWN0ZWQgZ2V0IFN0YWdlKCk6Y3JlYXRlanMuU3RhZ2VHTCB7IHJldHVybiB0aGlzLl9zdGFnZTsgfVxyXG5cclxufSIsImltcG9ydCB7IFNjcmVlbiB9IGZyb20gXCIuL1NjcmVlblwiO1xyXG5pbXBvcnQgeyBTY3JlZW5NYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL1NjcmVlbk1hbmFnZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTcGxhc2hTY3JlZW4gZXh0ZW5kcyBTY3JlZW4ge1xyXG4gICAgcHJpdmF0ZSBfc3BsYXNoOmNyZWF0ZWpzLlNoYXBlO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEFCU1RSQUNUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEVWRU5UUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE9WRVJSSURFUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHB1YmxpYyBjcmVhdGUoc3RhZ2U6Y3JlYXRlanMuU3RhZ2VHTCk6U2NyZWVuIHtcclxuICAgICAgICAvL2FkZCBzdHVmZlxyXG4gICAgICAgIHRoaXMuX3NwbGFzaCA9IG5ldyBjcmVhdGVqcy5TaGFwZSgpO1xyXG4gICAgICAgIHRoaXMuX3NwbGFzaC5ncmFwaGljcy5iZWdpbkZpbGwoXCJyZWRcIik7XHJcbiAgICAgICAgdGhpcy5fc3BsYXNoLmdyYXBoaWNzLmRyYXdSZWN0KDAsIDAsIDEwMCwgMTAwKTtcclxuICAgICAgICB0aGlzLl9zcGxhc2guZ3JhcGhpY3MuZW5kRmlsbCgpO1xyXG4gICAgICAgIHRoaXMuX3NwbGFzaC5jYWNoZSgwLCAwLCAxMDAsIDEwMCk7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZENoaWxkKHRoaXMuX3NwbGFzaCk7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlKHN0YWdlKTtcclxuXHJcbiAgICAgICAgLy9mb3IgdGVzdGluZ1xyXG4gICAgICAgICh0aGlzLl9jb250YWluZXIgYXMgYW55KS5vbihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIFNjcmVlbk1hbmFnZXIuc2V0Q3VycmVudFNjcmVlbihcIm1lbnVcIiwgc3RhZ2UpO1xyXG4gICAgICAgIH0sIHRoaXMsIHRydWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEdFVFRFUlMgJiBTRVRURVJTIC0tLS0tLS0tLS0tLS0tKi9cclxufSIsImltcG9ydCB7IExvYWRNYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL0xvYWRNYW5hZ2VyXCI7XHJcblxyXG4vKipVc2VkIHRvIGdhaW4gYWNjZXNzIHRvIGluLWdhbWUgc3ByaXRlcy4gKi9cclxuZXhwb3J0IGNsYXNzIFNwcml0ZXMge1xyXG4gICAgcHVibGljIHN0YXRpYyBDTEVBUl9EQVRBOnN0cmluZyA9IFwib25DbGVhckRhdGFcIjtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfYmFja2dyb3VuZHM6eyBba2V5OnN0cmluZ106Y3JlYXRlanMuRGlzcGxheU9iamVjdCB9ID0geyB9O1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2J1dHRvbnM6eyBba2V5OnN0cmluZ106Y3JlYXRlanMuRGlzcGxheU9iamVjdCB9ID0geyB9O1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9zcHJpdGVzaGVldHM6Y3JlYXRlanMuU3ByaXRlU2hlZXRbXTtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfY2FuQ2xlYXJEYXRhOmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldHVwKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcclxuICAgICAgICAgICAgLy8gU3ByaXRlcy5zcHJpdGVzaGVldHMgPSBzcHJpdGVzaGVldHNcclxuICAgICAgICAgICAgLy9zZXR1cCBhbGwgdGhlIHNwcml0ZXNcclxuICAgICAgICAgICAgLyogLS0tLS0tLSBTVEFUSUMgLS0tLS0tLSAqL1xyXG4gICAgICAgICAgICBTcHJpdGVzLl9iYWNrZ3JvdW5kcy5NYWluID0gbmV3IGNyZWF0ZWpzLlNwcml0ZShMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuVUkpOyAvLyBTdGF0aWMgQkdcclxuICAgICAgICAgICAgKFNwcml0ZXMuX2JhY2tncm91bmRzLk1haW4gYXMgY3JlYXRlanMuU3ByaXRlKS5nb3RvQW5kU3RvcChcImJnX21haW5fc3RhdGljXCIpO1xyXG5cclxuICAgICAgICAgICAgU3ByaXRlcy5fYmFja2dyb3VuZHMuTG9nbyA9IG5ldyBjcmVhdGVqcy5TcHJpdGUoTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLkVudGl0aWVzKTsgLy8gTE9HT1xyXG4gICAgICAgICAgICAoU3ByaXRlcy5fYmFja2dyb3VuZHMuTG9nbyBhcyBjcmVhdGVqcy5TcHJpdGUpLmdvdG9BbmRTdG9wKFwiaWNvbl90aXRsZVwiKTtcclxuXHJcbiAgICAgICAgICAgIFNwcml0ZXMuX2JhY2tncm91bmRzLkJHID0gTG9hZE1hbmFnZXIuSW1hZ2VzLkJHOyAvLyBSZWR1eFxyXG4gICAgICAgICAgICBTcHJpdGVzLl9iYWNrZ3JvdW5kcy5CR1RvcCA9IExvYWRNYW5hZ2VyLkltYWdlcy5CR1RvcDtcclxuXHJcblxyXG4gICAgICAgICAgICAvKiAtLS0tLS0tIEFOSU1BVEVEIC0tLS0tLS0gKi9cclxuICAgICAgICAgICAgU3ByaXRlcy5fYmFja2dyb3VuZHMuV2F2ZSA9IG5ldyBjcmVhdGVqcy5TcHJpdGUoTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLlVJKTsgLy8gQW5pbWF0ZWQgQkdcclxuICAgICAgICAgICAgKFNwcml0ZXMuX2JhY2tncm91bmRzLldhdmUgYXMgY3JlYXRlanMuU3ByaXRlKS5nb3RvQW5kUGxheShcImJnX21haW5cIik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvKiAtLS0tLS0tIEJVVFRPTlMgLS0tLS0tLSAqL1xyXG4gICAgICAgICAgICBTcHJpdGVzLl9idXR0b25zLk5ld0dhbWUgPSBuZXcgY3JlYXRlanMuU3ByaXRlKExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5FbnRpdGllcyk7IC8vIE5ldyBHYW1lXHJcbiAgICAgICAgICAgIChTcHJpdGVzLl9idXR0b25zLk5ld0dhbWUgYXMgY3JlYXRlanMuU3ByaXRlKS5nb3RvQW5kU3RvcChcImJ0bl9uZXdfZ2FtZVwiKTtcclxuICAgICAgICAgICAgbmV3IGNyZWF0ZWpzLkJ1dHRvbkhlbHBlcihTcHJpdGVzLl9idXR0b25zLk5ld0dhbWUgYXMgY3JlYXRlanMuU3ByaXRlLCBcImJ0bl9uZXdfZ2FtZVwiLCBcImJ0bl9uZXdfZ2FtZV9ob3ZlclwiLCBcImJ0bl9uZXdfZ2FtZV9ob3ZlclwiKTtcclxuXHJcblxyXG4gICAgICAgICAgICBTcHJpdGVzLl9idXR0b25zLk9wdGlvbnMgPSBuZXcgY3JlYXRlanMuU3ByaXRlKExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5FbnRpdGllcyk7IC8vIE9wdGlvbnNcclxuICAgICAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuT3B0aW9ucyBhcyBjcmVhdGVqcy5TcHJpdGUpLmdvdG9BbmRTdG9wKFwiYnRuX25ld19nYW1lXCIpO1xyXG4gICAgICAgICAgICBuZXcgY3JlYXRlanMuQnV0dG9uSGVscGVyKFNwcml0ZXMuX2J1dHRvbnMuT3B0aW9ucyBhcyBjcmVhdGVqcy5TcHJpdGUsIFwiYnRuX29wdGlvbnNcIiwgXCJidG5fb3B0aW9uc19ob3ZlclwiLCBcImJ0bl9vcHRpb25zX2hvdmVyXCIpO1xyXG5cclxuICAgICAgICAgICAgU3ByaXRlcy5fYnV0dG9ucy5MZXZlbFNlbGVjdCA9IG5ldyBjcmVhdGVqcy5TcHJpdGUoTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLkVudGl0aWVzKTsgLy8gU2VsZWN0XHJcbiAgICAgICAgICAgIChTcHJpdGVzLl9idXR0b25zLkxldmVsU2VsZWN0IGFzIGNyZWF0ZWpzLlNwcml0ZSkuZ290b0FuZFN0b3AoXCJidG5fc2VsZWN0XCIpO1xyXG4gICAgICAgICAgICBuZXcgY3JlYXRlanMuQnV0dG9uSGVscGVyKFNwcml0ZXMuX2J1dHRvbnMuTGV2ZWxTZWxlY3QgYXMgY3JlYXRlanMuU3ByaXRlLCBcImJ0bl9zZWxlY3RcIiwgXCJidG5fc2VsZWN0X2hvdmVyXCIsIFwiYnRuX3NlbGVjdF9ob3ZlclwiKTtcclxuXHJcbiAgICAgICAgICAgIFNwcml0ZXMuX2J1dHRvbnMuRXhpdCA9IG5ldyBjcmVhdGVqcy5TcHJpdGUoTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLkVudGl0aWVzKTsgLy8gRXhpdFxyXG4gICAgICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5FeGl0IGFzIGNyZWF0ZWpzLlNwcml0ZSkuZ290b0FuZFN0b3AoXCJidG5fc2VsZWN0XCIpO1xyXG4gICAgICAgICAgICBuZXcgY3JlYXRlanMuQnV0dG9uSGVscGVyKFNwcml0ZXMuX2J1dHRvbnMuRXhpdCBhcyBjcmVhdGVqcy5TcHJpdGUsIFwiYnRuX2V4aXRcIiwgXCJidG5fZXhpdF9ob3ZlclwiLCBcImJ0bl9leGl0X2hvdmVyXCIpO1xyXG5cclxuICAgICAgICAgICAgU3ByaXRlcy5fYnV0dG9ucy5GaXNoYm93bCA9IG5ldyBjcmVhdGVqcy5TcHJpdGUoTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLkVudGl0aWVzKTsgLy8gRmlzaGJvd2xcclxuICAgICAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuRmlzaGJvd2wgYXMgY3JlYXRlanMuU3ByaXRlKS5nb3RvQW5kU3RvcChcImJ0bl9zZWxlY3RcIik7XHJcbiAgICAgICAgICAgIG5ldyBjcmVhdGVqcy5CdXR0b25IZWxwZXIoU3ByaXRlcy5fYnV0dG9ucy5GaXNoYm93bCBhcyBjcmVhdGVqcy5TcHJpdGUsIFwiaWNvbl9maXNoYm93bFwiLCBcImljb25fZmlzaGJvd2xfaG92ZXJcIiwgXCJpY29uX2Zpc2hib3dsX2hvdmVyXCIsIHRydWUpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8qIC0tLS0tLS0gTUVOVSAtLS0tLS0tICovXHJcbiAgICAgICAgICAgIFNwcml0ZXMuX2JhY2tncm91bmRzLkxldmVsU2VsZWN0QkcgPSBuZXcgY3JlYXRlanMuU3ByaXRlKExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5NZW51X0xldmVsX1NlbGVjdCk7IC8vIExldmVsIFNlbGVjdCBCR1xyXG4gICAgICAgICAgICAoU3ByaXRlcy5fYmFja2dyb3VuZHMuTGV2ZWxTZWxlY3RCRyBhcyBjcmVhdGVqcy5TcHJpdGUpLmdvdG9BbmRTdG9wKFwic3RhdGljX2JnXCIpO1xyXG4gICAgICAgICAgICBTcHJpdGVzLl9idXR0b25zLkxldmVsRW1wdHkgPSBuZXcgY3JlYXRlanMuU3ByaXRlKExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5NZW51X0xldmVsX1NlbGVjdCk7IC8vIExldmVsIEVtcHR5IEJ1dHRvblxyXG4gICAgICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5MZXZlbEVtcHR5IGFzIGNyZWF0ZWpzLlNwcml0ZSkuZ290b0FuZFN0b3AoXCJsZXZlbF9lbXB0eVwiKTtcclxuICAgICAgICAgICAgU3ByaXRlcy5fYnV0dG9ucy5MZXZlbENvbXBsZXRlID0gbmV3IGNyZWF0ZWpzLlNwcml0ZShMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuTWVudV9MZXZlbF9TZWxlY3QpOyAvLyBMZXZlbCBDb21wbGV0ZSBCdXR0b25cclxuICAgICAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuTGV2ZWxDb21wbGV0ZSBhcyBjcmVhdGVqcy5TcHJpdGUpLmdvdG9BbmRTdG9wKFwibGV2ZWxfY29tcGxldGVcIik7XHJcbiAgICAgICAgICAgIFNwcml0ZXMuX2J1dHRvbnMuTGV2ZWxTcGVjaWFsRW1wdHkgPSBuZXcgY3JlYXRlanMuU3ByaXRlKExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5NZW51X0xldmVsX1NlbGVjdCk7IC8vIExldmVsIFNwZWNpYWwgRW1wdHkgQnV0dG9uXHJcbiAgICAgICAgICAgIChTcHJpdGVzLl9idXR0b25zLkxldmVsU3BlY2lhbEVtcHR5IGFzIGNyZWF0ZWpzLlNwcml0ZSkuZ290b0FuZFN0b3AoXCJsZXZlbF9zcGVjaWFsX2VtcHR5XCIpO1xyXG4gICAgICAgICAgICBTcHJpdGVzLl9idXR0b25zLkxldmVsU3BlY2lhbENvbXBsZXRlID0gbmV3IGNyZWF0ZWpzLlNwcml0ZShMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuTWVudV9MZXZlbF9TZWxlY3QpOyAvLyBMZXZlbCBTcGVjaWFsIENvbXBsZXRlIEJ1dHRvblxyXG4gICAgICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5MZXZlbFNwZWNpYWxDb21wbGV0ZSBhcyBjcmVhdGVqcy5TcHJpdGUpLmdvdG9BbmRTdG9wKFwibGV2ZWxfc3BlY2lhbF9jb21wbGV0ZVwiKTtcclxuXHJcblxyXG4gICAgICAgICAgICAvKiAtLS0tLS0tIENPTVBMRVggLS0tLS0tLSAqL1xyXG4gICAgICAgICAgICBTcHJpdGVzLl9zZXR1cEJUTkNsZWFyRGF0YSgpO1xyXG5cclxuICAgICAgICAgICAgcmVzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLyogLS0tIENvbXBsZXggY3JlYXRlanMuU3ByaXRlIFNldHVwIC0tLSAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3NldHVwQlROQ2xlYXJEYXRhKCkge1xyXG4gICAgICAgIFNwcml0ZXMuX2J1dHRvbnMuQ2xlYXJEYXRhID0gbmV3IGNyZWF0ZWpzLlNwcml0ZShMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuVUkpOyAvLyBCVE4gQ2xlYXIgRGF0YVxyXG4gICAgICAgIChTcHJpdGVzLl9idXR0b25zLkNsZWFyRGF0YSBhcyBjcmVhdGVqcy5TcHJpdGUpLmdvdG9BbmRTdG9wKFwiYnRuX2NsZWFyX2RhdGFcIik7XHJcbiAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuQ2xlYXJEYXRhIGFzIGNyZWF0ZWpzLlNwcml0ZSkuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgICAgICAgU3ByaXRlcy5fY2FuQ2xlYXJEYXRhID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGxpc3RlblRvQ2xlYXJEYXRhKCkge1xyXG4gICAgICAgIC8vbGlzdGVuXHJcbiAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuQ2xlYXJEYXRhIGFzIGFueSkub24oXCJtb3VzZWRvd25cIiwgU3ByaXRlcy5fYnRuRGF0YURvd24pO1xyXG4gICAgICAgIChTcHJpdGVzLl9idXR0b25zLkNsZWFyRGF0YSBhcyBhbnkpLm9uKFwiYW5pbWF0aW9uZW5kXCIsIFNwcml0ZXMuX2J0bkRhdGFDb21wbGV0ZSk7XHJcbiAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuQ2xlYXJEYXRhIGFzIGFueSkub24oXCJjbGlja1wiLCBTcHJpdGVzLl9idG5EYXRhVXApO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBzdG9wTGlzdGVuVG9DbGVhckRhdGEoKSB7XHJcbiAgICAgICAgLy9saXN0ZW5cclxuICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5DbGVhckRhdGEgYXMgYW55KS5vZmYoXCJtb3VzZWRvd25cIiwgU3ByaXRlcy5fYnRuRGF0YURvd24pO1xyXG4gICAgICAgIChTcHJpdGVzLl9idXR0b25zLkNsZWFyRGF0YSBhcyBhbnkpLm9mZihcImFuaW1hdGlvbmVuZFwiLCBTcHJpdGVzLl9idG5EYXRhQ29tcGxldGUpO1xyXG4gICAgICAgIChTcHJpdGVzLl9idXR0b25zLkNsZWFyRGF0YSBhcyBhbnkpLm9mZihcImNsaWNrXCIsIFNwcml0ZXMuX2J0bkRhdGFVcCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2J0bkRhdGFEb3duKGUpIHtcclxuICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5DbGVhckRhdGEgYXMgY3JlYXRlanMuU3ByaXRlKS5nb3RvQW5kUGxheShcImJ0bl9jbGVhcl9kYXRhX3Byb2dyZXNzXCIpO1xyXG4gICAgICAgIFNwcml0ZXMuX2NhbkNsZWFyRGF0YSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfYnRuRGF0YVVwKGUpIHtcclxuICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5DbGVhckRhdGEgYXMgY3JlYXRlanMuU3ByaXRlKS5nb3RvQW5kU3RvcChcImJ0bl9jbGVhcl9kYXRhXCIpO1xyXG4gICAgICAgIFNwcml0ZXMuX2NhbkNsZWFyRGF0YSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2J0bkRhdGFDb21wbGV0ZShlKSB7XHJcbiAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuQ2xlYXJEYXRhIGFzIGNyZWF0ZWpzLlNwcml0ZSkuZ290b0FuZFN0b3AoXCJidG5fY2xlYXJfZGF0YVwiKTtcclxuICAgICAgICAvL2Rpc3BhdGNoIGV2ZW50IHRvIGJ1dHRvblxyXG4gICAgICAgIGlmKFNwcml0ZXMuX2NhbkNsZWFyRGF0YSkge1xyXG4gICAgICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5DbGVhckRhdGEgYXMgY3JlYXRlanMuU3ByaXRlKS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChTcHJpdGVzLkNMRUFSX0RBVEEpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKipBIGhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSBhbmQgY2FjaGUgdGV4dCBmb3IgdGhlIFN0YWdlR0wgb2JqZWN0LiAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZW5lcmF0ZVRleHQodGV4dCwgZGV0YWlscyA9IFwiMjBweCBBcmlhbFwiLCBjb2xvciA9IFwiI0ZGRkVFRVwiKSB7XHJcbiAgICAgICAgY29uc3QgdGV4dE9iaiA9IG5ldyBjcmVhdGVqcy5UZXh0KHRleHQsIGRldGFpbHMsIGNvbG9yKVxyXG4gICAgICAgIHRleHRPYmouY2FjaGUoMCwgMCwgdGV4dE9iai5nZXRCb3VuZHMoKS53aWR0aCwgdGV4dE9iai5nZXRCb3VuZHMoKS5oZWlnaHQpO1xyXG4gICAgICAgIHJldHVybiB0ZXh0T2JqO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2VuZXJhdGVCaXRtYXBUZXh0KHRleHQsIHNwcml0ZXNoZWV0KSB7XHJcbiAgICAgICAgY29uc3QgdGV4dE9iaiA9IG5ldyBjcmVhdGVqcy5CaXRtYXBUZXh0KHRleHQsIHNwcml0ZXNoZWV0KTtcclxuICAgICAgICByZXR1cm4gdGV4dE9iajtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gQUJTVFJBQ1RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgQmFja2dyb3VuZHMoKSB7IHJldHVybiBTcHJpdGVzLl9iYWNrZ3JvdW5kczsgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgQnV0dG9ucygpIHsgcmV0dXJuIFNwcml0ZXMuX2J1dHRvbnM7IH1cclxuXHJcbiAgICAvLyBzdGF0aWMgZ2V0IEJHKCkgeyByZXR1cm4gU3ByaXRlcy5fYmcgfVxyXG4gICAgLy8gc3RhdGljIGdldCBMb2dvKCkgeyByZXR1cm4gU3ByaXRlcy5fbG9nbyB9XHJcbiAgICAvLyBzdGF0aWMgZ2V0IEFuaW1CRygpIHsgcmV0dXJuIFNwcml0ZXMuX2FuaW1CZyB9XHJcbiAgICAvLyBzdGF0aWMgZ2V0IEdhbWVCRygpIHsgcmV0dXJuIFNwcml0ZXMuX2dhbWVCRyB9XHJcbiAgICAvLyBzdGF0aWMgZ2V0IEdhbWVCR1RvcCgpIHsgcmV0dXJuIFNwcml0ZXMuX2dhbWVCR1RvcCB9XHJcbiAgICAvLyAvL2J1dHRvbnNcclxuICAgIC8vIHN0YXRpYyBnZXQgQlROX05ld19HYW1lKCkgeyByZXR1cm4gU3ByaXRlcy5fYnRuTmV3R2FtZSB9XHJcbiAgICAvLyBzdGF0aWMgZ2V0IEJUTl9PcHRpb25zKCkgeyByZXR1cm4gU3ByaXRlcy5fYnRuT3B0aW9ucyB9XHJcbiAgICAvLyBzdGF0aWMgZ2V0IEJUTl9TZWxlY3QoKSB7IHJldHVybiBTcHJpdGVzLl9idG5TZWxlY3QgfVxyXG4gICAgLy8gc3RhdGljIGdldCBCVE5fRXhpdCgpIHsgcmV0dXJuIFNwcml0ZXMuX2J0bkV4aXQgfVxyXG4gICAgLy8gc3RhdGljIGdldCBCVE5fRmlzaGJvd2woKSB7IHJldHVybiBTcHJpdGVzLl9idG5GaXNoYm93bCB9XHJcbiAgICAvLyBzdGF0aWMgZ2V0IEJUTl9DbGVhckRhdGEoKSB7IHJldHVybiBTcHJpdGVzLl9idG5DbGVhckRhdGEgfVxyXG5cclxuXHJcbiAgICAvLyBzdGF0aWMgZ2V0IENMRUFSX0RBVEEoKSB7IHJldHVybiBcIm9uQ2xlYXJEYXRhXCIgfVxyXG59IiwiaW1wb3J0IHsgU3ByaXRlcyB9IGZyb20gXCIuLi9TcHJpdGVzXCI7XHJcbmltcG9ydCB7IExvYWRNYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL21hbmFnZXJzL0xvYWRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEdhbWUgfSBmcm9tIFwiLi4vLi4vR2FtZVwiO1xyXG5pbXBvcnQgeyBJRW5hYmxlYWJsZSB9IGZyb20gXCIuLi8uLi9JbnRlcmZhY2VzXCI7XHJcbmltcG9ydCB7IEdhbWVTY3JlZW4gfSBmcm9tIFwiLi4vLi4vc2NyZWVucy9HYW1lU2NyZWVuXCI7XHJcbmltcG9ydCB7IERhdGFNYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL21hbmFnZXJzL0RhdGFNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFNjcmVlbk1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vbWFuYWdlcnMvU2NyZWVuTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBJbnRlcm1lZGlhcnlTY3JlZW4gfSBmcm9tIFwiLi4vLi4vc2NyZWVucy9JbnRlcm1lZGlhcnlTY3JlZW5cIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTGV2ZWxTZWxlY3REaXNwbGF5IGltcGxlbWVudHMgSUVuYWJsZWFibGUge1xyXG4gICAgcHJpdmF0ZSBfZ2FtZTpHYW1lO1xyXG5cclxuICAgIHByaXZhdGUgX2NvbnRhaW5lcjpjcmVhdGVqcy5Db250YWluZXI7XHJcbiAgICBwcml2YXRlIF9iYWNrZ3JvdW5kOmNyZWF0ZWpzLlNwcml0ZTtcclxuICAgIHByaXZhdGUgX2xldmVsc0NvbnRhaW5lcjpjcmVhdGVqcy5Db250YWluZXI7XHJcbiAgICBwcml2YXRlIF9sZXZlbFRleHRDb250YWluZXI6Y3JlYXRlanMuQ29udGFpbmVyO1xyXG5cclxuICAgIHByaXZhdGUgX2xldmVsc0RhdGE6YW55O1xyXG5cclxuICAgIHByaXZhdGUgX2xldmVsQnV0dG9uczpjcmVhdGVqcy5TcHJpdGVbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lOkdhbWUpIHtcclxuICAgICAgICB0aGlzLl9nYW1lID0gZ2FtZTtcclxuICAgICAgICB0aGlzLl9sZXZlbEJ1dHRvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgLy9idWlsZCB0aGUgcmVxdWlyZWQgY29tcG9uZW50cyBmb3IgdGhlIGxldmVsIHNlbGVjdCBkaXNwbGF5XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gbmV3IGNyZWF0ZWpzLkNvbnRhaW5lcigpO1xyXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmQgPSBTcHJpdGVzLkJhY2tncm91bmRzLkxldmVsU2VsZWN0QkcgYXMgY3JlYXRlanMuU3ByaXRlO1xyXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmQueCA9IChnYW1lLlN0YWdlV2lkdGggLyAyKSAtICh0aGlzLl9iYWNrZ3JvdW5kLmdldEJvdW5kcygpLndpZHRoIC8gMik7XHJcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZC55ID0gODA7XHJcblxyXG4gICAgICAgIHRoaXMuX2xldmVsc0NvbnRhaW5lciA9IG5ldyBjcmVhdGVqcy5Db250YWluZXIoKTtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkQ2hpbGQodGhpcy5fYmFja2dyb3VuZCk7XHJcbiAgICAgICAgbGV0IHRleHQgPSBTcHJpdGVzLmdlbmVyYXRlQml0bWFwVGV4dChcIkxldmVsIFNlbGVjdFwiLCBMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuVHlwb2dyYXBoeSk7XHJcbiAgICAgICAgdGV4dC54ID0gKGdhbWUuU3RhZ2VXaWR0aCAvIDIpIC0gKHRleHQuZ2V0Qm91bmRzKCkud2lkdGggLyAyKTtcclxuICAgICAgICB0ZXh0LnkgPSAzMDtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkQ2hpbGQodGV4dCk7XHJcblxyXG5cclxuICAgICAgICAvL3NldHVwIGRpc3BsYXkgdGV4dFxyXG4gICAgICAgIHRoaXMuX2xldmVsVGV4dENvbnRhaW5lciA9IG5ldyBjcmVhdGVqcy5Db250YWluZXIoKTtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkQ2hpbGQodGhpcy5fbGV2ZWxUZXh0Q29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5MZXZlbFRleHQgPSBcIkhlbGxvIFdvcmxkIVwiO1xyXG5cclxuXHJcbiAgICAgICAgLy9zcG9vZiBzb21lIGxldmVsIGRhdGFcclxuICAgICAgICB0aGlzLl9sZXZlbHNEYXRhID0gW1xyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICB7IG5hbWU6IFwiV2VsY29tZSB0byB0aGUgcG9uZCFcIiwgY29tcGxldGU6dHJ1ZSwgdW5sb2NrZWQ6dHJ1ZSwgZGF0YTpbMCwgMCwgMCwgMCwgMCwgMCwgMF0gfSxcclxuICAgICAgICAgICAgICAgIHsgbmFtZTogXCJBIG5ldyBhZHZlbnR1cmUhXCIsIGNvbXBsZXRlOnRydWUsIHVubG9ja2VkOnRydWUsIGRhdGE6WzAsIDAsIDAsIDAsIDAsIDAsIDBdIH0sXHJcbiAgICAgICAgICAgICAgICB7IG5hbWU6IFwiTGVhcm4gdG8gYWltIVwiLCBjb21wbGV0ZTpmYWxzZSwgdW5sb2NrZWQ6dHJ1ZSwgZGF0YTpbMCwgMCwgMCwgMCwgMCwgMCwgMF0gfSxcclxuICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQZXJzZXBob25lIVwiLCBzcGVjaWFsOnRydWUsIGNvbXBsZXRlOmZhbHNlLCB1bmxvY2tlZDpmYWxzZSwgZGF0YTpbMCwgMCwgMCwgMCwgMCwgMCwgMF0gfSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgeyBuYW1lOiBcIkluIGRlZXAgd2F0ZXIhXCIsIGNvbXBsZXRlOmZhbHNlLCB1bmxvY2tlZDpmYWxzZSwgZGF0YTpbMCwgMCwgMCwgMCwgMCwgMCwgMF0gfSxcclxuICAgICAgICAgICAgICAgIHsgbmFtZTogXCJBbiBvY2VhbiBvZiBmaXNoIVwiLCBjb21wbGV0ZTpmYWxzZSwgdW5sb2NrZWQ6ZmFsc2UsIGRhdGE6WzAsIDAsIDAsIDAsIDAsIDAsIDBdIH0sXHJcbiAgICAgICAgICAgICAgICB7IG5hbWU6IFwiQmFybmFjbGVzIGFob3khXCIsIGNvbXBsZXRlOmZhbHNlLCB1bmxvY2tlZDpmYWxzZSwgZGF0YTpbMCwgMCwgMCwgMCwgMCwgMCwgMF0gfSxcclxuICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPd2VuIVwiLCBzcGVjaWFsOnRydWUsIGNvbXBsZXRlOmZhbHNlLCB1bmxvY2tlZDpmYWxzZSwgZGF0YTpbMCwgMCwgMCwgMCwgMCwgMCwgMF0gfSxcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIF07XHJcblxyXG5cclxuICAgICAgICAvL2J1aWxkIHRoZSBsZXZlbCBpY29uc1xyXG4gICAgICAgIGZvcihsZXQgciA9IDA7IHIgPCB0aGlzLl9sZXZlbHNEYXRhLmxlbmd0aDsgcisrKSB7XHJcbiAgICAgICAgICAgIC8vaXRlcmF0ZSB0aHJvdWdoIGxldmVsc1xyXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5fbGV2ZWxzRGF0YVtyXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGV2ZWxEYXRhID0gdGhpcy5fbGV2ZWxzRGF0YVtyXVtpXTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTEVWRUxcIiwgbGV2ZWxEYXRhKTtcclxuICAgICAgICAgICAgICAgIC8vZGVjaWRlIHRoZSBzcHJpdGVcclxuICAgICAgICAgICAgICAgIGxldCBzcHJpdGUgPSBTcHJpdGVzLkJ1dHRvbnMuTGV2ZWxFbXB0eS5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYobGV2ZWxEYXRhLnNwZWNpYWwgIT0gbnVsbCAmJiBsZXZlbERhdGEuc3BlY2lhbCkgc3ByaXRlID0gU3ByaXRlcy5CdXR0b25zLkxldmVsU3BlY2lhbEVtcHR5LmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAvL2NvbXBsZXRlZFxyXG4gICAgICAgICAgICAgICAgaWYobGV2ZWxEYXRhLmNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlID0gU3ByaXRlcy5CdXR0b25zLkxldmVsQ29tcGxldGUuY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihsZXZlbERhdGEuc3BlY2lhbCAhPSBudWxsICYmIGxldmVsRGF0YS5zcGVjaWFsKSBzcHJpdGUgPSBTcHJpdGVzLkJ1dHRvbnMuTGV2ZWxTcGVjaWFsQ29tcGxldGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2xvY2tlZFxyXG4gICAgICAgICAgICAgICAgaWYoIWxldmVsRGF0YS51bmxvY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZS5hbHBoYSA9IDAuMjU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUuYWxwaGEgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAvL2V4dHJhc1xyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3BsYWNlXHJcbiAgICAgICAgICAgICAgICBzcHJpdGUueCA9IDYwICogaTtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS55ID0gNTAgKiByO1xyXG4gICAgICAgICAgICAgICAgLy9hZGRcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xldmVsc0NvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgLy90byBhcnJheVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGV2ZWxCdXR0b25zLnB1c2goc3ByaXRlIGFzIGNyZWF0ZWpzLlNwcml0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLl9sZXZlbHNDb250YWluZXIueCA9IChnYW1lLlN0YWdlV2lkdGggLyAyKSAtICh0aGlzLl9sZXZlbHNDb250YWluZXIuZ2V0Qm91bmRzKCkud2lkdGggLyAyKTtcclxuICAgICAgICB0aGlzLl9sZXZlbHNDb250YWluZXIueSA9IDEwMDtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkQ2hpbGQodGhpcy5fbGV2ZWxzQ29udGFpbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgZW5hYmxlKCkge1xyXG4gICAgICAgIHRoaXMuX2xldmVsQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICAgICAgICAgIGJ0bi5vbihcImNsaWNrXCIsIHRoaXMuX29uTGV2ZWxDbGljaywgdGhpcyk7XHJcbiAgICAgICAgICAgIGJ0bi5vbihcIm1vdXNlb3ZlclwiLCB0aGlzLl9vbkxldmVsSG92ZXIsIHRoaXMpO1xyXG4gICAgICAgICAgICBidG4ub24oXCJtb3VzZW91dFwiLCB0aGlzLl9vbkxldmVsVW5ob3ZlciwgdGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc2FibGUoKSB7XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxCdXR0b25zLmZvckVhY2goYnRuID0+IHtcclxuICAgICAgICAgICAgYnRuLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlJldHVybnMgbGV2ZWwgZGF0YSBmcm9tIHRoZSBnaXZlbiBpbmRleC4gKi9cclxuICAgIHByaXZhdGUgX2dldERhdGFCeUluZGV4KGluZGV4Om51bWJlcikge1xyXG4gICAgICAgIC8vZmxhdHRlbiBsZXZlbCBkYXRhLCBhbmQgZ2V0IGRhdGFcclxuICAgICAgICBsZXQgZmxhdHRlbiA9IHRoaXMuX2xldmVsc0RhdGEucmVkdWNlKChhY2MsIG5leHQpID0+IGFjYy5jb25jYXQobmV4dCkpO1xyXG4gICAgICAgIHJldHVybiBmbGF0dGVuW2luZGV4XTtcclxuICAgIH1cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEFCU1RSQUNUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEVWRU5UUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHByaXZhdGUgX29uTGV2ZWxDbGljayhlKSB7XHJcbiAgICAgICAgIC8vZ2V0IGJ1dHRvbiBpbmRleFxyXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuX2xldmVsQnV0dG9ucy5pbmRleE9mKGUudGFyZ2V0KTtcclxuXHJcbiAgICAgICAgaWYoaW5kZXggPT0gLTEpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy9zZXQgdGhlIGxldmVsIGluZGV4XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IERhdGFNYW5hZ2VyLmdldExldmVsRGF0YUJ5SW5kZXgoaW5kZXgpO1xyXG4gICAgICAgIChTY3JlZW5NYW5hZ2VyLmdldFNjcmVlbkJ5S2V5KFwiZ2FtZVwiKSBhcyBHYW1lU2NyZWVuKS5MZXZlbERhdGEgPSBkYXRhO1xyXG4gICAgICAgIC8vZ28gdG8gaW50ZXJtZWRpYXJ5IHNjcmVlblxyXG4gICAgICAgIGNvbnN0IGludGVybWVkaWFyeSA9IFNjcmVlbk1hbmFnZXIuZ2V0U2NyZWVuQnlLZXkoXCJpbnRlcm1lZGlhcnlcIikgYXMgSW50ZXJtZWRpYXJ5U2NyZWVuO1xyXG4gICAgICAgIG5ldyBQcm9taXNlKGFzeW5jKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpbnRlcm1lZGlhcnkuVGV4dCA9IGRhdGEubmFtZTtcclxuICAgICAgICAgICAgYXdhaXQgU2NyZWVuTWFuYWdlci5zZXRDdXJyZW50U2NyZWVuKGludGVybWVkaWFyeSwgdGhpcy5fZ2FtZS5TdGFnZSk7XHJcbiAgICAgICAgICAgIGludGVybWVkaWFyeS5xdWV1ZU5leHRTY3JlZW4oXCJnYW1lXCIsIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgcmVzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfb25MZXZlbEhvdmVyKGUpIHtcclxuICAgICAgICAvL2ZpbmQgdGhlIGJ1dHRvbiBkYXRhXHJcbiAgICAgICAgLy9nZXQgYnV0dG9uIGluZGV4XHJcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5fbGV2ZWxCdXR0b25zLmluZGV4T2YoZS50YXJnZXQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKGluZGV4ICE9IC0xKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9nZXREYXRhQnlJbmRleChpbmRleCk7XHJcbiAgICAgICAgICAgIGlmKGRhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS51bmxvY2tlZClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxldmVsVGV4dCA9IGRhdGEubmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9vbkxldmVsVW5ob3ZlcihlKSB7XHJcbiAgICAgICAgdGhpcy5MZXZlbFRleHQgPSBcIlwiO1xyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIGdldCBDb250YWluZXIoKSB7IHJldHVybiB0aGlzLl9jb250YWluZXI7IH1cclxuICAgIHB1YmxpYyBzZXQgTGV2ZWxUZXh0KHZhbHVlOnN0cmluZykge1xyXG4gICAgICAgIGlmKHZhbHVlID09IFwiXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGV2ZWxUZXh0Q29udGFpbmVyLnJlbW92ZUFsbENoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jcmVhdGUgdGhlIHRleHRcclxuICAgICAgICBjb25zdCB0ZXh0ID0gU3ByaXRlcy5nZW5lcmF0ZUJpdG1hcFRleHQodmFsdWUsIExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5UeXBvZ3JhcGh5KTtcclxuICAgICAgICAodGV4dCBhcyBhbnkpLnNjYWxlID0gMC42O1xyXG4gICAgICAgIC8vbG9hZCBpbnRvIGNvbnRhaW5lclxyXG4gICAgICAgIHRoaXMuX2xldmVsVGV4dENvbnRhaW5lci5yZW1vdmVBbGxDaGlsZHJlbigpO1xyXG4gICAgICAgIHRoaXMuX2xldmVsVGV4dENvbnRhaW5lci5hZGRDaGlsZCh0ZXh0KTtcclxuXHJcbiAgICAgICAgLy9wdXQgY29udGFpbmVyIGF0IGJvdHRvbVxyXG4gICAgICAgIHRoaXMuX2xldmVsVGV4dENvbnRhaW5lci54ID0gKHRoaXMuX2dhbWUuU3RhZ2VXaWR0aCAvIDIpIC0gKCh0ZXh0LmdldEJvdW5kcygpLndpZHRoIC8gMikgKiAwLjYpO1xyXG4gICAgICAgIHRoaXMuX2xldmVsVGV4dENvbnRhaW5lci55ID0gdGhpcy5fZ2FtZS5TdGFnZUhlaWdodCAtIDMwO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0IH0gZnJvbSBcIi4vTGF5b3V0XCI7XHJcblxyXG4vKipVc2VzIGN1c3RvbSBjbGFzc2VzIGFuZCB0aGUgY3JlYXRlanMgbGlicmFyeSB0byBoZWxwIGVhc2lseSBidWlsZCB1cCB1aSBpbnRlcmZhY2VzIHdpdGggRGlzcGxheU9iamVjdHMuICovXHJcbmV4cG9ydCBjbGFzcyBDb250YWluZXIge1xyXG4gICAgcHJpdmF0ZSBfc3ByaXRlczp7IFtrZXk6c3RyaW5nXTpjcmVhdGVqcy5EaXNwbGF5T2JqZWN0IH07XHJcbiAgICBwcml2YXRlIF9jb250YWluZXI6Y3JlYXRlanMuQ29udGFpbmVyO1xyXG4gICAgcHJpdmF0ZSBfbGF5b3V0OkxheW91dDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9zcHJpdGVzID0geyB9O1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG5ldyBjcmVhdGVqcy5Db250YWluZXIoKTtcclxuICAgICAgICB0aGlzLl9sYXlvdXQgPSBMYXlvdXQuTUFLRV9WRVJUSUNBTF9DRU5URVIodGhpcy5fY29udGFpbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgYWRkKGtleTpzdHJpbmcsIHNwcml0ZTpjcmVhdGVqcy5EaXNwbGF5T2JqZWN0LCB1cGRhdGVMYXlvdXQ6Ym9vbGVhbj10cnVlKTpib29sZWFuIHtcclxuICAgICAgICBpZih0aGlzLl9zcHJpdGVzW2tleV0gIT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3Nwcml0ZXNba2V5XSA9IHNwcml0ZTtcclxuXHJcbiAgICAgICAgaWYodXBkYXRlTGF5b3V0KSB0aGlzLl9sYXlvdXQuYnVpbGRMYXlvdXQodHJ1ZSwgLi4uT2JqZWN0LmtleXModGhpcy5fc3ByaXRlcykubWFwKGsgPT4gdGhpcy5fc3ByaXRlc1trXSkpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRNYW55KHNwcml0ZXM6eyBba2V5OnN0cmluZ106Y3JlYXRlanMuRGlzcGxheU9iamVjdCB9KSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoc3ByaXRlcykuZm9yRWFjaChrID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZGQoaywgc3ByaXRlc1trXSwgZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9sYXlvdXQuYnVpbGRMYXlvdXQodHJ1ZSwgLi4uT2JqZWN0LmtleXModGhpcy5fc3ByaXRlcykubWFwKGsgPT4gdGhpcy5fc3ByaXRlc1trXSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGFuZ2VMYXlvdXQobGF5b3V0OkxheW91dCkge1xyXG4gICAgICAgIHRoaXMuX2xheW91dCA9IGxheW91dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipJbiBjYXNlIG9mIHdhbmRlcmluZyBvciByZXVzYWJsZSBzcHJpdGVzLCBjYWxsIHRoZW0gYmFjayB0byB0aGlzIGxheW91dCEgKi9cclxuICAgIHB1YmxpYyBjaGVja291dFNwcml0ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5fbGF5b3V0LmJ1aWxkTGF5b3V0KHRydWUsIC4uLk9iamVjdC5rZXlzKHRoaXMuX3Nwcml0ZXMpLm1hcChrID0+IHRoaXMuX3Nwcml0ZXNba10pKTtcclxuICAgIH1cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEFCU1RSQUNUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEVWRU5UUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE9WRVJSSURFUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEdFVFRFUlMgJiBTRVRURVJTIC0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHB1YmxpYyBnZXQgQ29udGFpbmVyKCk6Y3JlYXRlanMuQ29udGFpbmVyIHsgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjsgfVxyXG4gICAgcHVibGljIGdldCBTcHJpdGVzKCkgeyByZXR1cm4gdGhpcy5fc3ByaXRlczsgfVxyXG59IiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuLi8uLi9HYW1lXCI7XHJcblxyXG4vKipVc2VkIHRvIGxheW91dCBjcmVhdGVqcyBkaXNwbGF5IG9iamVjdHMuICovXHJcbmV4cG9ydCBjbGFzcyBMYXlvdXQge1xyXG4gICAgLy9qdXN0aWZ5IGNvbnRlbnRcclxuICAgIHB1YmxpYyBzdGF0aWMgSE9SSVpPTlRBTDpzdHJpbmcgPSBcImhvcml6b250YWxcIjtcclxuICAgIHB1YmxpYyBzdGF0aWMgVkVSVElDQUw6c3RyaW5nID0gXCJ2ZXJ0aWNhbFwiO1xyXG4gICAgLy9hbGlnbiBpdGVtc1xyXG4gICAgcHVibGljIHN0YXRpYyBTVEFSVDpzdHJpbmcgPSBcInN0YXJ0XCI7XHJcbiAgICBwdWJsaWMgc3RhdGljIEVORDpzdHJpbmcgPSBcImVuZFwiO1xyXG4gICAgcHVibGljIHN0YXRpYyBDRU5URVI6c3RyaW5nID0gXCJjZW50ZXJcIjtcclxuXHJcbiAgICBwcml2YXRlIF9wYXJlbnQ6Y3JlYXRlanMuQ29udGFpbmVyO1xyXG4gICAgcHJpdmF0ZSBfaXRlbXM6Y3JlYXRlanMuRGlzcGxheU9iamVjdFtdO1xyXG5cclxuICAgIHByaXZhdGUgX2RpcmVjdGlvbjpzdHJpbmc7XHJcbiAgICBwcml2YXRlIF9hbGlnbm1lbnQ6c3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBfY3Jvc3NBbGlnbm1lbnQ6c3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBfc3BhY2luZzpudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IocGFyZW50OmNyZWF0ZWpzLkNvbnRhaW5lciwgZGlyZWN0aW9uOnN0cmluZywgYWxpZ25tZW50OnN0cmluZywgY3Jvc3NBbGlnbm1lbnQ6c3RyaW5nLCBzcGFjaW5nOm51bWJlciA9IDUpIHtcclxuICAgICAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xyXG4gICAgICAgIHRoaXMuX2FsaWdubWVudCA9IGFsaWdubWVudDtcclxuICAgICAgICB0aGlzLl9jcm9zc0FsaWdubWVudCA9IGNyb3NzQWxpZ25tZW50O1xyXG4gICAgICAgIHRoaXMuX3NwYWNpbmcgPSBzcGFjaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHB1YmxpYyBidWlsZExheW91dChhZGRUb1BhcmVudDpib29sZWFuPXRydWUsIC4uLml0ZW1zOmNyZWF0ZWpzLkRpc3BsYXlPYmplY3RbXSkge1xyXG4gICAgICAgIGlmKGl0ZW1zLmxlbmd0aCA8PSAwKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcblxyXG4gICAgICAgIGlmKGFkZFRvUGFyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudC5yZW1vdmVBbGxDaGlsZHJlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuXHJcbiAgICAgICAgaWYodGhpcy5fZGlyZWN0aW9uID09IExheW91dC5WRVJUSUNBTCkge1xyXG4gICAgICAgICAgICAvLyBYIC0gQ0VOVEVSXHJcbiAgICAgICAgICAgIGxldCB0b3RhbEhlaWdodCA9IDA7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuX2FsaWdubWVudCA9PSBMYXlvdXQuQ0VOVEVSKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtOmNyZWF0ZWpzLkRpc3BsYXlPYmplY3QgPSBpdGVtc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnggPSAoR2FtZS5XSURUSCAvIDIpIC0gKGl0ZW0uZ2V0Qm91bmRzKCkud2lkdGggLyAyKTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnkgPSB0b3RhbEhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbEhlaWdodCArPSBpdGVtLmdldEJvdW5kcygpLmhlaWdodCArIHRoaXMuX3NwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYWRkVG9QYXJlbnQpIHRoaXMuX3BhcmVudC5hZGRDaGlsZChpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBZIC0gQ0VOVEVSXHJcbiAgICAgICAgICAgICAgICAvL2hhbmRsZSB2ZXJ0aWNhbCBhbGlnbm1lbnRcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX2Nyb3NzQWxpZ25tZW50ID09IExheW91dC5TVEFSVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIERPIE5PVEhJTkcsIHRoaXMgaXMgdGhlIGRlZmF1bHRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5fY3Jvc3NBbGlnbm1lbnQgPT0gTGF5b3V0LkNFTlRFUikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsSGVpZ2h0ICs9IGl0ZW1zW2l0ZW1zLmxlbmd0aC0xXS5nZXRCb3VuZHMoKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW06Y3JlYXRlanMuRGlzcGxheU9iamVjdCA9IGl0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2RlY2lwaGVyIGRlc2lyZWQgY2VudGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ueSArPSAoR2FtZS5IRUlHSFQgLyAyKSAtICh0b3RhbEhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gQUJTVFJBQ1RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBIRUxQRVIgRlVOQ1RJT05TIC0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgc3RhdGljIE1BS0VfVkVSVElDQUxfQ0VOVEVSKGNvbnRhaW5lcjpjcmVhdGVqcy5Db250YWluZXIpIHsgcmV0dXJuIG5ldyBMYXlvdXQoY29udGFpbmVyLCBMYXlvdXQuVkVSVElDQUwsIExheW91dC5DRU5URVIsIExheW91dC5DRU5URVIsIDUpOyB9XHJcblxyXG59Il19"}