!function a(o,s,c){function u(t,e){if(!s[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};o[t][0].call(i.exports,function(e){return u(o[t][1][e]||e)},i,i.exports,a,o,s,c)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"success",value:function(e){console.log("%c "+e,"color:seagreen; font-size:1.1em; font-weight:bold; border-left: solid 3px seagreen;")}},{key:"message",value:function(e){console.log("%c "+e,"color:#1E265C; font-size:1.1em; font-weight:bold; border-left: solid 3px #1E265C;")}},{key:"error",value:function(e){console.log("%c "+e,"color:red; font-size:1.1em; border-left: solid 3px red;")}}]),e}();n.Logging=i},{}],2:[function(e,t,n){"use strict";var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var a=function(a,o,s,c){return new(s||(s=Promise))(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((c=c.apply(a,o||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./managers/LoadManager"),s=e("./managers/ScreenManager"),c=e("./screens/SplashScreen"),u=e("./screens/MenuScreen"),l=e("./screens/GameScreen"),h=e("./screens/EndScreen"),_=e("./Functions"),p=e("./ui/Sprites"),g=e("./screens/IntermediaryScreen"),d=e("./managers/DataManager"),r=function(){function r(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._canvas=e,this._canvas.width=r.WIDTH,this._canvas.height=r.HEIGHT,this._lastGameTime=-1,this._scaling=r.HEIGHT/1024,new Promise(function(e,t){return a(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Readying stage!"),this._stage=new createjs.StageGL(this._canvas,{antialias:!0}),this._stage.setClearColor("#000000"),this._stage.enableMouseOver(10),this._stage.update(),console.log(this._stage,this._canvas),this._stage.addEventListener(o.LoadManager.ASSETS_UPDATED,function(e){console.log(o.LoadManager.Percentage)}),e.next=9,o.LoadManager.loadAssets("assets/manifest.json",this._stage).catch(function(e){console.warn("Error loading assets:",e)});case 9:return _.Logging.success("Assets Loaded Successfully!"),e.next=12,d.DataManager.loadWorldsData("assets/data/levels.json").catch(function(e){_.Logging.error(e)});case 12:return this.changeCurrentLevel(d.DataManager.getLevelDataByIndex(1)),_.Logging.success("Level Data Loaded Successfully!"),e.next=16,p.Sprites.setup();case 16:s.ScreenManager.registerScreen("splash",new c.SplashScreen),s.ScreenManager.registerScreen("menu",new u.MenuScreen(this)),s.ScreenManager.registerScreen("game",new l.GameScreen(this)),s.ScreenManager.registerScreen("end",new h.EndScreen(this)),s.ScreenManager.registerScreen("intermediary",new g.IntermediaryScreen(this)),s.ScreenManager.setCurrentScreen("game",this._stage),createjs.Ticker.framerate=r.FRAME_RATE,createjs.Ticker.on("tick",this.update,this);case 24:case"end":return e.stop()}},e,this)}))})}return i(r,[{key:"changeCurrentLevel",value:function(e){this._currentLevel=e}},{key:"changeCurrentScore",value:function(e){this._currentScore=e}},{key:"update",value:function(e){var t=-1!=this._lastGameTime?createjs.Ticker.getMeasuredFPS()-this._lastGameTime:1;this._lastGameTime=createjs.Ticker.getMeasuredFPS(),null!=s.ScreenManager.CurrentScreen&&s.ScreenManager.CurrentScreen.update(t),this._stage.update()}},{key:"StageWidth",get:function(){return this._canvas.width}},{key:"StageHeight",get:function(){return this._canvas.height}},{key:"Stage",get:function(){return this._stage}},{key:"Scaling",get:function(){return this._scaling}},{key:"CurrentLevelData",get:function(){return this._currentLevel}},{key:"CurrentScoreData",get:function(){return this._currentScore}}],[{key:"FRAME_RATE",get:function(){return 30}},{key:"WIDTH",get:function(){return.5625*r.HEIGHT}},{key:"HEIGHT",get:function(){return Math.min(document.body.clientHeight,1024)}}]),r}();n.Game=r},{"./Functions":1,"./managers/DataManager":8,"./managers/LoadManager":9,"./managers/ScreenManager":10,"./screens/EndScreen":11,"./screens/GameScreen":12,"./screens/IntermediaryScreen":13,"./screens/MenuScreen":14,"./screens/SplashScreen":16,"./ui/Sprites":17}],3:[function(e,t,n){"use strict";var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./Functions"),r=function(){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r)}return i(r,null,[{key:"createPoolObject",value:function(e,t){var n={type:t,obj:e,active:!1};return r.Pool.push(n),n}},{key:"checkout",value:function(e){var t=r._getObjectByType(e);return null!=t?(t.active=!0,t.obj):null}},{key:"return",value:function(e){var t=r._getObjectByObj(e);return null!=t&&!(t.active=!1)}},{key:"_getObjectByType",value:function(t){var e=r._pool.find(function(e){return e.type==t&&!e.active});return null==e&&a.Logging.error("Object not found in pool, or pool is exhausted.  Return some objects."),e}},{key:"_getObjectByObj",value:function(t){return r._pool.find(function(e){return e.obj==t})}},{key:"Pool",get:function(){return null==r._pool&&(r._pool=[]),r._pool}}]),r}();n.ObjectPool=r},{"./Functions":1}],4:[function(e,t,n){"use strict";var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("./Entity"),o=e("../managers/LoadManager"),r=function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,o.LoadManager.Spritesheets.Kitty_Spritesheet));return t._speed=3,t._fishCaughtMultiplier=.05,t._caughtFish=[],t._isGrabbing=!1,t._isRising=!1,t._hasReachedSurface=!0,t._sprite.gotoAndPlay(r.ANIMATION.Idle),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,a.Entity),i(r,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"grab",value:function(){var t=this;if(this._hasReachedSurface){this._isGrabbing=!0,this._hasReachedSurface=!1,this.X=this.GameScreen.Game.Stage.mouseX,console.log("START SPEED:",this.Speed);var e=this.GameScreen.Game.Stage.mouseY/2*this.Speed;this._catYTween=createjs.Tween.get(this._sprite).to({y:this.GameScreen.Game.Stage.mouseY},e,createjs.Ease.circIn).call(function(){t._isGrabbing=!1,t._sprite.gotoAndPlay(r.ANIMATION.Grab),t._sprite.on("animationend",function(){t._sprite.gotoAndPlay(r.ANIMATION.Hold)},!0);var e=t.GameScreen.tryToGrabFishes(t.X,t.Y);0<e.length?t.caught(e):t.returnToSurface()})}}},{key:"returnToSurface",value:function(){var e=this;this._sprite.gotoAndPlay(r.ANIMATION.Idle),createjs.Tween.removeTweens(this._sprite);var t=this.Y/2*this.Speed;this._catYTween=createjs.Tween.get(this._sprite).wait(150).to({y:20},t,createjs.Ease.linear).call(function(){e.reachSurface()})}},{key:"caught",value:function(e){var t=this;if(console.log("I CAUGHT"),!(e.length<=0)){var n=!(this._isRising=!0);if(e.forEach(function(e){-1==t._caughtFish.indexOf(e)&&(n=!0,e.catch(),t._caughtFish.push(e),e.Y=t.Y)}),console.log("I WAS CAUGHT, NOW RISING"),console.log("FISH CAUGHT SPEED:",this.Speed),n){createjs.Tween.removeTweens(this._sprite);var r=this.Y*this.Speed;this._catYTween=createjs.Tween.get(this._sprite).wait(250).to({y:-20},r,createjs.Ease.linear).call(function(){t.reachSurface(),t._isRising=!1})}}}},{key:"drop",value:function(){this._caughtFish=[],this.returnToSurface()}},{key:"injure",value:function(e){var t=this;createjs.Tween.removeTweens(this._sprite),this._sprite.gotoAndPlay(r.ANIMATION.Ow),this._catYTween=createjs.Tween.get(this._sprite).wait(30).to({y:20},1e3,createjs.Ease.linear).call(function(){t.reachSurface(),t._sprite.gotoAndPlay(r.ANIMATION.Idle)})}},{key:"reachSurface",value:function(){var t=this;null!=this._caughtFish&&(this._caughtFish.forEach(function(e){t.GameScreen.collectFish(e)}),this._caughtFish=[]),this._hasReachedSurface=!0}},{key:"update",value:function(e){var t=this;if(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"update",this).call(this,e),this._isRising){console.log("TRY TO GRAB");var n=this.GameScreen.tryToGrabFishes(this.X,this.Y);0<n.length&&this.caught(n)}null!=this._caughtFish&&this._caughtFish.forEach(function(e){e.Y=t.Y-20})}},{key:"Speed",get:function(){var e=0<this._caughtFish.length?1+(this._caughtFish.length+this._fishCaughtMultiplier):1;return console.log(e),e*this._speed},set:function(e){this._speed=e}}],[{key:"GRAB_RANGE",get:function(){return 120}},{key:"ANIMATION",get:function(){return Object.freeze({Idle:"kittyIdle",Death:"kittyIdle",Grab:"kittyIdle",Hold:"kittyIdle",Ow:"kittyIdle"})}}]),r}();n.Cat=r},{"../managers/LoadManager":9,"./Entity":5}],5:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this._gameScreen=e,this._sprite=new createjs.Sprite(t),this._direction={x:1,y:1},this._isIgnoringCollision=!1,this._ignoreCollisionTimer=0}return r(i,[{key:"create",value:function(e){return null==e?this._gameScreen.Game.Stage.addChild(this._sprite):e.addChild(this._sprite),this}},{key:"destroy",value:function(){return null==this._sprite||null==this._sprite.parent?null:(this._sprite.parent.removeChild(this._sprite),this)}},{key:"update",value:function(e){this._isIgnoringCollision&&(this._ignoreCollisionTimer++,this._ignoreCollisionTimer>i.IGNORE_COLLISION&&(this._isIgnoringCollision=!1))}},{key:"startIgnoreCollision",value:function(){this._isIgnoringCollision=!0}},{key:"testStageBounds",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t={x:this._sprite.regX,y:this._sprite.regY};null!=e&&(t={x:0<this._direction.x?this.Bounds.Width*e.x:this.Bounds.Width*(1-e.x),y:0<this._direction.y?this.Bounds.Height*e.y:this.Bounds.Height*(1-e.y)});var n=this._gameScreen.Game.StageWidth,r=(this._gameScreen.Game.StageHeight,0<this._direction.x?this.Bounds.Width-t.x:-t.x);0<this._direction.y&&this.Bounds.Height,t.y;return this.X+r>n?i.HIT.Right:this.X+r<0?i.HIT.Left:void 0}},{key:"GameScreen",get:function(){return this._gameScreen}},{key:"Sprite",get:function(){return this._sprite}},{key:"Parent",get:function(){return this._sprite.parent}},{key:"X",get:function(){return this._sprite.x},set:function(e){this._sprite.x=e}},{key:"Y",get:function(){return this._sprite.y},set:function(e){this._sprite.y=e}},{key:"DirectionX",set:function(e){var t=this._direction.x;this._direction.x=e,this._direction.x!=t&&(this._sprite.scaleX*=-1)}},{key:"Bounds",get:function(){var e=this._sprite.getBounds();return{Width:e.width,Height:e.height}}},{key:"IsIgnoringCollision",get:function(){return this._isIgnoringCollision}}],[{key:"IGNORE_COLLISION",get:function(){return 20}},{key:"HIT",get:function(){return Object.freeze({Top:0,Right:1,Bottom:2,Left:3})}}]),i}();n.Entity=i},{}],6:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./Entity"),o=e("../managers/LoadManager"),s=e("../Functions"),c=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,o.LoadManager.Spritesheets.Peeper_Spritesheet));return t._speed=1,t._isCaught=!1,t._sprite.gotoAndPlay(n.ANIMATION.Slow),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.Entity),r(n,[{key:"setNaturalY",value:function(){this._naturalY=this.Y}},{key:"catch",value:function(){this._isCaught||(s.Logging.message("Fish was grabbed!"),this._isCaught=!0,this._sprite.gotoAndPlay(n.ANIMATION.Panic))}},{key:"testHit",value:function(e,t){return this._sprite.hitTest(e,t)}},{key:"destroy",value:function(){return this.disable(),i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"update",value:function(e){if(i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"update",this).call(this,e),this._isCaught||(this.X+=this._speed*e*this._direction.x),!this.IsIgnoringCollision)switch(this.testStageBounds({x:.5,y:.5})){case a.Entity.HIT.Right:this._direction.x*=-1,this._sprite.scaleX*=-1,this.startIgnoreCollision(),this.X-=5-this.Bounds.Width;break;case a.Entity.HIT.Left:this._direction.x*=-1,this._sprite.scaleX*=-1,this.startIgnoreCollision(),this.X+=5-this.Bounds.Width}}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"Speed",get:function(){return this._speed},set:function(e){this._speed=e}}],[{key:"ANIMATION",get:function(){return Object.freeze({Slow:"fishIdle",Fast:"fishIdle",Panic:"fishPanic"})}}]),n}();n.Fish=c},{"../Functions":1,"../managers/LoadManager":9,"./Entity":5}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Game");document.addEventListener("DOMContentLoaded",function(){new r.Game(document.getElementById("game-canvas"))})},{"./Game":2}],8:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var a=function(a,o,s,c){return new(s||(s=Promise))(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((c=c.apply(a,o||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"loadWorldsData",value:function(i){var e=this;return new Promise(function(n,r){return a(e,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(i).then(function(e){return e.json()}).then(function(e){t._worldsData=e,n(t._worldsData)}).catch(function(e){r("Could not load world data! "+e)});case 2:case"end":return e.stop()}},e,this)}))})}},{key:"getLevelDataByIndex",value:function(e){return[].concat.apply([],t._worldsData.worlds)[e]}},{key:"WorldsData",get:function(){return t._worldsData}}]),t}();n.DataManager=i},{}],9:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var o=function(a,o,s,c){return new(s||(s=Promise))(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((c=c.apply(a,o||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a)}return r(a,null,[{key:"reset",value:function(){a._sheetsTotal=0,a._sheetsLoaded=0,a._percentage=0,a._totalAssetsLoaded=0,a._totalAssets=0}},{key:"loadAssets",value:function(r,e){var i=this;return a.reset(),a._stage=e,new Promise(function(t,n){return o(i,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a._preloadManager=new createjs.LoadQueue,createjs.Sound.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin,createjs.FlashAudioPlugin]),createjs.Sound.alternateExtensions=["mp3","wav"],a._preloadManager.installPlugin(createjs.Sound),a._preloadManager.on("fileload",a._onLoaded,a),a._preloadManager.on("complete",a._onComplete,a),a._preloadManager.on("error",a._onError,a),fetch(r).then(function(e){return e.json()}).then(function(e){a._preloadManager.setMaxConnections(1),a._preloadManager.loadManifest(e),a._stage.addEventListener(a.ASSETS_LOADED,function(){t()})}).catch(function(){a.emitErrorEvent(),n("Could not load assets!")});case 8:case"end":return e.stop()}},e,this)}))})}},{key:"emitLoadedEvent",value:function(){null!=a._stage&&a._stage.dispatchEvent(a.AssetsLoadedEvent)}},{key:"emitErrorEvent",value:function(){null!=a._stage&&a._stage.dispatchEvent(a.AssetsFailedEvent)}},{key:"emitUpdatedEvent",value:function(){a._percentage=parseFloat((a._preloadManager.getItems(!0).length/a._preloadManager.getItems(!1).length).toFixed(2)),null!=a._stage&&a._stage.dispatchEvent(a.AssetsUpdatedEvent)}},{key:"_loadedSheet",value:function(e,t){a.Spritesheets[e]=t,a._sheetsLoaded++}},{key:"_onLoaded",value:function(t){switch(console.log("asset loaded: "+t.item.src+" type: "+t.item.type),t.item.type){case createjs.Types.JAVASCRIPT:a._sheetsTotal++;var n=window[t.item.id]._SpriteSheet;n.complete?a._loadedSheet(t.item.id,n):n.on("complete",function(e){a._loadedSheet(t.item.id,n),e.remove()});break;case createjs.Types.IMAGE:a.Images[t.item.id]=new createjs.Bitmap(t.item.src)}a.emitUpdatedEvent()}},{key:"_onComplete",value:function(t){if(a._preloadManager.removeAllEventListeners(),a._sheetsLoaded<a._sheetsTotal)setInterval(function(e){a._sheetsTotal<=a._sheetsLoaded&&(t.remove(),a.emitLoadedEvent())},100);else a.emitLoadedEvent()}},{key:"_onError",value:function(e){a.emitErrorEvent()}},{key:"ASSETS_LOADED",get:function(){return"onAssetsLoaded"}},{key:"ASSETS_FAILED",get:function(){return"onAssetsFailed"}},{key:"ASSETS_UPDATED",get:function(){return"onAssetsUpdated"}},{key:"Percentage",get:function(){return a._percentage}}]),a}();i.Spritesheets={},i.Images={},i._sheetsTotal=0,i._sheetsLoaded=0,i._percentage=0,i._totalAssetsLoaded=0,i._totalAssets=0,i.AssetsLoadedEvent=new createjs.Event(i.ASSETS_LOADED,!1,!0),i.AssetsFailedEvent=new createjs.Event(i.ASSETS_FAILED,!1,!0),i.AssetsUpdatedEvent=new createjs.Event(i.ASSETS_UPDATED,!1,!0),n.LoadManager=i},{}],10:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var s=function(a,o,s,c){return new(s||(s=Promise))(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((c=c.apply(a,o||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../screens/Screen"),i=function(){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}return r(o,null,[{key:"registerScreen",value:function(e,t){null==o._screensLookup[e]&&(o._screensLookup[e]=t)}},{key:"unregisterScreen",value:function(e){return null!=o._screensLookup[e]&&(o._screensLookup[e]=null,delete o._screensLookup[e],!0)}},{key:"setCurrentScreen",value:function(e,n){var r=this,i=null;if(null==(i=e instanceof c.Screen?e:o._screensLookup[e]))return Promise.resolve();var a=[];return null!=o._currentScreen&&a.push(new Promise(function(t){return s(r,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:createjs.Tween.get(o._currentScreen.Container).to({alpha:0},500,createjs.Ease.linear).call(function(){o._currentScreen.destroy(),o._currentScreen.disable(),t()});case 1:case"end":return e.stop()}},e,this)}))})),new Promise(function(t){return s(r,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(a);case 2:(o._currentScreen=i).create(n),o._currentScreen.Container.alpha=0,o._currentScreen.disable(),console.log("FADE IN"),createjs.Tween.get(o._currentScreen.Container).to({alpha:1},1200,createjs.Ease.linear).call(function(){console.log("DONE"),o._currentScreen.enable(),t()});case 8:case"end":return e.stop()}},e,this)}))})}},{key:"getScreenByKey",value:function(e){return o._screensLookup[e]}},{key:"AllScreens",get:function(){return o._screensLookup}},{key:"CurrentScreen",get:function(){return o._currentScreen}}]),o}();i._screensLookup={},i._currentScreen=null,n.ScreenManager=i},{"../screens/Screen":15}],11:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),_=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Screen"),a=e("../managers/ScreenManager"),o=e("../ui/display/Container"),p=e("../ui/Sprites"),g=e("../managers/LoadManager"),s=function(e){function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));t._game=e,t._isFail=!1;var n=new createjs.Sprite(g.LoadManager.Spritesheets.Catfish_End,"bg");t._container.addChild(n),t._buttonsContainer=new o.Container(o.Container.LAYOUT_OPTIONS.ColumnLeftBottom),t._buttonsContainer.addMany({btnTryAgain:new createjs.Sprite(g.LoadManager.Spritesheets.Catfish_End,"btnTryAgain"),btnNextLevel:new createjs.Sprite(g.LoadManager.Spritesheets.Catfish_End,"btnNextLevel"),btnMainMenu:new createjs.Sprite(g.LoadManager.Spritesheets.Catfish_End,"btnMainMenu")}),t._container.addChild(t._buttonsContainer.Container),t._highScoreSpr=new createjs.Sprite(g.LoadManager.Spritesheets.Catfish_End,"highScore"),t._highScoreSpr.x=t._game.StageWidth/2-t._highScoreSpr.getBounds().width/2,t._highScoreSpr.y=60,t._container.addChild(t._highScoreSpr),t._completeSpr=new createjs.Sprite(g.LoadManager.Spritesheets.Catfish_End,"complete"),t._failSpr=new createjs.Sprite(g.LoadManager.Spritesheets.Catfish_End,"failure"),t._completeSpr.x=t._game.StageWidth/2-t._completeSpr.getBounds().width/2,t._completeSpr.y=220,t._failSpr.x=t._game.StageWidth/2-t._failSpr.getBounds().width/2,t._failSpr.y=.45*t._game.StageHeight,t._container.addChild(t._completeSpr),t._container.addChild(t._failSpr),t._scoreContainer=new o.Container(o.Container.LAYOUT_OPTIONS.ColumnCenterCenter),t._scoreContainer.addMany({fishRemain:new createjs.Sprite(g.LoadManager.Spritesheets.Catfish_End,"fishRemain"),time:new createjs.Sprite(g.LoadManager.Spritesheets.Catfish_End,"time"),combos:new createjs.Sprite(g.LoadManager.Spritesheets.Catfish_End,"combos"),line:new createjs.Sprite(g.LoadManager.Spritesheets.Catfish_End,"line")});return t._scoreContainer.Sprites.fishRemain.x=250-t._scoreContainer.Sprites.fishRemain.getBounds().width,t._scoreContainer.Sprites.time.x=250-t._scoreContainer.Sprites.time.getBounds().width,t._scoreContainer.Sprites.combos.x=250-t._scoreContainer.Sprites.combos.getBounds().width,t._scoreContainer.Sprites.line.x=t._game.StageWidth-t._scoreContainer.Sprites.line.getBounds().width-30,t._scoreContainer.Sprites.line.y+=15,t._container.addChild(t._scoreContainer.Container),t._fishRemainContainer=new createjs.Container,t._timeContainer=new createjs.Container,t._combosContainer=new createjs.Container,t._container.addChild(t._fishRemainContainer),t._container.addChild(t._timeContainer),t._container.addChild(t._combosContainer),t._fishRemainContainer.x=270,t._fishRemainContainer.y=t._scoreContainer.Sprites.fishRemain.y,t._timeContainer.x=270,t._timeContainer.y=t._scoreContainer.Sprites.time.y,t._combosContainer.x=270,t._combosContainer.y=t._scoreContainer.Sprites.combos.y,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,i.Screen),r(h,[{key:"create",value:function(t){return this._container.on("click",function(e){a.ScreenManager.setCurrentScreen("menu",t)},this,!0),_(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"create",this).call(this,t)}},{key:"enable",value:function(){_(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"enable",this).call(this),this._game.changeCurrentScore({totalFish:10,time:150,combos:2});var e=this._game.CurrentLevelData,t=!(null!=e.showRemainingFish&&!e.showRemainingFish),n=!(null!=e.showScore&&!e.showScore),r=null!=e.duration,i=this._game.CurrentScoreData,a=i.totalFish,o=i.time,s=i.combos,c=p.Sprites.generateBitmapText(t?a.toString():"-",g.LoadManager.Spritesheets.TypographyWhite);this._fishRemainContainer.addChild(c);var u=p.Sprites.generateBitmapText(r?o.toString():"-",g.LoadManager.Spritesheets.TypographyWhite);this._timeContainer.addChild(u);var l=p.Sprites.generateBitmapText(n?s.toString():"-",g.LoadManager.Spritesheets.TypographyWhite);this._combosContainer.addChild(l)}},{key:"disable",value:function(){this._fishRemainContainer.removeAllChildren(),this._timeContainer.removeAllChildren(),this._combosContainer.removeAllChildren(),this._completeSpr.visible=!this._isFail,this._failSpr.visible=this._isFail}}]),h}();n.EndScreen=s},{"../managers/LoadManager":9,"../managers/ScreenManager":10,"../ui/Sprites":17,"../ui/display/Container":19,"./Screen":15}],12:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./Screen"),o=e("../managers/ScreenManager"),l=e("../ObjectPool"),s=e("../entities/Fish"),h=e("../entities/Cat"),_=e("../ui/display/Container"),p=e("../ui/Sprites"),g=e("../Functions"),d=e("../managers/LoadManager"),f=e("../ui/partials/GameScore"),c=function(e){function c(e){i(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));t._game=e,t._fishes=[],t._remainingFish=-1,l.ObjectPool.createPoolObject(new h.Cat(t),y.CAT);for(var n=0;n<120;n++)l.ObjectPool.createPoolObject(new s.Fish(t),y.FISH);return t._cat=l.ObjectPool.checkout(y.CAT),t._staticContainer=new _.Container,t._staticContainer.addMany({bg:new createjs.Sprite(d.LoadManager.Spritesheets.BG_Spritesheet,"bg1")}),t._fishContainer=new createjs.Container,t._winContainer=new createjs.Container,t._gameScore=new f.GameScore(t._game),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,a.Screen),r(c,[{key:"tryToGrabFishes",value:function(e,t){for(var n=[],r=0;r<this._fishes.length;r++){var i=this._fishes[r],a=i.Sprite.globalToLocal(e,t);i.testHit(a.x,a.y)&&n.push(i)}return n}},{key:"collectFish",value:function(e){g.Logging.success("GOT FISH!"),null!=e.destroy()&&(this._remainingFish--,this._remainingFish<=0&&(g.Logging.success("GAME IS OVER!"),this.win()))}},{key:"win",value:function(){var e=this;this.disable(),this._game.changeCurrentScore({totalFish:this._fishes.length,combos:10,time:100}),createjs.Tween.get(this._winContainer).to({y:this._game.StageHeight/2-25},600,createjs.Ease.elasticOut).wait(2e3).call(function(){o.ScreenManager.setCurrentScreen("end",e._game.Stage)})}},{key:"create",value:function(e){if(u(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"create",this).call(this,e),this._staticContainer.checkoutSprites(),this._staticContainer.Sprites.bg.y=0,this._container.addChild(this._staticContainer.Container),this._container.addChild(this._fishContainer),this._winBanner=new createjs.Shape,this._winBanner.graphics.beginFill("black"),this._winBanner.graphics.drawRect(0,0,this._game.StageWidth,50),this._winBanner.cache(0,0,this._game.StageWidth,50),this._winContainer.addChild(this._winBanner),this._winText=p.Sprites.generateBitmapText("Win!",d.LoadManager.Spritesheets.TypographyWhite),this._winContainer.addChild(this._winText),this._winText.x=this._game.StageWidth/2-this._winText.getBounds().width/2,this._container.addChild(this._winContainer),this._winContainer.y=this._game.StageHeight+50,this._winContainer.mouseEnabled=!1,this._cat.create(this._container),null!=this._game.CurrentLevelData){for(var t=0;t<this._game.CurrentLevelData.data.length;t++){var n=this._game.CurrentLevelData.data[t];switch(n.id){case y.FISH:var r=l.ObjectPool.checkout(y.FISH);r.create(this._fishContainer),null!=n.speed&&(r.Speed=n.speed),null!=n.x&&(r.X=n.x),null!=n.y&&(r.Y=n.y),null!=n.flip&&n.flip&&(r.DirectionX=-1),r.setNaturalY(),this._fishes.push(r)}}this._remainingFish=this._fishes.length}this._gameScore.Container.y=this._game.StageHeight-40,this._container.addChild(this._gameScore.Container);var i=this._game.CurrentLevelData;console.log(this._game.CurrentLevelData);var a=!(null!=i.showScore&&!i.showScore),o=null!=i.duration,s=!(null!=i.showRemainingFish&&!i.showRemainingFish);return this._gameScore.startHUD(a,s,o),null}},{key:"destroy",value:function(){return this._cat.destroy(),this._fishes.forEach(function(e){return e.destroy()}),this._fishContainer.removeAllChildren(),this._fishes=[],u(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"destroy",this).call(this)}},{key:"update",value:function(e){var t=Math.min(1,e)+.5;this._fishes.forEach(function(e){e.update(t)}),this._cat.update(t),this._gameScore.update(e),u(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"update",this).call(this,e)}},{key:"enable",value:function(){this._container.on("click",this._cat.grab,this._cat)}},{key:"disable",value:function(){this._container.removeAllEventListeners()}},{key:"Game",get:function(){return this._game}}]),c}();n.GameScreen=c;var y=function(){function e(){i(this,e)}return r(e,null,[{key:"CAT",get:function(){return"cat"}},{key:"FISH",get:function(){return"fish"}},{key:"PUFFERFISH",get:function(){return"puffer"}}]),e}();n.POOL=y},{"../Functions":1,"../ObjectPool":3,"../entities/Cat":4,"../entities/Fish":6,"../managers/LoadManager":9,"../managers/ScreenManager":10,"../ui/Sprites":17,"../ui/display/Container":19,"../ui/partials/GameScore":21,"./Screen":15}],13:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./Screen"),o=e("../managers/ScreenManager"),s=e("../ui/Sprites"),c=e("../managers/LoadManager"),u=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._game=e,t._text="",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.Screen),r(n,[{key:"queueNextScreen",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3e3,r=window.setTimeout(function(){o.ScreenManager.setCurrentScreen(e,t._game.Stage),window.clearTimeout(r)},n)}},{key:"create",value:function(e){return this._bg=new createjs.Shape,this._bg.graphics.beginFill("#191919"),this._bg.graphics.drawRect(0,0,this._game.StageWidth,this._game.StageHeight),this._bg.graphics.endFill(),this._bg.cache(0,0,this._game.StageWidth,this._game.StageHeight),this._container.addChild(this._bg),this._textContainer=new createjs.Container,this._container.addChild(this._textContainer),""!=this._text&&(this._txtSprite=s.Sprites.generateBitmapText(this._text,c.LoadManager.Spritesheets.TypographyWhite),this._txtSprite.scale=.6,this._textContainer.addChild(this._txtSprite),this._textContainer.x=this._game.StageWidth/2-this._txtSprite.getBounds().width/2*.6,this._textContainer.y=this._game.StageHeight/2-this._txtSprite.getBounds().height/2),i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"create",this).call(this,e)}},{key:"destroy",value:function(){return this._textContainer.removeAllChildren(),i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"enable",value:function(){var t=this;i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"enable",this).call(this),this._container.on("click",function(e){o.ScreenManager.setCurrentScreen("menu",t.Stage)},this,!0)}},{key:"disable",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"disable",this).call(this),this.reset()}},{key:"reset",value:function(){this.Text="",i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"reset",this).call(this)}},{key:"Text",set:function(e){this._text=e}}]),n}();n.IntermediaryScreen=u},{"../managers/LoadManager":9,"../managers/ScreenManager":10,"../ui/Sprites":17,"./Screen":15}],14:[function(e,t,n){"use strict";var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0};var o=function(a,o,s,c){return new(s||(s=Promise))(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((c=c.apply(a,o||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./Screen"),c=e("../managers/ScreenManager"),u=e("../ui/Sprites"),l=e("../managers/LoadManager"),h=e("../ui/display/Container"),_=e("../Functions"),p=e("../ui/custom/LevelSelectDisplay"),g=e("../managers/DataManager"),r=function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));t._game=e,t._swipeContainer=new createjs.Container,t._staticContainer=new h.Container;var n=new createjs.Sprite(l.LoadManager.Spritesheets.Catfish_Main,"bg");return t._staticContainer.addMany({bg:n}),t._mainContainer=new createjs.Container,t._logo=new createjs.Sprite(l.LoadManager.Spritesheets.Catfish_Main,"logo"),t._logo.x=t._game.StageWidth-t._logo.getBounds().width-20,t._logo.y=.4*t._game.StageHeight,t._mainContainer.addChild(t._logo),t._mainButtonsContainer=new h.Container(h.Container.LAYOUT_OPTIONS.ColumnLeftBottom),t._mainButtonsContainer.addMany({btnNewGame:new createjs.Sprite(l.LoadManager.Spritesheets.Catfish_Main,"btnNewGame"),btnOptions:new createjs.Sprite(l.LoadManager.Spritesheets.Catfish_Main,"btnOptions"),btnLevelSelect:new createjs.Sprite(l.LoadManager.Spritesheets.Catfish_Main,"btnLevelSelect"),btnExit:new createjs.Sprite(l.LoadManager.Spritesheets.Catfish_Main,"btnExit")}),t._mainContainer.addChild(t._mainButtonsContainer.Container),t._fancyFish=new createjs.Sprite(l.LoadManager.Spritesheets.Catfish_Main,"fancyFish"),t._fancyFish.x=t._game.StageWidth-t._fancyFish.getBounds().width-20,t._fancyFish.y=t._game.StageHeight-t._fancyFish.getBounds().height-20,t._mainContainer.addChild(t._fancyFish),t._optionsContainer=new h.Container,t._optionsContainer.addMany({txtOptions:u.Sprites.generateBitmapText("Options",l.LoadManager.Spritesheets.Typography),btnClearData:u.Sprites.Buttons.ClearData}),t._optionsContainer.Container.x-=t._game.StageWidth,t._clearedContainer=new h.Container,t._clearedContainer.add("txtCleared",u.Sprites.generateBitmapText("Data successfully cleared!",l.LoadManager.Spritesheets.Typography)),t._clearedContainer.Container.x-=t._game.StageWidth,t._clearedContainer.Container.y-=t._game.StageHeight,t._levelSelectDisplay=new p.LevelSelectDisplay(e),t._levelSelectDisplay.Container.x+=t._game.StageWidth,t._swipeSpeed=800,t._currentScreen="main",t._initialSwipePos={x:-1,y:-1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,s.Screen),i(r,[{key:"_onNewGame",value:function(){var e=this;_.Logging.message("Go to new game!");var n=g.DataManager.getLevelDataByIndex(0),r=c.ScreenManager.getScreenByKey("intermediary");new Promise(function(t){return o(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.Text=n.name,e.next=3,c.ScreenManager.setCurrentScreen(r,this.Stage);case 3:r.queueNextScreen("game"),t();case 5:case"end":return e.stop()}},e,this)}))})}},{key:"_onOptions",value:function(){_.Logging.message("Go to options!"),createjs.Tween.get(this._swipeContainer).to({x:this._game.StageWidth},this._swipeSpeed,createjs.Ease.circOut),this._currentScreen="options"}},{key:"_onLevelSelect",value:function(){_.Logging.message("Go to level select!"),createjs.Tween.get(this._swipeContainer).to({x:-this._game.StageWidth},this._swipeSpeed,createjs.Ease.circOut),this._currentScreen="levelSelect"}},{key:"_onExit",value:function(){_.Logging.message("Go to exit!")}},{key:"_onMain",value:function(){_.Logging.message("Go to main!"),createjs.Tween.get(this._swipeContainer).to({x:0},this._swipeSpeed,createjs.Ease.bounceOut),this._currentScreen="main"}},{key:"_onClearData",value:function(){var e=this;_.Logging.success("Cleared data!"),createjs.Tween.get(this._swipeContainer).to({x:this._game.StageWidth,y:this._game.StageHeight},this._swipeSpeed,createjs.Ease.cubicIn);var t=window.setTimeout(function(){createjs.Tween.get(e._swipeContainer).to({x:e._game.StageWidth,y:0},e._swipeSpeed,createjs.Ease.cubicInOut),window.clearInterval(t),e._currentScreen="options"},2e3)}},{key:"_onDragStart",value:function(e){var t=this;this._initialSwipePos={x:e.stageX,y:e.stageY},null!=this._dragTimer&&window.clearTimeout(this._dragTimer),this._dragTimer=setTimeout(function(){t._initialSwipePos={x:-1,y:-1},t._dragTimer=null},500)}},{key:"_onDragEnd",value:function(e){-1==this._initialSwipePos.x&&-1==this._initialSwipePos.y||(20<this._initialSwipePos.x-e.stageX?"options"==this._currentScreen&&this._onMain():this._initialSwipePos.x-e.stageX<-20&&"levelSelect"==this._currentScreen&&this._onMain())}},{key:"create",value:function(e){return this._staticContainer.Sprites.bg.y=0,this._container.addChild(this._staticContainer.Container),this._container.addChild(this._swipeContainer),this._swipeContainer.addChild(this._mainContainer),this._swipeContainer.addChild(this._optionsContainer.Container),this._swipeContainer.addChild(this._clearedContainer.Container),this._swipeContainer.addChild(this._levelSelectDisplay.Container),a(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"create",this).call(this,e)}},{key:"enable",value:function(){console.log("LOAD IN MENU ACTIONS"),a(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"enable",this).call(this),this._mainButtonsContainer.Sprites.btnNewGame.on("click",this._onNewGame,this,!0),this._mainButtonsContainer.Sprites.btnOptions.on("click",this._onOptions,this),this._mainButtonsContainer.Sprites.btnLevelSelect.on("click",this._onLevelSelect,this),this._mainButtonsContainer.Sprites.btnExit.on("click",this._onExit,this),u.Sprites.listenToClearData(),this._optionsContainer.Sprites.btnClearData.on(u.Sprites.CLEAR_DATA,this._onClearData,this),this._staticContainer.Sprites.bg.on("mousedown",this._onDragStart,this),this._staticContainer.Sprites.bg.on("click",this._onDragEnd,this),this._levelSelectDisplay.enable(),createjs.Tween.get(this._fancyFish,{loop:!0}).to({y:this._fancyFish.y-30},3e3,createjs.Ease.sineInOut).to({y:this._fancyFish.y},3e3,createjs.Ease.sineInOut),createjs.Tween.get(this._logo,{loop:!0}).wait(1200).to({y:this._logo.y-15},4500,createjs.Ease.sineInOut).to({y:this._logo.y},4800,createjs.Ease.sineInOut)}},{key:"disable",value:function(){a(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"disable",this).call(this),this._mainButtonsContainer.Sprites.btnNewGame.off("click",this._onNewGame),this._mainButtonsContainer.Sprites.btnOptions.off("click",this._onOptions),this._mainButtonsContainer.Sprites.btnLevelSelect.off("click",this._onLevelSelect),this._mainButtonsContainer.Sprites.btnExit.off("click",this._onExit),u.Sprites.stopListenToClearData(),this._optionsContainer.Sprites.btnClearData.off(u.Sprites.CLEAR_DATA,this._onClearData),this._staticContainer.Sprites.bg.off("mousedown",this._onDragStart),this._staticContainer.Sprites.bg.off("click",this._onDragEnd),this._levelSelectDisplay.disable(),this.reset(),createjs.Tween.removeAllTweens()}},{key:"reset",value:function(){this._swipeContainer.x=0,this._swipeContainer.y=0,a(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"reset",this).call(this)}}]),r}();n.MenuScreen=r},{"../Functions":1,"../managers/DataManager":8,"../managers/LoadManager":9,"../managers/ScreenManager":10,"../ui/Sprites":17,"../ui/custom/LevelSelectDisplay":18,"../ui/display/Container":19,"./Screen":15}],15:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=new createjs.Container}return r(e,[{key:"update",value:function(e){}},{key:"create",value:function(e){return this._stage=e,this._stage.addChild(this._container),this}},{key:"destroy",value:function(){return this._stage.removeChild(this._container),this}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"reset",value:function(){}},{key:"Container",get:function(){return this._container}},{key:"Stage",get:function(){return this._stage}}]),e}();n.Screen=i},{}],16:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Screen"),a=e("../managers/ScreenManager"),o=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.Screen),r(n,[{key:"create",value:function(t){return this._splash=new createjs.Shape,this._splash.graphics.beginFill("red"),this._splash.graphics.drawRect(0,0,100,100),this._splash.graphics.endFill(),this._splash.cache(0,0,100,100),this._container.addChild(this._splash),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"create",this).call(this,t),this._container.on("click",function(e){a.ScreenManager.setCurrentScreen("menu",t)},this,!0),this}}]),n}();n.SplashScreen=o},{"../managers/ScreenManager":10,"./Screen":15}],17:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("../managers/LoadManager"),a=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}return r(n,null,[{key:"setup",value:function(){return new Promise(function(e,t){n._backgrounds.Main=new createjs.Sprite(i.LoadManager.Spritesheets.UI),n._backgrounds.Main.gotoAndStop("bg_main_static"),n._backgrounds.Logo=new createjs.Sprite(i.LoadManager.Spritesheets.Entities),n._backgrounds.Logo.gotoAndStop("icon_title"),n._backgrounds.BG=i.LoadManager.Images.BG,n._backgrounds.BGTop=i.LoadManager.Images.BGTop,n._backgrounds.Wave=new createjs.Sprite(i.LoadManager.Spritesheets.UI),n._backgrounds.Wave.gotoAndPlay("bg_main"),n._graphics.Timer=new createjs.Sprite(i.LoadManager.Spritesheets.ScoreHUD_Spritesheet),n._graphics.Timer.gotoAndPlay("sprTime"),n._graphics.Score=new createjs.Sprite(i.LoadManager.Spritesheets.ScoreHUD_Spritesheet),n._graphics.Score.gotoAndPlay("sprScore"),n._graphics.FishRemain=new createjs.Sprite(i.LoadManager.Spritesheets.ScoreHUD_Spritesheet),n._graphics.FishRemain.gotoAndPlay("sprFish"),n._buttons.NewGame=new createjs.Sprite(i.LoadManager.Spritesheets.Entities),n._buttons.NewGame.gotoAndStop("btn_new_game"),new createjs.ButtonHelper(n._buttons.NewGame,"btn_new_game","btn_new_game_hover","btn_new_game_hover"),n._buttons.Options=new createjs.Sprite(i.LoadManager.Spritesheets.Entities),n._buttons.Options.gotoAndStop("btn_new_game"),new createjs.ButtonHelper(n._buttons.Options,"btn_options","btn_options_hover","btn_options_hover"),n._buttons.LevelSelect=new createjs.Sprite(i.LoadManager.Spritesheets.Entities),n._buttons.LevelSelect.gotoAndStop("btn_select"),new createjs.ButtonHelper(n._buttons.LevelSelect,"btn_select","btn_select_hover","btn_select_hover"),n._buttons.Exit=new createjs.Sprite(i.LoadManager.Spritesheets.Entities),n._buttons.Exit.gotoAndStop("btn_select"),new createjs.ButtonHelper(n._buttons.Exit,"btn_exit","btn_exit_hover","btn_exit_hover"),n._buttons.Fishbowl=new createjs.Sprite(i.LoadManager.Spritesheets.Entities),n._buttons.Fishbowl.gotoAndStop("btn_select"),new createjs.ButtonHelper(n._buttons.Fishbowl,"icon_fishbowl","icon_fishbowl_hover","icon_fishbowl_hover",!0),n._backgrounds.LevelSelectBG=new createjs.Sprite(i.LoadManager.Spritesheets.Menu_Level_Select),n._backgrounds.LevelSelectBG.gotoAndStop("static_bg"),n._buttons.LevelEmpty=new createjs.Sprite(i.LoadManager.Spritesheets.Menu_Level_Select),n._buttons.LevelEmpty.gotoAndStop("level_empty"),n._buttons.LevelComplete=new createjs.Sprite(i.LoadManager.Spritesheets.Menu_Level_Select),n._buttons.LevelComplete.gotoAndStop("level_complete"),n._buttons.LevelSpecialEmpty=new createjs.Sprite(i.LoadManager.Spritesheets.Menu_Level_Select),n._buttons.LevelSpecialEmpty.gotoAndStop("level_special_empty"),n._buttons.LevelSpecialComplete=new createjs.Sprite(i.LoadManager.Spritesheets.Menu_Level_Select),n._buttons.LevelSpecialComplete.gotoAndStop("level_special_complete"),n._setupBTNClearData(),e()})}},{key:"_setupBTNClearData",value:function(){n._buttons.ClearData=new createjs.Sprite(i.LoadManager.Spritesheets.UI),n._buttons.ClearData.gotoAndStop("btn_clear_data"),n._buttons.ClearData.cursor="pointer",n._canClearData=!1}},{key:"listenToClearData",value:function(){n._buttons.ClearData.on("mousedown",n._btnDataDown),n._buttons.ClearData.on("animationend",n._btnDataComplete),n._buttons.ClearData.on("click",n._btnDataUp)}},{key:"stopListenToClearData",value:function(){n._buttons.ClearData.off("mousedown",n._btnDataDown),n._buttons.ClearData.off("animationend",n._btnDataComplete),n._buttons.ClearData.off("click",n._btnDataUp)}},{key:"_btnDataDown",value:function(e){n._buttons.ClearData.gotoAndPlay("btn_clear_data_progress"),n._canClearData=!0}},{key:"_btnDataUp",value:function(e){n._buttons.ClearData.gotoAndStop("btn_clear_data"),n._canClearData=!1}},{key:"_btnDataComplete",value:function(e){n._buttons.ClearData.gotoAndStop("btn_clear_data"),n._canClearData&&n._buttons.ClearData.dispatchEvent(new Event(n.CLEAR_DATA))}},{key:"generateText",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"20px Arial",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"#FFFEEE",r=new createjs.Text(e,t,n);return r.cache(0,0,r.getBounds().width,r.getBounds().height),r}},{key:"generateBitmapText",value:function(e,t){return new createjs.BitmapText(e,t)}},{key:"Backgrounds",get:function(){return n._backgrounds}},{key:"Buttons",get:function(){return n._buttons}},{key:"Graphics",get:function(){return n._graphics}}]),n}();a.CLEAR_DATA="onClearData",a._backgrounds={},a._buttons={},a._graphics={},a._canClearData=!1,n.Sprites=a},{"../managers/LoadManager":9}],18:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var a=function(a,o,s,c){return new(s||(s=Promise))(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((c=c.apply(a,o||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../Sprites"),c=e("../../managers/LoadManager"),u=e("../../managers/DataManager"),l=e("../../managers/ScreenManager"),i=function(){function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this._game=e,this._levelButtons=[],this._container=new createjs.Container,this._background=s.Sprites.Backgrounds.LevelSelectBG,this._background.x=e.StageWidth/2-this._background.getBounds().width/2,this._background.y=80,this._levelsContainer=new createjs.Container,this._container.addChild(this._background);var t=s.Sprites.generateBitmapText("Level Select",c.LoadManager.Spritesheets.Typography);t.x=e.StageWidth/2-t.getBounds().width/2,t.y=30,this._container.addChild(t),this._levelTextContainer=new createjs.Container,this._container.addChild(this._levelTextContainer),this.LevelText="Hello World!",this._levelsData=[[{name:"Welcome to the pond!",complete:!0,unlocked:!0,data:[0,0,0,0,0,0,0]},{name:"A new adventure!",complete:!0,unlocked:!0,data:[0,0,0,0,0,0,0]},{name:"Learn to aim!",complete:!1,unlocked:!0,data:[0,0,0,0,0,0,0]},{name:"Persephone!",special:!0,complete:!1,unlocked:!1,data:[0,0,0,0,0,0,0]}],[{name:"In deep water!",complete:!1,unlocked:!1,data:[0,0,0,0,0,0,0]},{name:"An ocean of fish!",complete:!1,unlocked:!1,data:[0,0,0,0,0,0,0]},{name:"Barnacles ahoy!",complete:!1,unlocked:!1,data:[0,0,0,0,0,0,0]},{name:"Owen!",special:!0,complete:!1,unlocked:!1,data:[0,0,0,0,0,0,0]}]];for(var n=0;n<this._levelsData.length;n++)for(var r=0;r<this._levelsData[n].length;r++){var i=this._levelsData[n][r];console.log("LEVEL",i);var a=s.Sprites.Buttons.LevelEmpty.clone();null!=i.special&&i.special&&(a=s.Sprites.Buttons.LevelSpecialEmpty.clone()),i.complete&&(a=s.Sprites.Buttons.LevelComplete.clone(),null!=i.special&&i.special&&(a=s.Sprites.Buttons.LevelSpecialComplete)),i.unlocked?(a.alpha=1,a.cursor="pointer"):a.alpha=.25,a.x=60*r,a.y=50*n,this._levelsContainer.addChild(a),this._levelButtons.push(a)}this._levelsContainer.x=e.StageWidth/2-this._levelsContainer.getBounds().width/2,this._levelsContainer.y=100,this._container.addChild(this._levelsContainer)}return r(o,[{key:"enable",value:function(){var t=this;this._levelButtons.forEach(function(e){e.on("click",t._onLevelClick,t),e.on("mouseover",t._onLevelHover,t),e.on("mouseout",t._onLevelUnhover,t)})}},{key:"disable",value:function(){this._levelButtons.forEach(function(e){e.removeAllEventListeners()})}},{key:"_getDataByIndex",value:function(e){return this._levelsData.reduce(function(e,t){return e.concat(t)})[e]}},{key:"_onLevelClick",value:function(e){var n=this,t=this._levelButtons.indexOf(e.target);if(-1!=t){var r=u.DataManager.getLevelDataByIndex(t);console.log("MY LEVEL DATA",r),this._game.changeCurrentLevel(r);var i=l.ScreenManager.getScreenByKey("intermediary");new Promise(function(t){return a(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.Text=r.name,e.next=3,l.ScreenManager.setCurrentScreen(i,this._game.Stage);case 3:i.queueNextScreen("game",1e3),t();case 5:case"end":return e.stop()}},e,this)}))})}}},{key:"_onLevelHover",value:function(e){var t=this._levelButtons.indexOf(e.target);if(-1!=t){var n=this._getDataByIndex(t);null!=n&&n.unlocked&&(this.LevelText=n.name)}}},{key:"_onLevelUnhover",value:function(e){this.LevelText=""}},{key:"Container",get:function(){return this._container}},{key:"LevelText",set:function(e){if(""!=e){var t=s.Sprites.generateBitmapText(e,c.LoadManager.Spritesheets.TypographyWhite);t.scale=.6,this._levelTextContainer.removeAllChildren(),this._levelTextContainer.addChild(t),this._levelTextContainer.x=this._game.StageWidth/2-t.getBounds().width/2*.6,this._levelTextContainer.y=this._game.StageHeight-30}else this._levelTextContainer.removeAllChildren()}}]),o}();n.LevelSelectDisplay=i},{"../../managers/DataManager":8,"../../managers/LoadManager":9,"../../managers/ScreenManager":10,"../Sprites":17}],19:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Layout"),o=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._sprites={},this._container=new createjs.Container,this._layout=null!=e?new i.Layout(this._container,e.direction,e.alignment,e.crossAlignment,e.spacing):i.Layout.MAKE_VERTICAL_CENTER(this._container)}return r(t,[{key:"add",value:function(e,t){var n,r=this,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return null==this._sprites[e]&&(this._sprites[e]=t.clone(),i&&(n=this._layout).buildLayout.apply(n,[!0].concat(a(Object.keys(this._sprites).map(function(e){return r._sprites[e]})))),!0)}},{key:"addMany",value:function(t){var e,n=this;Object.keys(t).forEach(function(e){n.add(e,t[e],!1)}),(e=this._layout).buildLayout.apply(e,[!0].concat(a(Object.keys(this._sprites).map(function(e){return n._sprites[e]}))))}},{key:"changeLayout",value:function(e){this._layout=e}},{key:"checkoutSprites",value:function(){var e,t=this;(e=this._layout).buildLayout.apply(e,[!0].concat(a(Object.keys(this._sprites).map(function(e){return t._sprites[e]}))))}},{key:"Container",get:function(){return this._container}},{key:"Sprites",get:function(){return this._sprites}}],[{key:"LAYOUT_OPTIONS",get:function(){return{ColumnLeftTop:{direction:i.Layout.VERTICAL,alignment:i.Layout.START,crossAlignment:i.Layout.START,spacing:5},ColumnLeftCenter:{direction:i.Layout.VERTICAL,alignment:i.Layout.START,crossAlignment:i.Layout.CENTER,spacing:5},ColumnLeftBottom:{direction:i.Layout.VERTICAL,alignment:i.Layout.START,crossAlignment:i.Layout.END,spacing:5},ColumnCenterTop:{direction:i.Layout.VERTICAL,alignment:i.Layout.CENTER,crossAlignment:i.Layout.START,spacing:5},ColumnCenterCenter:{direction:i.Layout.VERTICAL,alignment:i.Layout.CENTER,crossAlignment:i.Layout.CENTER,spacing:5},ColumnCenterBottom:{direction:i.Layout.VERTICAL,alignment:i.Layout.CENTER,crossAlignment:i.Layout.END,spacing:5},ColumnRightTop:{direction:i.Layout.VERTICAL,alignment:i.Layout.END,crossAlignment:i.Layout.START,spacing:5},ColumnRightCenter:{direction:i.Layout.VERTICAL,alignment:i.Layout.END,crossAlignment:i.Layout.CENTER,spacing:5},ColumnRightBottom:{direction:i.Layout.VERTICAL,alignment:i.Layout.END,crossAlignment:i.Layout.END,spacing:5}}}}]),t}();n.Container=o},{"./Layout":20}],20:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var g=e("../../Game"),i=function(){function p(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:5;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),this._parent=e,this._items=[],this._direction=t,this._alignment=n,this._crossAlignment=r,this._spacing=i}return r(p,[{key:"buildLayout",value:function(){for(var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!(n.length<=0)&&(this._items=n,e&&this._parent.removeAllChildren(),this._direction==p.VERTICAL)){var i=0;switch(this._alignment){case p.START:for(var a=0;a<n.length;a++){var o=n[a];o.x=0,o.y=i,i+=o.getBounds().height+this._spacing,e&&this._parent.addChild(o)}break;case p.CENTER:for(var s=0;s<n.length;s++){var c=n[s];c.x=g.Game.WIDTH/2-c.getBounds().width/2,c.y=i,i+=c.getBounds().height+this._spacing,e&&this._parent.addChild(c)}break;case p.END:for(var u=0;u<n.length;u++){var l=n[u];l.x=g.Game.WIDTH-l.getBounds().width,l.y=i,i+=l.getBounds().height+this._spacing,e&&this._parent.addChild(l)}}switch(this._crossAlignment){case p.START:break;case p.CENTER:i+=n[n.length-1].getBounds().height;for(var h=0;h<n.length;h++){n[h].y+=g.Game.HEIGHT/2-i/2}break;case p.END:i+=n[n.length-1].getBounds().height;for(var _=0;_<n.length;_++){n[_].y+=g.Game.HEIGHT-i}}}}}],[{key:"MAKE_VERTICAL_CENTER",value:function(e){return new p(e,p.VERTICAL,p.CENTER,p.CENTER,5)}},{key:"MAKE_VERTICAL_START",value:function(e){return new p(e,p.VERTICAL,p.CENTER,p.START,5)}}]),p}();i.HORIZONTAL="horizontal",i.VERTICAL="vertical",i.START="start",i.END="end",i.CENTER="center",n.Layout=i},{"../../Game":2}],21:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Sprites"),i=function(){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this._useTimer=!1,this._useFishRemain=!0,this._useScore=!0,this._game=e,this._container=new createjs.Container,this._bg=new createjs.Shape,this._bg.graphics.beginFill("#000000"),this._bg.graphics.drawRect(0,0,this._game.StageWidth,40),this._bg.graphics.endFill(),this._bg.cache(0,0,this._game.StageWidth,40),this._container.addChild(this._bg),this._timerContainer=new createjs.Container,this._timerContainer.x+=10;var t=a.Sprites.Graphics.Timer.clone();this._timerContainer.addChild(t),this._timerTextContainer=new createjs.Container,this._timerTextContainer.y+=8,this._timerTextContainer.x+=a.Sprites.Graphics.Timer.getBounds().width+10,this._timerContainer.addChild(this._timerTextContainer),this._container.addChild(this._timerContainer),this._fishRemainContainer=new createjs.Container;var n=a.Sprites.Graphics.FishRemain.clone();this._fishRemainContainer.addChild(n),this._fishRemainTextContainer=new createjs.Container,this._fishRemainTextContainer.y+=8,this._fishRemainTextContainer.x+=a.Sprites.Graphics.FishRemain.getBounds().width+10,this._fishRemainContainer.addChild(this._fishRemainTextContainer),this._container.addChild(this._fishRemainContainer),this._scoreContainer=new createjs.Container,this._scoreContainer.x=this._game.StageWidth-a.Sprites.Graphics.Score.getBounds().width-40;var r=a.Sprites.Graphics.Score.clone();this._scoreContainer.addChild(r),this._scoreTextContainer=new createjs.Container,this._scoreTextContainer.y+=8,this._scoreTextContainer.x+=a.Sprites.Graphics.Score.getBounds().width+10,this._scoreContainer.addChild(this._scoreTextContainer),this._container.addChild(this._scoreContainer)}return r(i,[{key:"startHUD",value:function(e,t,n){this._useScore=e,this._useFishRemain=t,this._useTimer=n,console.log("SHOW ME THE SCORE, REMAIN, TIMER",e,t,n),this._useScore?this._container.addChild(this._scoreContainer):this._container.removeChild(this._scoreContainer),this._useFishRemain?this._container.addChild(this._fishRemainContainer):this._container.removeChild(this._fishRemainContainer),this._useTimer?this._container.addChild(this._timerContainer):this._container.removeChild(this._timerContainer)}},{key:"update",value:function(e){}},{key:"Container",get:function(){return this._container}}]),i}();n.GameScore=i},{"../Sprites":17}]},{},[7]);
//# sourceMappingURL=bundle.js.map
