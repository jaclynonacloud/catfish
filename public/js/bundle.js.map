{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/Functions.ts","src/Game.ts","src/ObjectPool.ts","src/entities/Cat.ts","src/entities/Entity.ts","src/entities/Fish.ts","src/main.ts","src/managers/DataManager.ts","src/managers/LoadManager.ts","src/managers/ScreenManager.ts","src/screens/EndScreen.ts","src/screens/GameScreen.ts","src/screens/IntermediaryScreen.ts","src/screens/MenuScreen.ts","src/screens/Screen.ts","src/screens/SplashScreen.ts","src/ui/Sprites.ts","src/ui/custom/LevelSelectDisplay.ts","src/ui/display/Container.ts","src/ui/display/Layout.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/* ************************************************* */\r\n/*                      LOGGING                      */\r\n/* ************************************************* */\r\nexport class Logging {\r\n    static success(message:string):void {\r\n        console.log(`%c ${message}`, 'color:seagreen; font-size:1.1em; font-weight:bold; border-left: solid 3px seagreen;')    ;\r\n    }\r\n\r\n    static message(message:string):void {\r\n        console.log(`%c ${message}`, 'color:#1E265C; font-size:1.1em; font-weight:bold; border-left: solid 3px #1E265C;');\r\n    }\r\n\r\n    static error(message:string):void {\r\n        console.log(`%c ${message}`, 'color:red; font-size:1.1em; border-left: solid 3px red;');\r\n    }\r\n}","import { LoadManager } from \"./managers/LoadManager\";\r\nimport { ScreenManager } from \"./managers/ScreenManager\";\r\nimport { SplashScreen } from \"./screens/SplashScreen\";\r\nimport { MenuScreen } from \"./screens/MenuScreen\";\r\nimport { GameScreen } from \"./screens/GameScreen\";\r\nimport { EndScreen } from \"./screens/EndScreen\";\r\nimport { Logging } from \"./Functions\";\r\nimport { Sprites } from \"./ui/Sprites\";\r\nimport { IntermediaryScreen } from \"./screens/IntermediaryScreen\";\r\nimport { DataManager } from \"./managers/DataManager\";\r\n\r\n\r\nexport class Game {\r\n    private _canvas:HTMLCanvasElement;\r\n    private _stage:createjs.StageGL;\r\n    private _scaling:number;\r\n\r\n    private _lastGameTime:number;\r\n\r\n    constructor(canvasDiv:HTMLCanvasElement) {\r\n\r\n        this._canvas = canvasDiv;\r\n        this._canvas.width = Game.WIDTH;\r\n        this._canvas.height = Game.HEIGHT;\r\n\r\n        this._lastGameTime = -1;\r\n\r\n        //set the scaling\r\n        this._scaling = Game.HEIGHT / 1366;\r\n\r\n        //start loading game assets\r\n        new Promise(async(res, rej) => {\r\n            //create the stage\r\n            console.log(\"Readying stage!\");\r\n            this._stage = new createjs.StageGL(this._canvas, { antialias: true });\r\n            (this._stage as any).setClearColor(\"#000000\");\r\n            this._stage.enableMouseOver(10);\r\n            this._stage.update();\r\n\r\n            console.log(this._stage, this._canvas);\r\n\r\n            //listen to asset updates\r\n            (this._stage as any).addEventListener(LoadManager.ASSETS_UPDATED, (e) => {\r\n                console.log(LoadManager.Percentage);\r\n            });\r\n            //load assets\r\n            await LoadManager.loadAssets(\"assets/manifest.json\", this._stage)\r\n                .catch(err => {\r\n                    console.warn(\"Error loading assets:\", err);\r\n                });\r\n\r\n            Logging.success(\"Assets Loaded Successfully!\");\r\n\r\n            //load level data\r\n            await DataManager.loadWorldsData(\"assets/data/levels.json\")\r\n                .catch(err => {\r\n                    Logging.error(err);\r\n                    return;\r\n                });\r\n\r\n            Logging.success(\"Level Data Loaded Successfully!\");\r\n\r\n            //setup createjs.Sprites\r\n            await Sprites.setup();\r\n\r\n            //build the screens\r\n            ScreenManager.registerScreen(\"splash\", new SplashScreen());\r\n            ScreenManager.registerScreen(\"menu\", new MenuScreen(this));\r\n            ScreenManager.registerScreen(\"game\", new GameScreen(this));\r\n            ScreenManager.registerScreen(\"end\", new EndScreen());\r\n            ScreenManager.registerScreen(\"intermediary\", new IntermediaryScreen(this));\r\n\r\n            \r\n\r\n            \r\n            //set the current screen\r\n            //game test, load desired level patch -- if autoloading to game screen\r\n            (ScreenManager.getScreenByKey(\"game\") as GameScreen).LevelData = DataManager.getLevelDataByIndex(1);\r\n\r\n            ScreenManager.setCurrentScreen(\"game\", this._stage);\r\n\r\n            //setup the game loop\r\n            createjs.Ticker.framerate = Game.FRAME_RATE;\r\n            createjs.Ticker.on(\"tick\", this.update, this);\r\n\r\n        });\r\n    }\r\n\r\n\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    public update(e:any) {\r\n\r\n        const gameTime = (this._lastGameTime != -1) ? createjs.Ticker.getMeasuredFPS() - this._lastGameTime : 1;\r\n        this._lastGameTime = createjs.Ticker.getMeasuredFPS();\r\n\r\n        //update the screen\r\n        if(ScreenManager.CurrentScreen != null) ScreenManager.CurrentScreen.update(gameTime);\r\n\r\n        //update the stage\r\n        this._stage.update();\r\n    }\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get FRAME_RATE() { return 30; }\r\n    public static get WIDTH() { return document.body.clientHeight * 0.48; } //desired size\r\n    public static get HEIGHT() { return document.body.clientHeight; }\r\n\r\n    public get StageWidth() { return this._canvas.width; } //actual size\r\n    public get StageHeight() { return this._canvas.height; }\r\n\r\n    public get Stage() { return this._stage; }\r\n    public get Scaling() { return this._scaling; }\r\n\r\n\r\n\r\n\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n\r\n\r\n}","import { Logging } from \"./Functions\";\r\nimport { Entity } from \"./entities/Entity\";\r\n\r\nexport interface IPoolObject {\r\n    type:string;\r\n    obj:Entity,\r\n    active:boolean;\r\n}\r\n\r\nexport class ObjectPool {\r\n    private static _pool:IPoolObject[];\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /**Creates a pool object. */\r\n    public static createPoolObject(obj:Entity, type:string) {\r\n        const poolObj = {\r\n            type,\r\n            obj,\r\n            active: false\r\n        };\r\n        ObjectPool.Pool.push(poolObj);\r\n        return poolObj;\r\n    }\r\n\r\n    /**Checks out a pool object.  Use POOL global function to access. */\r\n    public static checkout(type:string) {\r\n        const poolObj = ObjectPool._getObjectByType(type);\r\n        if(poolObj != null) {\r\n            poolObj.active = true;\r\n            return poolObj.obj;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**Returns an object to the pool. */\r\n    public static return(obj:Entity) {\r\n        const poolObj = ObjectPool._getObjectByObj(obj);\r\n        if(poolObj != null) {\r\n            poolObj.active = false;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    public static _getObjectByType(type) {\r\n        const poolObj = ObjectPool._pool.find((o => o.type == type && !o.active));\r\n        if(poolObj == null) Logging.error(\"Object not found in pool, or pool is exhausted.  Return some objects.\");\r\n        return poolObj\r\n    }\r\n    public static _getObjectByObj(obj) {\r\n        return ObjectPool._pool.find((o => o.obj == obj));\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get Pool() { \r\n        if(ObjectPool._pool == null) ObjectPool._pool = [];\r\n        return ObjectPool._pool;\r\n    }\r\n}","import { Game } from \"../Game\";\r\nimport { Entity } from \"./Entity\";\r\nimport { LoadManager } from \"../managers/LoadManager\";\r\nimport { IEnableable } from \"../Interfaces\";\r\nimport { Logging } from \"../Functions\";\r\nimport { GameScreen } from \"../screens/GameScreen\";\r\nimport { Fish } from \"./Fish\";\r\n\r\nexport class Cat extends Entity implements IEnableable {\r\n    private _speed:number;\r\n    private _fishCaughtMultiplier:number; //this will be the rate at which the cat slows down when rising per fish\r\n\r\n    private _catYTween:createjs.Tween;\r\n    private _caughtFish:Fish[];\r\n\r\n    private _isGrabbing:boolean;\r\n    private _isRising:boolean;\r\n    private _hasReachedSurface:boolean;\r\n\r\n    constructor(gameScreen:GameScreen) {\r\n        super(gameScreen, LoadManager.Spritesheets.Cat_Spritesheet);\r\n        this._speed = 3;\r\n        this._fishCaughtMultiplier = 0.05;\r\n\r\n        this._caughtFish = [];\r\n        this._isGrabbing = false;\r\n        this._isRising = false;\r\n        this._hasReachedSurface = true;\r\n\r\n        this._sprite.gotoAndPlay(Cat.ANIMATION.Idle);\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    enable() {\r\n\r\n    }\r\n\r\n    disable() {\r\n\r\n    }\r\n\r\n\r\n    /***************/\r\n    /*   ACTIONS   */\r\n    /***************/\r\n    public grab() {\r\n        //cannot grab if we are not at surface\r\n        if(!this._hasReachedSurface) return;\r\n\r\n        this._isGrabbing = true;\r\n        this._hasReachedSurface = false;\r\n\r\n        //move to x position\r\n        this.X = this.GameScreen.Game.Stage.mouseX;\r\n\r\n\r\n        console.log(\"START SPEED:\", this.Speed);\r\n\r\n        //grab to y position\r\n        const speed = (this.GameScreen.Game.Stage.mouseY / 2) * this.Speed;\r\n        this._catYTween = createjs.Tween\r\n            .get(this._sprite)\r\n            .to({ y:this.GameScreen.Game.Stage.mouseY }, speed, createjs.Ease.circIn)\r\n            .call(() => {\r\n                //once the grab is done, turn off flag\r\n                this._isGrabbing = false;\r\n\r\n                 //play animations\r\n                this._sprite.gotoAndPlay(Cat.ANIMATION.Grab);\r\n                //listen for animation to finish\r\n                (this._sprite as any).on(\"animationend\", () => {\r\n                    this._sprite.gotoAndPlay(Cat.ANIMATION.Hold);\r\n                }, true);\r\n\r\n                //try to grab a fish\r\n                const fishes = this.GameScreen.tryToGrabFishes(this.X , this.Y);\r\n                //see if a fish was grabbed\r\n                if(fishes.length > 0) this.caught(fishes);\r\n                else this.returnToSurface();\r\n            });\r\n\r\n    }\r\n\r\n    /**\r\n     * Called to return cat to surface.\r\n     */\r\n    public returnToSurface() {\r\n        this._sprite.gotoAndPlay(Cat.ANIMATION.Idle);\r\n\r\n        //remove any lingering tweens\r\n        createjs.Tween.removeTweens(this._sprite);\r\n        const speed = (this.Y / 2) * this.Speed;\r\n        this._catYTween = createjs.Tween.get(this._sprite)\r\n            .wait(150)\r\n            .to({y:20}, speed, createjs.Ease.linear)\r\n            .call(() => {\r\n                //once the surface has been reached, allow x movement again\r\n                this.reachSurface();\r\n            });\r\n    }\r\n\r\n    public caught(fishes:Fish[]) {\r\n        console.log(\"I CAUGHT\");\r\n        if(fishes.length <= 0) return;\r\n        this._isRising = true;  \r\n        \r\n        let hasNewFish = false;\r\n\r\n        fishes.forEach(f => {\r\n            if(this._caughtFish.indexOf(f) != -1) return;\r\n            hasNewFish = true;\r\n            //grab the fish\r\n            f.catch();\r\n\r\n            //add fish to caught array\r\n            this._caughtFish.push(f);\r\n\r\n            //control the fish\r\n            f.Y = this.Y;\r\n        });\r\n        \r\n        console.log(\"I WAS CAUGHT, NOW RISING\");\r\n        console.log(\"FISH CAUGHT SPEED:\", this.Speed);\r\n\r\n        if(!hasNewFish) return;\r\n        \r\n        //if we grabbed a fish...\r\n        //go back up... slowly\r\n        createjs.Tween.removeTweens(this._sprite);\r\n        const speed = this.Y * this.Speed;\r\n        this._catYTween = createjs.Tween.get(this._sprite)\r\n            .wait(250)\r\n            .to({y:-20}, speed, createjs.Ease.linear)\r\n            .call(() => {\r\n                //once the surface has been reached, allow x movement again\r\n                this.reachSurface();\r\n                this._isRising = false;\r\n            });\r\n\r\n    }\r\n    public drop() {\r\n        //release the fish\r\n        // this._caughtFish.dropped();\r\n        this._caughtFish = [];\r\n        //return quickly\r\n        this.returnToSurface();\r\n    }\r\n\r\n    /**Called when hit by an enemy. */\r\n    public injure(enemy) {\r\n        //start hurt animation\r\n        //end any current tweening\r\n        createjs.Tween.removeTweens(this._sprite);\r\n        this._sprite.gotoAndPlay(Cat.ANIMATION.Ow);\r\n        this._catYTween = createjs.Tween.get(this._sprite)\r\n            .wait(30)\r\n            .to({y:20}, 1000, createjs.Ease.linear)\r\n            .call(() => {\r\n                //once the surface has been reached, allow x movement again\r\n                this.reachSurface();\r\n                this._sprite.gotoAndPlay(Cat.ANIMATION.Idle);\r\n            });\r\n    }\r\n\r\n    public reachSurface() {\r\n        //if we have a fish, send to main logic\r\n        if(this._caughtFish != null) {\r\n            this._caughtFish.forEach(f => {\r\n                this.GameScreen.collectFish(f);\r\n            });\r\n            this._caughtFish = [];\r\n        }\r\n\r\n        this._hasReachedSurface = true;\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    update(gameTime:number) {\r\n        super.update(gameTime);\r\n\r\n\r\n        //if we are rising, attempt to catch more fish\r\n        if(this._isRising) {\r\n            console.log(\"TRY TO GRAB\");\r\n            //try to grab a fish\r\n            const fishes = this.GameScreen.tryToGrabFishes(this.X , this.Y);\r\n            //see if a fish was grabbed\r\n            if(fishes.length > 0)\r\n                this.caught(fishes);\r\n        }\r\n\r\n        //drag fish with us if we have any\r\n        if(this._caughtFish != null) {\r\n            this._caughtFish.forEach(f => {\r\n                f.Y = this.Y - 20;\r\n            });\r\n        }\r\n    }\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get GRAB_RANGE() { return 120; }\r\n    public static get ANIMATION() {\r\n        return Object.freeze({\r\n            \"Idle\" : \"cat_idle\",\r\n            \"Death\" : \"cat_death\",\r\n            \"Grab\" : \"cat_grab\",\r\n            \"Hold\" : \"cat_grab_hold\",\r\n            \"Ow\" : \"cat_ow\"\r\n        });\r\n    }\r\n    public get Speed() { \r\n        const caughtFishMult = ((this._caughtFish.length > 0) ? 1 + (this._caughtFish.length + this._fishCaughtMultiplier) : 1);\r\n        console.log(caughtFishMult);\r\n\r\n        return caughtFishMult * this._speed;\r\n    }\r\n    public set Speed(value:number) { this._speed = value; }\r\n}","import { ICreateable, IUpdateable } from \"../Interfaces\";\r\nimport { GameScreen } from \"../screens/GameScreen\";\r\nimport { Game } from \"../Game\";\r\n\r\nexport class Entity implements ICreateable<Entity>, IUpdateable {\r\n    private _gameScreen:GameScreen;\r\n    protected _name:string;\r\n    protected _sprite:createjs.Sprite;\r\n    protected _direction:{ x:number, y:number };\r\n    private _scaling:number;\r\n\r\n    private _isIgnoringCollision:boolean;\r\n    private _ignoreCollisionTimer:number;\r\n\r\n    constructor(gameScreen:GameScreen, spritesheet:createjs.SpriteSheet) {\r\n        this._gameScreen = gameScreen;\r\n        this._sprite = new createjs.Sprite(spritesheet);\r\n        this._direction = { x:1, y:1 };\r\n\r\n        this._isIgnoringCollision = false;\r\n        this._ignoreCollisionTimer = 0;\r\n\r\n        //get the game scale\r\n        this._scaling = this._gameScreen.Game.Scaling;\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    public create(container:createjs.Container):Entity {\r\n        (this._sprite as any).scale = this._scaling;\r\n        //move to main container\r\n        if(container == null)\r\n            this._gameScreen.Game.Stage.addChild(this._sprite);\r\n        else\r\n            container.addChild(this._sprite);\r\n        return this;\r\n    }\r\n\r\n    public destroy():Entity {\r\n        if(this._sprite == null || this._sprite.parent == null) return null;\r\n\r\n        //remove from main container\r\n        this._sprite.parent.removeChild(this._sprite);\r\n\r\n        return this;\r\n    }\r\n\r\n    public update(gameTime:number) {\r\n\r\n         //listen for collision ignore\r\n        if(this._isIgnoringCollision) {\r\n            this._ignoreCollisionTimer++;\r\n\r\n            if(this._ignoreCollisionTimer > Entity.IGNORE_COLLISION)\r\n                this._isIgnoringCollision = false;\r\n        }\r\n    }\r\n\r\n    protected startIgnoreCollision() {\r\n        this._isIgnoringCollision = true\r\n    }\r\n\r\n    protected testStageBounds(artificialReg:{x:number, y:number} = null) {\r\n        let reg = { x:this._sprite.regX, y:this._sprite.regY };\r\n        if(artificialReg != null) {\r\n            reg = {\r\n                x: (this._direction.x > 0) ? this.Bounds.Width * artificialReg.x : (this.Bounds.Width * (1 - artificialReg.x)),\r\n                y: (this._direction.y > 0) ? this.Bounds.Height * artificialReg.y : (this.Bounds.Height * (1 - artificialReg.y))\r\n            }\r\n        }\r\n        // const bounds = { width:this._game.StageWidth, height: this._game.StageHeight };\r\n        const bounds = { width:this._gameScreen.Game.StageWidth, height: this._gameScreen.Game.StageHeight };\r\n        const extents = {   \r\n            x:(this._direction.x > 0) ? (this.Bounds.Width - reg.x) : -reg.x, \r\n            y:(this._direction.y > 0) ? (this.Bounds.Height - reg.y) : -reg.y \r\n        };\r\n\r\n        //test walls\r\n        if((this.X + extents.x) > bounds.width) return Entity.HIT.Right;\r\n        else if(this.X + extents.x < 0) return Entity.HIT.Left;\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get IGNORE_COLLISION() { return 20; }\r\n    public static get HIT() { return Object.freeze({Top:0, Right:1, Bottom:2, Left:3}); }\r\n\r\n    protected get GameScreen() { return this._gameScreen; }\r\n\r\n    public get Sprite() { return this._sprite; }\r\n    public get Parent() { return this._sprite.parent; }\r\n\r\n    public get X() { return this._sprite.x; }\r\n    public set X(value) { this._sprite.x = value; }\r\n    public get Y() { return this._sprite.y; }\r\n    public set Y(value) { this._sprite.y = value; }\r\n\r\n    public set DirectionX(value) { \r\n        const lastX = this._direction.x;\r\n        this._direction.x = value; \r\n        //flip sprite if our direction has changed\r\n        if(this._direction.x != lastX) this._sprite.scaleX *= -1;\r\n    }\r\n\r\n    public get Bounds() { \r\n        let bounds = this._sprite.getBounds();\r\n        return  { Width:bounds.width, Height:bounds.height };\r\n    }\r\n\r\n    public get IsIgnoringCollision() { return this._isIgnoringCollision; }\r\n}","import { Game } from \"../Game\";\r\nimport { Entity } from \"./Entity\";\r\nimport { LoadManager } from \"../managers/LoadManager\";\r\nimport { IEnableable } from \"../Interfaces\";\r\nimport { Logging } from \"../Functions\";\r\nimport { GameScreen } from \"../screens/GameScreen\";\r\n\r\nexport class Fish extends Entity implements IEnableable {\r\n    private _speed:number;\r\n    private _naturalY:number;\r\n\r\n    private _isCaught:boolean;\r\n\r\n    constructor(gameScreen:GameScreen) {\r\n        super(gameScreen, LoadManager.Spritesheets.Fish_Spritesheet);\r\n        this._speed = 1;\r\n\r\n        this._isCaught = false;\r\n\r\n        this._sprite.gotoAndPlay(Fish.ANIMATION.Slow);\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    \r\n\r\n\r\n    /***************/\r\n    /*   ACTIONS   */\r\n    /***************/\r\n    public setNaturalY() {\r\n        this._naturalY = this.Y;\r\n    }\r\n\r\n    public catch() {\r\n        if(this._isCaught) return;\r\n        \r\n        Logging.message(\"Fish was grabbed!\");\r\n        this._isCaught = true;\r\n\r\n        this._sprite.gotoAndPlay(Fish.ANIMATION.Panic);\r\n    }\r\n\r\n\r\n    /**Test to see if global position hits sprite. */\r\n    public testHit(x:number, y:number):boolean {\r\n        return this._sprite.hitTest(x, y);\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    destroy() {\r\n        this.disable();\r\n        return super.destroy();\r\n    }\r\n\r\n    update(gameTime:number) {\r\n        super.update(gameTime);\r\n\r\n        //move the fishy\r\n        if(!this._isCaught)\r\n            this.X += this._speed * gameTime * this._direction.x;\r\n\r\n        //test collision\r\n        if(!this.IsIgnoringCollision) {\r\n\r\n            //if fish hits the edge, flip direction\r\n            const hit = this.testStageBounds({x:0.5, y:0.5});\r\n            switch(hit) {\r\n                case Entity.HIT.Right:\r\n                    this._direction.x *= -1;\r\n                    this._sprite.scaleX *= -1;\r\n                    this.startIgnoreCollision();\r\n                    this.X -= 5 - this.Bounds.Width;\r\n                    break;\r\n                case Entity.HIT.Left:\r\n                    this._direction.x *= -1;\r\n                    this._sprite.scaleX *= -1;\r\n                    this.startIgnoreCollision();\r\n                    this.X += 5 - this.Bounds.Width;\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    enable() {\r\n\r\n    }\r\n\r\n    disable() {\r\n\r\n    }\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get ANIMATION() {\r\n        return Object.freeze({\r\n            \"Slow\" : \"fish_swim_slow\",\r\n            \"Fast\" : \"fish_swim_fast\",\r\n            \"Panic\" : \"fish_swim_panic\"\r\n        });\r\n    }\r\n    public get Speed() { return this._speed; }\r\n    public set Speed(value:number) { this._speed = value; }\r\n}","import { Game } from \"./Game\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    const game = new Game(document.getElementById(\"game-canvas\") as HTMLCanvasElement);\r\n});","import { Screen } from \"../screens/Screen\";\r\n\r\nexport interface WorldsData {\r\n    worlds:LevelData[];\r\n}\r\n\r\nexport interface LevelData {\r\n    name:string;\r\n    data:any[];\r\n}\r\n\r\nexport class DataManager {\r\n    private static _worldsData:WorldsData;\r\n\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /**Loads in the worlds data! */\r\n    public static loadWorldsData(fileLocation:string) {\r\n        return new Promise<WorldsData>(async(res, rej) => {\r\n            await fetch(fileLocation)\r\n                .then(blob => blob.json())\r\n                .then(json => {\r\n                    this._worldsData = json;\r\n                    res(this._worldsData);\r\n                })\r\n                .catch(err => {\r\n                    rej(\"Could not load world data! \" + err);\r\n                });\r\n        });\r\n    }\r\n\r\n    /**Returns the level data received by the given index. */\r\n    public static getLevelDataByIndex(index:number) {\r\n        //flatten level data, and get data\r\n        let flatten = [].concat.apply([], DataManager._worldsData.worlds);\r\n        return flatten[index];\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get WorldsData():WorldsData { return DataManager._worldsData; }\r\n}","export class LoadManager {\r\n    public static get ASSETS_LOADED():string { return \"onAssetsLoaded\"; }\r\n    public static get ASSETS_FAILED():string { return \"onAssetsFailed\"; }\r\n    public static get ASSETS_UPDATED():string { return \"onAssetsUpdated\"; }\r\n\r\n    public static Spritesheets:{ [key:string]:createjs.SpriteSheet } = {};\r\n    public static Images:{ [key:string]:createjs.Bitmap } = {};\r\n\r\n    private static _stage:createjs.StageGL;\r\n    private static _preloadManager:createjs.LoadQueue;\r\n    private static _sheetsTotal:number = 0;\r\n    private static _sheetsLoaded:number = 0;\r\n\r\n    private static _percentage:number = 0;\r\n    private static _totalAssetsLoaded:number = 0;\r\n    private static _totalAssets:number = 0;\r\n\r\n    private static AssetsLoadedEvent:any = new (createjs as any).Event(LoadManager.ASSETS_LOADED, false, true);\r\n    private static AssetsFailedEvent:any = new (createjs as any).Event(LoadManager.ASSETS_FAILED, false, true);\r\n    private static AssetsUpdatedEvent:any = new (createjs as any).Event(LoadManager.ASSETS_UPDATED, false, true);\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    public static reset() {\r\n        LoadManager._sheetsTotal = 0;\r\n        LoadManager._sheetsLoaded = 0;\r\n\r\n        LoadManager._percentage = 0;\r\n        LoadManager._totalAssetsLoaded = 0;\r\n        LoadManager._totalAssets = 0;\r\n    }\r\n\r\n    public static loadAssets(src:string, stage:createjs.StageGL) {\r\n        LoadManager.reset();\r\n        LoadManager._stage = stage;\r\n\r\n        return new Promise(async(res, rej) => {\r\n            LoadManager._preloadManager = new createjs.LoadQueue();\r\n\r\n            //setup sound controllers\r\n            createjs.Sound.registerPlugins([createjs.WebAudioPlugin, createjs.HTMLAudioPlugin, createjs.FlashAudioPlugin]);\r\n            createjs.Sound.alternateExtensions = [\"mp3\",\"wav\"];\r\n            LoadManager._preloadManager.installPlugin(createjs.Sound);\r\n\r\n            //setup listeners\r\n            (LoadManager._preloadManager as any).on(\"fileload\", LoadManager._onLoaded, LoadManager);\r\n            (LoadManager._preloadManager as any).on(\"complete\", LoadManager._onComplete, LoadManager);\r\n            (LoadManager._preloadManager as any).on(\"error\", LoadManager._onError, LoadManager);\r\n\r\n            //get the manifest\r\n            fetch(src)\r\n                .then(blob => blob.json())\r\n                .then(data => {\r\n                    //load the manifest\r\n                    LoadManager._preloadManager.setMaxConnections(1);\r\n                    LoadManager._preloadManager.loadManifest(data);\r\n\r\n                    (LoadManager._stage as any).addEventListener(LoadManager.ASSETS_LOADED, () => {\r\n                        res();\r\n                    });\r\n                })\r\n                .catch(() => {\r\n                    LoadManager.emitErrorEvent();\r\n                    rej(\"Could not load assets!\");\r\n                });\r\n\r\n\r\n        });\r\n\r\n    }\r\n\r\n\r\n    public static emitLoadedEvent() {\r\n        if(LoadManager._stage != null) (LoadManager._stage as any).dispatchEvent(LoadManager.AssetsLoadedEvent);\r\n    }\r\n    public static emitErrorEvent() {\r\n        if(LoadManager._stage != null) (LoadManager._stage as any).dispatchEvent(LoadManager.AssetsFailedEvent);\r\n    }\r\n    public static emitUpdatedEvent() {\r\n        LoadManager._percentage = parseFloat((LoadManager._preloadManager.getItems(true).length / LoadManager._preloadManager.getItems(false).length).toFixed(2));\r\n        if(LoadManager._stage != null) (LoadManager._stage as any).dispatchEvent(LoadManager.AssetsUpdatedEvent);\r\n    }\r\n\r\n\r\n    private static _loadedSheet(name:string, sheet:createjs.SpriteSheet) {\r\n        LoadManager.Spritesheets[name] = sheet;\r\n\r\n        LoadManager._sheetsLoaded++;\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    private static _onLoaded(e) {\r\n\r\n        console.log(\"asset loaded: \" + e.item.src + \" type: \" + e.item.type);\r\n\r\n        switch(e.item.type) {\r\n            case (createjs as any).Types.JAVASCRIPT: {\r\n                //load the spritesheet\r\n                LoadManager._sheetsTotal++;\r\n                \r\n                const sheet = (window[e.item.id] as any)._SpriteSheet;\r\n\r\n                // listen for spritesheet to load\r\n                if(!sheet.complete) {\r\n                    sheet.on(\"complete\", (ev:any) => {\r\n                        LoadManager._loadedSheet(e.item.id, sheet);\r\n                        ev.remove();\r\n                    })\r\n                }\r\n                else LoadManager._loadedSheet(e.item.id, sheet);\r\n                break\r\n            }\r\n            case (createjs as any).Types.IMAGE: {\r\n                //build the bitmap\r\n                LoadManager.Images[e.item.id] = new createjs.Bitmap(e.item.src);\r\n            }\r\n        }\r\n\r\n\r\n\r\n        //update event\r\n        LoadManager.emitUpdatedEvent();\r\n    }\r\n\r\n    private static _onComplete(e) {\r\n        //remove all preLoadManager events\r\n        (LoadManager._preloadManager as any).removeAllEventListeners();\r\n        \r\n        //make sure all spritesheets are loaded\r\n        if(LoadManager._sheetsLoaded < LoadManager._sheetsTotal) {\r\n            const loadInterval = setInterval((ev:any) => {\r\n                //see if they are loaded\r\n                if(LoadManager._sheetsLoaded >= LoadManager._sheetsTotal) {\r\n                    e.remove();\r\n                    // window.clearInterval(loadInterval);\r\n                    LoadManager.emitLoadedEvent();\r\n                }\r\n            }, 100)\r\n        }\r\n        else LoadManager.emitLoadedEvent();\r\n    }\r\n\r\n    private static _onError(e) {\r\n        LoadManager.emitErrorEvent();\r\n    }\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get Percentage():number { return LoadManager._percentage; }\r\n    \r\n\r\n\r\n\r\n}","import { Screen } from \"../screens/Screen\";\r\n\r\nexport class ScreenManager {\r\n    private static _screensLookup:{ [key:string]:Screen } = { };\r\n    private static _currentScreen:Screen = null;\r\n\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /**Registers a screen into the Screen Manager.  Uses a key to associate it. */\r\n    public static registerScreen(key:string, screen:Screen):void {\r\n        //if we don't have this screen, add it\r\n        if(ScreenManager._screensLookup[key] == null)\r\n            ScreenManager._screensLookup[key] = screen;\r\n    }\r\n\r\n    /**Unregisters a screen from the Screen Manager. */\r\n    public static unregisterScreen(key:string):boolean {\r\n        if(ScreenManager._screensLookup[key] == null) return false;\r\n\r\n        ScreenManager._screensLookup[key] = null;\r\n        delete ScreenManager._screensLookup[key];\r\n        return true;\r\n    }\r\n\r\n    /**Sets the current screen.  Can be done with the screen itself or an associative key. */\r\n    public static setCurrentScreen(screen:string | Screen, stage:createjs.StageGL):Promise<void> {\r\n        let tempScreen = null;\r\n        if(screen instanceof Screen) tempScreen = screen;\r\n        else tempScreen = ScreenManager._screensLookup[screen];\r\n\r\n        //if we did not find a screen, do not follow through\r\n        if(tempScreen == null) return Promise.resolve();\r\n\r\n        let promises = [];\r\n        //if we have a previous screen, wait for it to fade out\r\n        if(ScreenManager._currentScreen != null)\r\n        promises.push(\r\n            new Promise(async(res) => {\r\n                //fade out\r\n                createjs.Tween\r\n                    .get(ScreenManager._currentScreen.Container)\r\n                    .to({ alpha:0 }, 500, createjs.Ease.linear)\r\n                    .call(() => {\r\n                        ScreenManager._currentScreen.destroy();\r\n                        res();\r\n                    });\r\n            })\r\n        );\r\n\r\n\r\n        //wait for certain actions to finish\r\n        return new Promise(async(res) => {\r\n            //wait for promises to finish\r\n            await Promise.all(promises);\r\n\r\n            //now add in the new one\r\n            const lastScreen = Screen._cur\r\n            ScreenManager._currentScreen = tempScreen;\r\n            ScreenManager._currentScreen.create(stage);\r\n            ScreenManager._currentScreen.Container.alpha = 0;\r\n            ScreenManager._currentScreen.disable(); //disable until ready\r\n            console.log(\"FADE IN\")\r\n            //fade in\r\n            createjs.Tween\r\n                .get(ScreenManager._currentScreen.Container)\r\n                .to({ alpha:1 }, 1200, createjs.Ease.linear)\r\n                .call(() => {\r\n                    console.log(\"DONE\");\r\n                    ScreenManager._currentScreen.enable();\r\n                    res();\r\n                });\r\n\r\n        });\r\n    }\r\n\r\n    public static getScreenByKey(key:string):Screen {\r\n        return ScreenManager._screensLookup[key];\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get AllScreens() { return ScreenManager._screensLookup; }\r\n    public static get CurrentScreen() { return ScreenManager._currentScreen; }\r\n}","import { Screen } from \"./Screen\";\r\nimport { ScreenManager } from \"../managers/ScreenManager\";\r\nimport { Container } from \"../ui/display/Container\";\r\nimport { Sprites } from \"../ui/Sprites\";\r\nimport { LoadManager } from \"../managers/LoadManager\";\r\n\r\nexport class EndScreen extends Screen {\r\n    private _splash:createjs.Shape;\r\n    private _mainContainer:Container;\r\n    \r\n    constructor() {\r\n        super();\r\n\r\n        //setup main container\r\n        this._mainContainer = new Container();\r\n        this._mainContainer.addMany({\r\n            txtScoreStatic : Sprites.generateBitmapText(\"Score\", LoadManager.Spritesheets.Typography),\r\n            txtScore : Sprites.generateBitmapText(\"0\", LoadManager.Spritesheets.Typography),\r\n            logo : Sprites.Backgrounds.Logo,\r\n            btnMainMenu : Sprites.Buttons.NewGame,\r\n            btnNext : Sprites.Buttons.Options,\r\n        });\r\n        \r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    create(stage:createjs.StageGL):Screen {\r\n        \r\n        //set the score\r\n        this._mainContainer.Sprites['txtScore'] = Sprites.generateBitmapText(\"9999\", LoadManager.Spritesheets.Typography);\r\n        \r\n        //add in the containers\r\n        this._mainContainer.checkoutSprites();\r\n        this._container.addChild(this._mainContainer.Container);\r\n        \r\n        //for testing\r\n        (this._container as any).on(\"click\", (e) => {\r\n            ScreenManager.setCurrentScreen(\"menu\", stage);\r\n        }, this, true);\r\n        \r\n\r\n        return super.create(stage);\r\n    }\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n}","import { Screen } from \"./Screen\";\r\nimport { ScreenManager } from \"../managers/ScreenManager\";\r\nimport { ObjectPool } from \"../ObjectPool\";\r\nimport { Fish } from \"../entities/Fish\";\r\nimport { Cat } from \"../entities/Cat\";\r\nimport { Game } from \"../Game\";\r\nimport { Container } from \"../ui/display/Container\";\r\nimport { Sprites } from \"../ui/Sprites\";\r\nimport { Logging } from \"../Functions\";\r\nimport { LevelData } from \"../managers/DataManager\";\r\nimport { LoadManager } from \"../managers/LoadManager\";\r\n\r\nexport class GameScreen extends Screen {\r\n    private _game:Game;\r\n    private _levelData:LevelData;\r\n\r\n    //create containers\r\n    private _staticContainer:Container;\r\n    private _fishContainer:createjs.Container;\r\n\r\n    private _winContainer:createjs.Container;\r\n    private _winBanner:createjs.Shape;\r\n    private _winText:createjs.BitmapText;\r\n\r\n    private _cat:Cat;\r\n    private _fishes:Fish[];\r\n    \r\n    private _remainingFish:number;\r\n    \r\n    constructor(game:Game) {\r\n        super();\r\n        this._game = game;\r\n        this._fishes = [];\r\n        this._remainingFish = -1;\r\n        this._levelData = null;\r\n\r\n        //create object pool\r\n        ObjectPool.createPoolObject(new Cat(this), POOL.CAT)\r\n        for(let i = 0; i < 120; i++) {\r\n            ObjectPool.createPoolObject(new Fish(this), POOL.FISH);\r\n        }\r\n        // for(let i = 0; i < 30; i++) {\r\n        //     ObjectPool.createPoolObject(new Puffer(this._game), POOL.PUFFERFISH)\r\n        // }\r\n\r\n\r\n        //pool out static kitty\r\n        this._cat = (ObjectPool.checkout(POOL.CAT) as Cat);\r\n\r\n        //create containers\r\n        this._staticContainer = new Container();\r\n        this._staticContainer.addMany({\r\n            bg : Sprites.Backgrounds.BG\r\n        });\r\n\r\n        this._fishContainer = new createjs.Container();\r\n\r\n        this._winContainer = new createjs.Container();\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n\r\n    /**Attempts to grab a fish.  Returns any fish that are touching the global position. */\r\n    public tryToGrabFishes(x:number, y:number):Fish[] {\r\n        let fishes = [];\r\n\r\n        //see if any fish is grabbable at these coords and return if so\r\n        //for each fish, test the distance and return if close\r\n        for(let i = 0; i < this._fishes.length; i++) {\r\n            const fish = this._fishes[i];\r\n\r\n            const localPos = fish.Sprite.globalToLocal(x, y);\r\n            const hitFish = fish.testHit(localPos.x, localPos.y);\r\n\r\n            if(hitFish) {\r\n                fishes.push(fish);\r\n            }\r\n        }\r\n        //if no fish was caught, return null\r\n        return fishes;\r\n    }\r\n\r\n    public collectFish(fish:Fish) {\r\n        //get fish\r\n        Logging.success(\"GOT FISH!\");\r\n\r\n        const killedFish = fish.destroy();\r\n\r\n        //decrement fish counter -- make sure we didn't make an error\r\n        if(killedFish != null) {\r\n            this._remainingFish--;\r\n\r\n            //if all our fish are gone, end the game!\r\n            if(this._remainingFish <= 0) {\r\n                //win game!\r\n                Logging.success(\"GAME IS OVER!\");\r\n                this.win();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public win() {\r\n        this.disable();\r\n        //show win banner\r\n        createjs.Tween.get(this._winContainer)\r\n            .to({y:this._game.StageHeight / 2 - 25}, 600, createjs.Ease.elasticOut)\r\n            .wait(2000)\r\n            .call(() => {\r\n                //transition to end screen\r\n                ScreenManager.setCurrentScreen(\"end\", this._game.Stage);\r\n                // ScreenManager.setCurrentScreen(\"menu\", this._game.Stage);\r\n            });\r\n    }\r\n\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    public create(stage:createjs.StageGL):Screen {\r\n        super.create(stage);\r\n        //add stuff\r\n        this._staticContainer.checkoutSprites();\r\n        this._staticContainer.Sprites.bg.y = 0;\r\n        this._container.addChild(this._staticContainer.Container);\r\n\r\n        this._container.addChild(this._fishContainer);\r\n\r\n        //add conditional text\r\n        this._winBanner = new createjs.Shape();\r\n        this._winBanner.graphics.beginFill(\"black\");\r\n        this._winBanner.graphics.drawRect(0, 0, this._game.StageWidth, 50);\r\n        this._winBanner.cache(0, 0, this._game.StageWidth, 50);\r\n        this._winContainer.addChild(this._winBanner);\r\n        this._winText = Sprites.generateBitmapText(\"Win!\", LoadManager.Spritesheets.TypographyWhite);\r\n        this._winContainer.addChild(this._winText);\r\n        this._winText.x = (this._game.StageWidth / 2) - (this._winText.getBounds().width / 2);\r\n\r\n        this._container.addChild(this._winContainer);\r\n        this._winContainer. y = this._game.StageHeight + 50;\r\n        this._winContainer.mouseEnabled = false;\r\n\r\n        \r\n        this._cat.create(this._container);\r\n\r\n\r\n        //add level data if it exists\r\n        if(this._levelData != null) {\r\n            //load in critters\r\n            for(let i = 0; i < this._levelData.data.length; i++) {\r\n                const data = this._levelData.data[i];\r\n                switch(data.id) {\r\n                    case POOL.FISH:\r\n                        const fish = (ObjectPool.checkout(POOL.FISH) as Fish);\r\n                        fish.create(this._fishContainer);\r\n                        if(data.speed != null) fish.Speed = data.speed; //set variables\r\n                        if(data.x != null) fish.X = data.x;\r\n                        if(data.y != null) fish.Y = data.y;\r\n                        if(data.flip != null && data.flip) fish.DirectionX = -1;\r\n                        fish.setNaturalY();\r\n                        this._fishes.push(fish);\r\n                        break;\r\n                }      \r\n            }\r\n\r\n            //set fish total\r\n            this._remainingFish = this._fishes.length;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public destroy() {\r\n        this._cat.destroy();\r\n        this._fishes.forEach(f => f.destroy());\r\n        this._fishContainer.removeAllChildren();\r\n\r\n        this._fishes = [];\r\n\r\n        return super.destroy();\r\n    }\r\n\r\n    public update(gameTime:number) {\r\n        const normalizedTime = Math.min(1, gameTime) + 0.5;\r\n\r\n        //update entities\r\n        this._fishes.forEach(fish => {\r\n            fish.update(normalizedTime);\r\n        });\r\n\r\n        this._cat.update(normalizedTime);\r\n\r\n        super.update(gameTime);\r\n    }\r\n\r\n    public enable() {\r\n        (this._container as any).on(\"click\", this._cat.grab, this._cat);\r\n    }\r\n\r\n    public disable() {\r\n        (this._container as any).removeAllEventListeners();\r\n    }\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public get Game() { return this._game; }\r\n\r\n    public set LevelData(data:LevelData) { this._levelData = data; }\r\n}\r\n\r\n\r\n\r\nexport class POOL { \r\n    static get CAT() { return \"cat\"; }\r\n    static get FISH() { return \"fish\"; }\r\n    static get PUFFERFISH() { return \"puffer\"; }\r\n}","import { Screen } from \"./Screen\";\r\nimport { ScreenManager } from \"../managers/ScreenManager\";\r\nimport { Sprites } from \"../ui/Sprites\";\r\nimport { Game } from \"../Game\";\r\nimport { LoadManager } from \"../managers/LoadManager\";\r\n\r\nexport class IntermediaryScreen extends Screen {\r\n    private _game:Game;\r\n    private _bg:createjs.Shape;\r\n    private _textContainer:createjs.Container;\r\n    private _txtSprite:createjs.DisplayObject;\r\n\r\n    private _text:string;\r\n    \r\n    constructor(game:Game) {\r\n        super();\r\n        this._game = game;\r\n\r\n        this._text = \"\";\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /**Chooses the screen to load in after the intermediary. */\r\n    public queueNextScreen(screenKey:string, duration:number=3000) {\r\n        const evt = window.setTimeout(() => {\r\n            //load the screen\r\n            ScreenManager.setCurrentScreen(screenKey, this._game.Stage);\r\n            //clear the timeout\r\n            window.clearTimeout(evt);\r\n        }, duration);\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    public create(stage:createjs.StageGL):Screen {\r\n        //add stuff\r\n        this._bg = new createjs.Shape();\r\n        this._bg.graphics.beginFill(\"#191919\");\r\n        this._bg.graphics.drawRect(0, 0, this._game.StageWidth, this._game.StageHeight);\r\n        this._bg.graphics.endFill();\r\n        this._bg.cache(0, 0, this._game.StageWidth, this._game.StageHeight);\r\n        this._container.addChild(this._bg);\r\n\r\n        this._textContainer = new createjs.Container();\r\n        this._container.addChild(this._textContainer);\r\n\r\n        if(this._text != \"\") {\r\n            //create the text\r\n            this._txtSprite = Sprites.generateBitmapText(this._text, LoadManager.Spritesheets.TypographyWhite);\r\n            (this._txtSprite as any).scale = 0.6;\r\n            //load into container\r\n            this._textContainer.addChild(this._txtSprite);\r\n    \r\n            //put container at bottom\r\n            this._textContainer.x = (this._game.StageWidth / 2) - ((this._txtSprite.getBounds().width / 2) * 0.6);\r\n            this._textContainer.y = (this._game.StageHeight / 2) - (this._txtSprite.getBounds().height / 2);\r\n        }\r\n\r\n        return super.create(stage);\r\n    }\r\n\r\n    public destroy() {\r\n        this._textContainer.removeAllChildren();\r\n\r\n        return super.destroy();\r\n    }\r\n\r\n    public enable() {\r\n        super.enable();\r\n\r\n        //for testing\r\n        (this._container as any).on(\"click\", (e) => {\r\n            ScreenManager.setCurrentScreen(\"menu\", this.Stage);\r\n        }, this, true);\r\n    }\r\n\r\n    public disable() {\r\n        super.disable();\r\n\r\n        this.reset();\r\n    }\r\n\r\n    public reset() {\r\n        this.Text = \"\";\r\n        super.reset();\r\n    }\r\n\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public set Text(value:string) {\r\n        this._text = value;\r\n    }\r\n}","import { Screen } from \"./Screen\";\r\nimport { ScreenManager } from \"../managers/ScreenManager\";\r\nimport { Sprites } from \"../ui/Sprites\";\r\nimport { Layout } from \"../ui/display/Layout\";\r\nimport { LoadManager } from \"../managers/LoadManager\";\r\nimport { Container } from \"../ui/display/Container\";\r\nimport { Logging } from \"../Functions\";\r\nimport { Game } from \"../Game\";\r\nimport { LevelSelectDisplay } from \"../ui/custom/LevelSelectDisplay\";\r\nimport { IntermediaryScreen } from \"./IntermediaryScreen\";\r\nimport { GameScreen } from \"./GameScreen\";\r\nimport { DataManager } from \"../managers/DataManager\";\r\n\r\nexport class MenuScreen extends Screen {\r\n    private _game:Game;\r\n    //containers\r\n    private _swipeContainer:createjs.Container;\r\n    private _staticContainer:Container;\r\n    private _mainContainer:Container;\r\n    private _clearedContainer:Container;\r\n    private _optionsContainer:Container;\r\n\r\n    //custom containers\r\n    private _levelSelectDisplay:LevelSelectDisplay;\r\n\r\n    //properties\r\n    private _swipeSpeed:number;\r\n    private _currentScreen:string;\r\n    private _initialSwipePos:{x:number, y:number};\r\n    private _dragTimer:any;\r\n\r\n    \r\n    constructor(game:Game) {\r\n        super();\r\n\r\n        this._game = game;\r\n\r\n        //setup swipe container -- holds all moving sprites\r\n        this._swipeContainer = new createjs.Container();\r\n\r\n        //setup static container\r\n        this._staticContainer = new Container();\r\n        this._staticContainer.addMany({\r\n            bg : Sprites.Backgrounds.BG\r\n        });\r\n\r\n        //setup main container\r\n        this._mainContainer = new Container();\r\n        this._mainContainer.addMany({\r\n            logo : Sprites.Backgrounds.Logo,\r\n            fishbowl : Sprites.Buttons.Fishbowl,\r\n            btnNewGame : Sprites.Buttons.NewGame,\r\n            btnOptions : Sprites.Buttons.Options,\r\n            btnLevelSelect : Sprites.Buttons.LevelSelect,\r\n            btnExit : Sprites.Buttons.Exit\r\n        });\r\n\r\n        //setup options container\r\n        this._optionsContainer = new Container();\r\n        this._optionsContainer.addMany({\r\n            txtOptions : Sprites.generateBitmapText(\"Options\", LoadManager.Spritesheets.Typography),\r\n            btnClearData : Sprites.Buttons.ClearData\r\n        });\r\n        this._optionsContainer.Container.x -= this._game.StageWidth;\r\n\r\n        //setup cleared container\r\n        this._clearedContainer = new Container();\r\n        this._clearedContainer.add(\"txtCleared\", Sprites.generateBitmapText(\"Data successfully cleared!\", LoadManager.Spritesheets.Typography));\r\n        this._clearedContainer.Container.x -= this._game.StageWidth;\r\n        this._clearedContainer.Container.y -= this._game.StageHeight;\r\n\r\n        //setup level select container\r\n        // this._levelSelectContainer = new Container();\r\n        // this._levelSelectContainer.addMany({\r\n        //     txtOptions : Sprites.generateBitmapText(\"Level Select\", LoadManager.Spritesheets.Typography),\r\n        //     // staticBG : Sprites.Backgrounds.LevelSelectBG,\r\n        //     // // levels : this._levelSelectLevelsContainer.Container\r\n        //     // level1 : Sprites.cloneSprite(Sprites.Buttons.LevelEmpty as Sprite),\r\n        //     // level2 : Sprites.cloneSprite(Sprites.Buttons.LevelEmpty as Sprite)\r\n        // });\r\n        // this._levelSelectDisplay = new LevelSelectDisplay();\r\n        // this._levelSelectContainer.add(\"levelSelect\", this._levelSelectDisplay.Container);\r\n        // this._levelSelectContainer.Container.x += this._game.StageWidth;\r\n\r\n        this._levelSelectDisplay = new LevelSelectDisplay(game);\r\n        this._levelSelectDisplay.Container.x += this._game.StageWidth;\r\n\r\n\r\n        //setup properties\r\n        this._swipeSpeed = 800;\r\n        this._currentScreen = \"main\";\r\n        this._initialSwipePos = { x:-1, y:-1 };\r\n\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    private _onNewGame() {\r\n        Logging.message(\"Go to new game!\");\r\n        \r\n        const data = DataManager.getLevelDataByIndex(0);\r\n        (ScreenManager.getScreenByKey(\"game\") as GameScreen).LevelData = data;\r\n        \r\n        const intermediary = ScreenManager.getScreenByKey(\"intermediary\") as IntermediaryScreen;\r\n        new Promise(async(res) => {\r\n            intermediary.Text = data.name;\r\n            await ScreenManager.setCurrentScreen(intermediary, this.Stage);\r\n            intermediary.queueNextScreen(\"game\");\r\n\r\n            res();\r\n        });\r\n    }\r\n    private _onOptions() {\r\n        //go to options!\r\n        Logging.message(\"Go to options!\");\r\n        createjs.Tween.get(this._swipeContainer).to({x:this._game.StageWidth}, this._swipeSpeed, createjs.Ease.circOut);\r\n        this._currentScreen = \"options\";\r\n    }\r\n    private _onLevelSelect() {\r\n        Logging.message(\"Go to level select!\");\r\n        createjs.Tween.get(this._swipeContainer).to({x:-this._game.StageWidth}, this._swipeSpeed, createjs.Ease.circOut);\r\n        this._currentScreen = \"levelSelect\";\r\n    }\r\n    private _onExit() {\r\n        Logging.message(\"Go to exit!\");\r\n    }\r\n\r\n    private _onMain() {\r\n        Logging.message(\"Go to main!\");\r\n        createjs.Tween.get(this._swipeContainer).to({x:0}, this._swipeSpeed, createjs.Ease.bounceOut);\r\n        this._currentScreen = \"main\";\r\n    }\r\n\r\n    private _onClearData() {\r\n        Logging.success(\"Cleared data!\");\r\n        createjs.Tween.get(this._swipeContainer).to({x:this._game.StageWidth, y:this._game.StageHeight}, this._swipeSpeed, createjs.Ease.cubicIn);\r\n        // this._currentScreen = \"cleared\"\r\n        let e = window.setTimeout(() => {\r\n            createjs.Tween.get(this._swipeContainer).to({x:this._game.StageWidth, y:0}, this._swipeSpeed, createjs.Ease.cubicInOut);\r\n            window.clearInterval(e);\r\n            this._currentScreen = \"options\";\r\n        }, 2000);\r\n    }\r\n\r\n    private _onDragStart(e) {\r\n\r\n        this._initialSwipePos = { x:e.stageX, y:e.stageY };\r\n\r\n        //reset drag timer if not null\r\n        if(this._dragTimer != null) window.clearTimeout(this._dragTimer);\r\n        this._dragTimer = setTimeout(() => {\r\n            this._initialSwipePos = { x:-1, y:-1 };\r\n            this._dragTimer = null;\r\n        }, 500);\r\n    }\r\n    private _onDragEnd(e) {\r\n        if(this._initialSwipePos.x != -1 || this._initialSwipePos.y != -1) {\r\n            //find the direction\r\n            if((this._initialSwipePos.x - e.stageX) > 20) {\r\n                if(this._currentScreen == \"options\")\r\n                    this._onMain();\r\n            }\r\n            else if((this._initialSwipePos.x - e.stageX) < -20) {\r\n                if(this._currentScreen == \"levelSelect\")\r\n                    this._onMain();\r\n            }\r\n        }\r\n    }\r\n\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    public create(stage:createjs.StageGL):Screen {\r\n\r\n        //add in the containers\r\n        this._staticContainer.Sprites.bg.y = 0;\r\n        this._container.addChild(this._staticContainer.Container);\r\n        this._container.addChild(this._swipeContainer);\r\n        this._swipeContainer.addChild(this._mainContainer.Container);\r\n        this._swipeContainer.addChild(this._optionsContainer.Container);\r\n        this._swipeContainer.addChild(this._clearedContainer.Container);\r\n        // this._swipeContainer.addChild(this._levelSelectContainer.Container);\r\n\r\n        \r\n        this._swipeContainer.addChild(this._levelSelectDisplay.Container);\r\n\r\n        return super.create(stage);\r\n    }\r\n\r\n    public enable() {\r\n        super.enable();\r\n        //listen to events\r\n        (this._mainContainer.Sprites.btnNewGame as any).on(\"click\", this._onNewGame, this, true);\r\n        (this._mainContainer.Sprites.btnOptions as any).on(\"click\", this._onOptions, this);\r\n        (this._mainContainer.Sprites.btnLevelSelect as any).on(\"click\", this._onLevelSelect, this);\r\n        (this._mainContainer.Sprites.btnExit as any).on(\"click\", this._onExit, this);\r\n\r\n        Sprites.listenToClearData();\r\n        (this._optionsContainer.Sprites.btnClearData as any).on(Sprites.CLEAR_DATA, this._onClearData, this);\r\n\r\n        //listen for swipes\r\n        (this._staticContainer.Sprites.bg as any).on(\"mousedown\", this._onDragStart, this);\r\n        (this._staticContainer.Sprites.bg as any).on(\"click\", this._onDragEnd, this);\r\n\r\n        // this._mainContainer.Sprites.btnOptions.on(\"click\", () => console.log(\"HELLO I CLIC\"));\r\n\r\n        this._levelSelectDisplay.enable();\r\n    }\r\n\r\n    public disable() {\r\n        super.disable();\r\n        //stop listen to events\r\n        (this._mainContainer.Sprites.btnNewGame as any).off(\"click\", this._onNewGame);\r\n        (this._mainContainer.Sprites.btnOptions as any).off(\"click\", this._onOptions);\r\n        (this._mainContainer.Sprites.btnLevelSelect as any).off(\"click\", this._onLevelSelect);\r\n        (this._mainContainer.Sprites.btnExit as any).off(\"click\", this._onExit);\r\n\r\n        Sprites.stopListenToClearData();\r\n        (this._optionsContainer.Sprites.btnClearData as any).off(Sprites.CLEAR_DATA, this._onClearData);\r\n\r\n        //stop listen for swipes\r\n        (this._staticContainer.Sprites.bg as any).off(\"mousedown\", this._onDragStart);\r\n        (this._staticContainer.Sprites.bg as any).off(\"click\", this._onDragEnd);\r\n\r\n\r\n        this._levelSelectDisplay.disable();\r\n    }\r\n\r\n    public reset() {\r\n         //reset the position of the swipe container\r\n         this._swipeContainer.x = 0;\r\n         this._swipeContainer.y = 0;\r\n        super.reset();\r\n    }\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n}","import { IUpdateable, ICreateable, IEnableable } from \"../Interfaces\";\r\n\r\nexport class Screen implements ICreateable<Screen>, IUpdateable, IEnableable {\r\n    private _stage:createjs.StageGL;\r\n    protected _container:createjs.Container;\r\n\r\n    constructor() {\r\n        this._container = new createjs.Container();\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /**Updates the screen. */\r\n    public update(gameTime:number) {\r\n\r\n    }\r\n\r\n    /**Creates the screen and adds to the stage. */\r\n    public create(stage:createjs.StageGL):Screen {\r\n        this._stage = stage;\r\n        //add to the stage\r\n        this._stage.addChild(this._container);\r\n\r\n        \r\n        return this;\r\n    }\r\n\r\n    /**Destroys the screen and removes from the stage. */\r\n    public destroy():Screen {\r\n\r\n        //remove from the stage\r\n        this._stage.removeChild(this._container);\r\n\r\n        return this;\r\n    }\r\n\r\n    public enable() {\r\n\r\n    }\r\n\r\n    public disable() {\r\n        \r\n    }\r\n\r\n    public reset() {\r\n        \r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public get Container():createjs.Container { return this._container; }\r\n    protected get Stage():createjs.StageGL { return this._stage; }\r\n\r\n}","import { Screen } from \"./Screen\";\r\nimport { ScreenManager } from \"../managers/ScreenManager\";\r\n\r\nexport class SplashScreen extends Screen {\r\n    private _splash:createjs.Shape;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    public create(stage:createjs.StageGL):Screen {\r\n        //add stuff\r\n        this._splash = new createjs.Shape();\r\n        this._splash.graphics.beginFill(\"red\");\r\n        this._splash.graphics.drawRect(0, 0, 100, 100);\r\n        this._splash.graphics.endFill();\r\n        this._splash.cache(0, 0, 100, 100);\r\n        this._container.addChild(this._splash);\r\n        super.create(stage);\r\n\r\n        //for testing\r\n        (this._container as any).on(\"click\", (e) => {\r\n            ScreenManager.setCurrentScreen(\"menu\", stage);\r\n        }, this, true);\r\n\r\n        return this;\r\n    }\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n}","import { LoadManager } from \"../managers/LoadManager\";\r\n\r\n/**Used to gain access to in-game sprites. */\r\nexport class Sprites {\r\n    public static CLEAR_DATA:string = \"onClearData\";\r\n\r\n    private static _backgrounds:{ [key:string]:createjs.DisplayObject } = { };\r\n    private static _buttons:{ [key:string]:createjs.DisplayObject } = { };\r\n\r\n    private static _spritesheets:createjs.SpriteSheet[];\r\n\r\n    private static _canClearData:boolean = false;\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    public static setup() {\r\n        return new Promise((res, rej) => {\r\n            // Sprites.spritesheets = spritesheets\r\n            //setup all the sprites\r\n            /* ------- STATIC ------- */\r\n            Sprites._backgrounds.Main = new createjs.Sprite(LoadManager.Spritesheets.UI); // Static BG\r\n            (Sprites._backgrounds.Main as createjs.Sprite).gotoAndStop(\"bg_main_static\");\r\n\r\n            Sprites._backgrounds.Logo = new createjs.Sprite(LoadManager.Spritesheets.Entities); // LOGO\r\n            (Sprites._backgrounds.Logo as createjs.Sprite).gotoAndStop(\"icon_title\");\r\n\r\n            Sprites._backgrounds.BG = LoadManager.Images.BG; // Redux\r\n            Sprites._backgrounds.BGTop = LoadManager.Images.BGTop;\r\n\r\n\r\n            /* ------- ANIMATED ------- */\r\n            Sprites._backgrounds.Wave = new createjs.Sprite(LoadManager.Spritesheets.UI); // Animated BG\r\n            (Sprites._backgrounds.Wave as createjs.Sprite).gotoAndPlay(\"bg_main\");\r\n            \r\n            /* ------- BUTTONS ------- */\r\n            Sprites._buttons.NewGame = new createjs.Sprite(LoadManager.Spritesheets.Entities); // New Game\r\n            (Sprites._buttons.NewGame as createjs.Sprite).gotoAndStop(\"btn_new_game\");\r\n            new createjs.ButtonHelper(Sprites._buttons.NewGame as createjs.Sprite, \"btn_new_game\", \"btn_new_game_hover\", \"btn_new_game_hover\");\r\n\r\n\r\n            Sprites._buttons.Options = new createjs.Sprite(LoadManager.Spritesheets.Entities); // Options\r\n            (Sprites._buttons.Options as createjs.Sprite).gotoAndStop(\"btn_new_game\");\r\n            new createjs.ButtonHelper(Sprites._buttons.Options as createjs.Sprite, \"btn_options\", \"btn_options_hover\", \"btn_options_hover\");\r\n\r\n            Sprites._buttons.LevelSelect = new createjs.Sprite(LoadManager.Spritesheets.Entities); // Select\r\n            (Sprites._buttons.LevelSelect as createjs.Sprite).gotoAndStop(\"btn_select\");\r\n            new createjs.ButtonHelper(Sprites._buttons.LevelSelect as createjs.Sprite, \"btn_select\", \"btn_select_hover\", \"btn_select_hover\");\r\n\r\n            Sprites._buttons.Exit = new createjs.Sprite(LoadManager.Spritesheets.Entities); // Exit\r\n            (Sprites._buttons.Exit as createjs.Sprite).gotoAndStop(\"btn_select\");\r\n            new createjs.ButtonHelper(Sprites._buttons.Exit as createjs.Sprite, \"btn_exit\", \"btn_exit_hover\", \"btn_exit_hover\");\r\n\r\n            Sprites._buttons.Fishbowl = new createjs.Sprite(LoadManager.Spritesheets.Entities); // Fishbowl\r\n            (Sprites._buttons.Fishbowl as createjs.Sprite).gotoAndStop(\"btn_select\");\r\n            new createjs.ButtonHelper(Sprites._buttons.Fishbowl as createjs.Sprite, \"icon_fishbowl\", \"icon_fishbowl_hover\", \"icon_fishbowl_hover\", true);\r\n\r\n\r\n            /* ------- MENU ------- */\r\n            Sprites._backgrounds.LevelSelectBG = new createjs.Sprite(LoadManager.Spritesheets.Menu_Level_Select); // Level Select BG\r\n            (Sprites._backgrounds.LevelSelectBG as createjs.Sprite).gotoAndStop(\"static_bg\");\r\n            Sprites._buttons.LevelEmpty = new createjs.Sprite(LoadManager.Spritesheets.Menu_Level_Select); // Level Empty Button\r\n            (Sprites._buttons.LevelEmpty as createjs.Sprite).gotoAndStop(\"level_empty\");\r\n            Sprites._buttons.LevelComplete = new createjs.Sprite(LoadManager.Spritesheets.Menu_Level_Select); // Level Complete Button\r\n            (Sprites._buttons.LevelComplete as createjs.Sprite).gotoAndStop(\"level_complete\");\r\n            Sprites._buttons.LevelSpecialEmpty = new createjs.Sprite(LoadManager.Spritesheets.Menu_Level_Select); // Level Special Empty Button\r\n            (Sprites._buttons.LevelSpecialEmpty as createjs.Sprite).gotoAndStop(\"level_special_empty\");\r\n            Sprites._buttons.LevelSpecialComplete = new createjs.Sprite(LoadManager.Spritesheets.Menu_Level_Select); // Level Special Complete Button\r\n            (Sprites._buttons.LevelSpecialComplete as createjs.Sprite).gotoAndStop(\"level_special_complete\");\r\n\r\n\r\n            /* ------- COMPLEX ------- */\r\n            Sprites._setupBTNClearData();\r\n\r\n            res();\r\n        });\r\n    }\r\n\r\n    // /* --- Complex createjs.Sprite Setup --- */\r\n    private static _setupBTNClearData() {\r\n        Sprites._buttons.ClearData = new createjs.Sprite(LoadManager.Spritesheets.UI); // BTN Clear Data\r\n        (Sprites._buttons.ClearData as createjs.Sprite).gotoAndStop(\"btn_clear_data\");\r\n        (Sprites._buttons.ClearData as createjs.Sprite).cursor = \"pointer\";\r\n        Sprites._canClearData = false;\r\n    }\r\n    public static listenToClearData() {\r\n        //listen\r\n        (Sprites._buttons.ClearData as any).on(\"mousedown\", Sprites._btnDataDown);\r\n        (Sprites._buttons.ClearData as any).on(\"animationend\", Sprites._btnDataComplete);\r\n        (Sprites._buttons.ClearData as any).on(\"click\", Sprites._btnDataUp);\r\n    }\r\n    public static stopListenToClearData() {\r\n        //listen\r\n        (Sprites._buttons.ClearData as any).off(\"mousedown\", Sprites._btnDataDown);\r\n        (Sprites._buttons.ClearData as any).off(\"animationend\", Sprites._btnDataComplete);\r\n        (Sprites._buttons.ClearData as any).off(\"click\", Sprites._btnDataUp);\r\n    }\r\n\r\n    private static _btnDataDown(e) {\r\n        (Sprites._buttons.ClearData as createjs.Sprite).gotoAndPlay(\"btn_clear_data_progress\");\r\n        Sprites._canClearData = true;\r\n    }\r\n    private static _btnDataUp(e) {\r\n        (Sprites._buttons.ClearData as createjs.Sprite).gotoAndStop(\"btn_clear_data\");\r\n        Sprites._canClearData = false;\r\n    }\r\n    private static _btnDataComplete(e) {\r\n        (Sprites._buttons.ClearData as createjs.Sprite).gotoAndStop(\"btn_clear_data\");\r\n        //dispatch event to button\r\n        if(Sprites._canClearData) {\r\n            (Sprites._buttons.ClearData as createjs.Sprite).dispatchEvent(new Event(Sprites.CLEAR_DATA));\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**A helper function to generate and cache text for the StageGL object. */\r\n    public static generateText(text, details = \"20px Arial\", color = \"#FFFEEE\") {\r\n        const textObj = new createjs.Text(text, details, color)\r\n        textObj.cache(0, 0, textObj.getBounds().width, textObj.getBounds().height);\r\n        return textObj;\r\n    }\r\n\r\n    public static generateBitmapText(text, spritesheet) {\r\n        const textObj = new createjs.BitmapText(text, spritesheet);\r\n        return textObj;\r\n    }\r\n\r\n\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public static get Backgrounds() { return Sprites._backgrounds; }\r\n    public static get Buttons() { return Sprites._buttons; }\r\n\r\n    // static get BG() { return Sprites._bg }\r\n    // static get Logo() { return Sprites._logo }\r\n    // static get AnimBG() { return Sprites._animBg }\r\n    // static get GameBG() { return Sprites._gameBG }\r\n    // static get GameBGTop() { return Sprites._gameBGTop }\r\n    // //buttons\r\n    // static get BTN_New_Game() { return Sprites._btnNewGame }\r\n    // static get BTN_Options() { return Sprites._btnOptions }\r\n    // static get BTN_Select() { return Sprites._btnSelect }\r\n    // static get BTN_Exit() { return Sprites._btnExit }\r\n    // static get BTN_Fishbowl() { return Sprites._btnFishbowl }\r\n    // static get BTN_ClearData() { return Sprites._btnClearData }\r\n\r\n\r\n    // static get CLEAR_DATA() { return \"onClearData\" }\r\n}","import { Sprites } from \"../Sprites\";\r\nimport { LoadManager } from \"../../managers/LoadManager\";\r\nimport { Game } from \"../../Game\";\r\nimport { IEnableable } from \"../../Interfaces\";\r\nimport { GameScreen } from \"../../screens/GameScreen\";\r\nimport { DataManager } from \"../../managers/DataManager\";\r\nimport { ScreenManager } from \"../../managers/ScreenManager\";\r\nimport { IntermediaryScreen } from \"../../screens/IntermediaryScreen\";\r\n\r\n\r\nexport class LevelSelectDisplay implements IEnableable {\r\n    private _game:Game;\r\n\r\n    private _container:createjs.Container;\r\n    private _background:createjs.Sprite;\r\n    private _levelsContainer:createjs.Container;\r\n    private _levelTextContainer:createjs.Container;\r\n\r\n    private _levelsData:any;\r\n\r\n    private _levelButtons:createjs.Sprite[];\r\n\r\n    constructor(game:Game) {\r\n        this._game = game;\r\n        this._levelButtons = [];\r\n\r\n        //build the required components for the level select display\r\n        this._container = new createjs.Container();\r\n        this._background = Sprites.Backgrounds.LevelSelectBG as createjs.Sprite;\r\n        this._background.x = (game.StageWidth / 2) - (this._background.getBounds().width / 2);\r\n        this._background.y = 80;\r\n\r\n        this._levelsContainer = new createjs.Container();\r\n        this._container.addChild(this._background);\r\n        let text = Sprites.generateBitmapText(\"Level Select\", LoadManager.Spritesheets.Typography);\r\n        text.x = (game.StageWidth / 2) - (text.getBounds().width / 2);\r\n        text.y = 30;\r\n        this._container.addChild(text);\r\n\r\n\r\n        //setup display text\r\n        this._levelTextContainer = new createjs.Container();\r\n        this._container.addChild(this._levelTextContainer);\r\n\r\n        this.LevelText = \"Hello World!\";\r\n\r\n\r\n        //spoof some level data\r\n        this._levelsData = [\r\n            [\r\n                { name: \"Welcome to the pond!\", complete:true, unlocked:true, data:[0, 0, 0, 0, 0, 0, 0] },\r\n                { name: \"A new adventure!\", complete:true, unlocked:true, data:[0, 0, 0, 0, 0, 0, 0] },\r\n                { name: \"Learn to aim!\", complete:false, unlocked:true, data:[0, 0, 0, 0, 0, 0, 0] },\r\n                { name: \"Persephone!\", special:true, complete:false, unlocked:false, data:[0, 0, 0, 0, 0, 0, 0] },\r\n            ],\r\n            [\r\n                { name: \"In deep water!\", complete:false, unlocked:false, data:[0, 0, 0, 0, 0, 0, 0] },\r\n                { name: \"An ocean of fish!\", complete:false, unlocked:false, data:[0, 0, 0, 0, 0, 0, 0] },\r\n                { name: \"Barnacles ahoy!\", complete:false, unlocked:false, data:[0, 0, 0, 0, 0, 0, 0] },\r\n                { name: \"Owen!\", special:true, complete:false, unlocked:false, data:[0, 0, 0, 0, 0, 0, 0] },\r\n            ]\r\n        ];\r\n\r\n\r\n        //build the level icons\r\n        for(let r = 0; r < this._levelsData.length; r++) {\r\n            //iterate through levels\r\n            for(let i = 0; i < this._levelsData[r].length; i++) {\r\n                const levelData = this._levelsData[r][i];\r\n                console.log(\"LEVEL\", levelData);\r\n                //decide the sprite\r\n                let sprite = Sprites.Buttons.LevelEmpty.clone();\r\n                if(levelData.special != null && levelData.special) sprite = Sprites.Buttons.LevelSpecialEmpty.clone();\r\n                // //completed\r\n                if(levelData.complete) {\r\n                    sprite = Sprites.Buttons.LevelComplete.clone();\r\n                    if(levelData.special != null && levelData.special) sprite = Sprites.Buttons.LevelSpecialComplete;\r\n                }\r\n                //locked\r\n                if(!levelData.unlocked) {\r\n                    sprite.alpha = 0.25;\r\n                }\r\n                else {\r\n                    sprite.alpha = 1;\r\n                     //extras\r\n                    sprite.cursor = \"pointer\";\r\n                }\r\n\r\n                //place\r\n                sprite.x = 60 * i;\r\n                sprite.y = 50 * r;\r\n                //add\r\n                this._levelsContainer.addChild(sprite);\r\n                //to array\r\n                this._levelButtons.push(sprite as createjs.Sprite);\r\n            }\r\n        };\r\n\r\n        this._levelsContainer.x = (game.StageWidth / 2) - (this._levelsContainer.getBounds().width / 2);\r\n        this._levelsContainer.y = 100;\r\n        this._container.addChild(this._levelsContainer);\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    public enable() {\r\n        this._levelButtons.forEach(btn => {\r\n            btn.on(\"click\", this._onLevelClick, this);\r\n            btn.on(\"mouseover\", this._onLevelHover, this);\r\n            btn.on(\"mouseout\", this._onLevelUnhover, this);\r\n        });\r\n    }\r\n\r\n    public disable() {\r\n        this._levelButtons.forEach(btn => {\r\n            btn.removeAllEventListeners();\r\n        });\r\n    }\r\n\r\n\r\n    /**Returns level data from the given index. */\r\n    private _getDataByIndex(index:number) {\r\n        //flatten level data, and get data\r\n        let flatten = this._levelsData.reduce((acc, next) => acc.concat(next));\r\n        return flatten[index];\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    private _onLevelClick(e) {\r\n         //get button index\r\n        let index = this._levelButtons.indexOf(e.target);\r\n\r\n        if(index == -1) return;\r\n\r\n        //set the level index\r\n        const data = DataManager.getLevelDataByIndex(index);\r\n        (ScreenManager.getScreenByKey(\"game\") as GameScreen).LevelData = data;\r\n        //go to intermediary screen\r\n        const intermediary = ScreenManager.getScreenByKey(\"intermediary\") as IntermediaryScreen;\r\n        new Promise(async(res) => {\r\n            intermediary.Text = data.name;\r\n            await ScreenManager.setCurrentScreen(intermediary, this._game.Stage);\r\n            intermediary.queueNextScreen(\"game\", 1000);\r\n\r\n            res();\r\n        });\r\n    }\r\n\r\n    private _onLevelHover(e) {\r\n        //find the button data\r\n        //get button index\r\n        let index = this._levelButtons.indexOf(e.target);\r\n        \r\n        if(index != -1) {\r\n            const data = this._getDataByIndex(index);\r\n            if(data != null) {\r\n                if(data.unlocked)\r\n                    this.LevelText = data.name;\r\n            }\r\n        }\r\n\r\n    }\r\n    private _onLevelUnhover(e) {\r\n        this.LevelText = \"\";\r\n    }\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public get Container() { return this._container; }\r\n    public set LevelText(value:string) {\r\n        if(value == \"\") {\r\n            this._levelTextContainer.removeAllChildren();\r\n            return;\r\n        }\r\n        //create the text\r\n        const text = Sprites.generateBitmapText(value, LoadManager.Spritesheets.Typography);\r\n        (text as any).scale = 0.6;\r\n        //load into container\r\n        this._levelTextContainer.removeAllChildren();\r\n        this._levelTextContainer.addChild(text);\r\n\r\n        //put container at bottom\r\n        this._levelTextContainer.x = (this._game.StageWidth / 2) - ((text.getBounds().width / 2) * 0.6);\r\n        this._levelTextContainer.y = this._game.StageHeight - 30;\r\n    }\r\n}","import { Layout } from \"./Layout\";\r\n\r\n/**Uses custom classes and the createjs library to help easily build up ui interfaces with DisplayObjects. */\r\nexport class Container {\r\n    private _sprites:{ [key:string]:createjs.DisplayObject };\r\n    private _container:createjs.Container;\r\n    private _layout:Layout;\r\n\r\n    constructor() {\r\n        this._sprites = { };\r\n        this._container = new createjs.Container();\r\n        this._layout = Layout.MAKE_VERTICAL_CENTER(this._container);\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    public add(key:string, sprite:createjs.DisplayObject, updateLayout:boolean=true):boolean {\r\n        if(this._sprites[key] != null) return false;\r\n        this._sprites[key] = sprite.clone();\r\n\r\n        if(updateLayout) this._layout.buildLayout(true, ...Object.keys(this._sprites).map(k => this._sprites[k]));\r\n        return true;\r\n    }\r\n\r\n    public addMany(sprites:{ [key:string]:createjs.DisplayObject }) {\r\n        Object.keys(sprites).forEach(k => {\r\n            this.add(k, sprites[k], false);\r\n        });\r\n\r\n        this._layout.buildLayout(true, ...Object.keys(this._sprites).map(k => this._sprites[k]));\r\n    }\r\n\r\n    public changeLayout(layout:Layout) {\r\n        this._layout = layout;\r\n    }\r\n\r\n    /**In case of wandering or reusable sprites, call them back to this layout! */\r\n    public checkoutSprites() {\r\n        this._layout.buildLayout(true, ...Object.keys(this._sprites).map(k => this._sprites[k]));\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    public get Container():createjs.Container { return this._container; }\r\n    public get Sprites() { return this._sprites; }\r\n}","import { Game } from \"../../Game\";\r\n\r\n/**Used to layout createjs display objects. */\r\nexport class Layout {\r\n    //justify content\r\n    public static HORIZONTAL:string = \"horizontal\";\r\n    public static VERTICAL:string = \"vertical\";\r\n    //align items\r\n    public static START:string = \"start\";\r\n    public static END:string = \"end\";\r\n    public static CENTER:string = \"center\";\r\n\r\n    private _parent:createjs.Container;\r\n    private _items:createjs.DisplayObject[];\r\n\r\n    private _direction:string;\r\n    private _alignment:string;\r\n    private _crossAlignment:string;\r\n    private _spacing:number;\r\n\r\n    constructor(parent:createjs.Container, direction:string, alignment:string, crossAlignment:string, spacing:number = 5) {\r\n        this._parent = parent;\r\n        this._items = [];\r\n\r\n        this._direction = direction;\r\n        this._alignment = alignment;\r\n        this._crossAlignment = crossAlignment;\r\n        this._spacing = spacing;\r\n    }\r\n\r\n    /*--------------- METHODS ------------------------*/\r\n    public buildLayout(addToParent:boolean=true, ...items:createjs.DisplayObject[]) {\r\n        if(items.length <= 0) return;\r\n\r\n        this._items = items;\r\n\r\n        if(addToParent) {\r\n            this._parent.removeAllChildren();\r\n        }\r\n        \r\n\r\n        if(this._direction == Layout.VERTICAL) {\r\n            // X - CENTER\r\n            let totalHeight = 0;\r\n            if(this._alignment == Layout.CENTER) {\r\n                for(let i = 0; i < items.length; i++) {\r\n                    const item:createjs.DisplayObject = items[i];\r\n                    item.x = (Game.WIDTH / 2) - (item.getBounds().width / 2);\r\n                    item.y = totalHeight;\r\n                    totalHeight += item.getBounds().height + this._spacing;\r\n                    if(addToParent) this._parent.addChild(item);\r\n                }\r\n\r\n                // Y - CENTER\r\n                //handle vertical alignment\r\n                if(this._crossAlignment == Layout.START) {\r\n                    // DO NOTHING, this is the default\r\n                }\r\n                else if(this._crossAlignment == Layout.CENTER) {\r\n                    totalHeight += items[items.length-1].getBounds().height;\r\n                    for(let i = 0; i < items.length; i++) {\r\n                        const item:createjs.DisplayObject = items[i];\r\n                        //decipher desired center\r\n                        item.y += (Game.HEIGHT / 2) - (totalHeight / 2);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n\r\n        }\r\n    }\r\n    /*--------------- ABSTRACTS ----------------------*/\r\n    /*--------------- EVENTS -------------------------*/\r\n    /*--------------- OVERRIDES ----------------------*/\r\n    /*--------------- GETTERS & SETTERS --------------*/\r\n    \r\n    /*--------------- HELPER FUNCTIONS ---------------*/\r\n    public static MAKE_VERTICAL_CENTER(container:createjs.Container) { return new Layout(container, Layout.VERTICAL, Layout.CENTER, Layout.CENTER, 5); }\r\n\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvRnVuY3Rpb25zLnRzIiwic3JjL0dhbWUudHMiLCJzcmMvT2JqZWN0UG9vbC50cyIsInNyYy9lbnRpdGllcy9DYXQudHMiLCJzcmMvZW50aXRpZXMvRW50aXR5LnRzIiwic3JjL2VudGl0aWVzL0Zpc2gudHMiLCJzcmMvbWFpbi50cyIsInNyYy9tYW5hZ2Vycy9EYXRhTWFuYWdlci50cyIsInNyYy9tYW5hZ2Vycy9Mb2FkTWFuYWdlci50cyIsInNyYy9tYW5hZ2Vycy9TY3JlZW5NYW5hZ2VyLnRzIiwic3JjL3NjcmVlbnMvRW5kU2NyZWVuLnRzIiwic3JjL3NjcmVlbnMvR2FtZVNjcmVlbi50cyIsInNyYy9zY3JlZW5zL0ludGVybWVkaWFyeVNjcmVlbi50cyIsInNyYy9zY3JlZW5zL01lbnVTY3JlZW4udHMiLCJzcmMvc2NyZWVucy9TY3JlZW4udHMiLCJzcmMvc2NyZWVucy9TcGxhc2hTY3JlZW4udHMiLCJzcmMvdWkvU3ByaXRlcy50cyIsInNyYy91aS9jdXN0b20vTGV2ZWxTZWxlY3REaXNwbGF5LnRzIiwic3JjL3VpL2Rpc3BsYXkvQ29udGFpbmVyLnRzIiwic3JjL3VpL2Rpc3BsYXkvTGF5b3V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztBQ0FBO0FBQ0E7QUFDQTs7SUFDYSxPOzs7Ozs7O2dDQUNNLE8sRUFBYztBQUN6QixvQkFBUSxHQUFSLFNBQWtCLE9BQWxCLEVBQTZCLHFGQUE3QjtBQUNIOzs7Z0NBRWMsUSxFQUFjO0FBQ3pCLG9CQUFRLEdBQVIsU0FBa0IsUUFBbEIsRUFBNkIsbUZBQTdCO0FBQ0g7Ozs4QkFFWSxPLEVBQWM7QUFDdkIsb0JBQVEsR0FBUixTQUFrQixPQUFsQixFQUE2Qix5REFBN0I7QUFDSDs7Ozs7O0FBWEwsUUFBQSxPQUFBLEdBQUEsT0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0hBLElB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QUFpQixNQUFqQixHQUEwQixLQUFLLFFBQTlDO0FBQ0EsNEJBQUcsV0FBSCxFQUFnQixLQUFLLE9BQUwsQ0FBYSxRQUFiLENBQXNCLElBQXRCO0FBQ25CO0FBRUQ7QUFDQTtBQUNBLHdCQUFHLEtBQUssZUFBTCxJQUF3QixPQUFPLEtBQWxDLEVBQXlDO0FBQ3JDO0FBQ0gscUJBRkQsTUFHSyxJQUFHLEtBQUssZUFBTCxJQUF3QixPQUFPLE1BQWxDLEVBQTBDO0FBQzNDLHVDQUFlLE1BQU0sTUFBTSxNQUFOLEdBQWEsQ0FBbkIsRUFBc0IsU0FBdEIsR0FBa0MsTUFBakQ7QUFDQSw2QkFBSSxJQUFJLEtBQUksQ0FBWixFQUFlLEtBQUksTUFBTSxNQUF6QixFQUFpQyxJQUFqQyxFQUFzQztBQUNsQyxnQ0FBTSxRQUE4QixNQUFNLEVBQU4sQ0FBcEM7QUFDQTtBQUNBLGtDQUFLLENBQUwsSUFBVyxPQUFBLElBQUEsQ0FBSyxNQUFMLEdBQWMsQ0FBZixHQUFxQixjQUFjLENBQTdDO0FBQ0g7QUFDSjtBQUNKO0FBQ0osYUExQkQsTUEyQkssQ0FFSjtBQUNKO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs2Q0FDbUMsUyxFQUE0QjtBQUFJLG1CQUFPLElBQUksTUFBSixDQUFXLFNBQVgsRUFBc0IsT0FBTyxRQUE3QixFQUF1QyxPQUFPLE1BQTlDLEVBQXNELE9BQU8sTUFBN0QsRUFBcUUsQ0FBckUsQ0FBUDtBQUFpRjs7Ozs7QUExRXBKOzs7QUFDYyxPQUFBLFVBQUEsR0FBb0IsWUFBcEI7QUFDQSxPQUFBLFFBQUEsR0FBa0IsVUFBbEI7QUFDZDtBQUNjLE9BQUEsS0FBQSxHQUFlLE9BQWY7QUFDQSxPQUFBLEdBQUEsR0FBYSxLQUFiO0FBQ0EsT0FBQSxNQUFBLEdBQWdCLFFBQWhCO0FBUGxCLFFBQUEsTUFBQSxHQUFBLE1BQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qICAgICAgICAgICAgICAgICAgICAgIExPR0dJTkcgICAgICAgICAgICAgICAgICAgICAgKi9cclxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5leHBvcnQgY2xhc3MgTG9nZ2luZyB7XHJcbiAgICBzdGF0aWMgc3VjY2VzcyhtZXNzYWdlOnN0cmluZyk6dm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCVjICR7bWVzc2FnZX1gLCAnY29sb3I6c2VhZ3JlZW47IGZvbnQtc2l6ZToxLjFlbTsgZm9udC13ZWlnaHQ6Ym9sZDsgYm9yZGVyLWxlZnQ6IHNvbGlkIDNweCBzZWFncmVlbjsnKSAgICA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG1lc3NhZ2UobWVzc2FnZTpzdHJpbmcpOnZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAlYyAke21lc3NhZ2V9YCwgJ2NvbG9yOiMxRTI2NUM7IGZvbnQtc2l6ZToxLjFlbTsgZm9udC13ZWlnaHQ6Ym9sZDsgYm9yZGVyLWxlZnQ6IHNvbGlkIDNweCAjMUUyNjVDOycpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBlcnJvcihtZXNzYWdlOnN0cmluZyk6dm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCVjICR7bWVzc2FnZX1gLCAnY29sb3I6cmVkOyBmb250LXNpemU6MS4xZW07IGJvcmRlci1sZWZ0OiBzb2xpZCAzcHggcmVkOycpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTG9hZE1hbmFnZXIgfSBmcm9tIFwiLi9tYW5hZ2Vycy9Mb2FkTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTY3JlZW5NYW5hZ2VyIH0gZnJvbSBcIi4vbWFuYWdlcnMvU2NyZWVuTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTcGxhc2hTY3JlZW4gfSBmcm9tIFwiLi9zY3JlZW5zL1NwbGFzaFNjcmVlblwiO1xyXG5pbXBvcnQgeyBNZW51U2NyZWVuIH0gZnJvbSBcIi4vc2NyZWVucy9NZW51U2NyZWVuXCI7XHJcbmltcG9ydCB7IEdhbWVTY3JlZW4gfSBmcm9tIFwiLi9zY3JlZW5zL0dhbWVTY3JlZW5cIjtcclxuaW1wb3J0IHsgRW5kU2NyZWVuIH0gZnJvbSBcIi4vc2NyZWVucy9FbmRTY3JlZW5cIjtcclxuaW1wb3J0IHsgTG9nZ2luZyB9IGZyb20gXCIuL0Z1bmN0aW9uc1wiO1xyXG5pbXBvcnQgeyBTcHJpdGVzIH0gZnJvbSBcIi4vdWkvU3ByaXRlc1wiO1xyXG5pbXBvcnQgeyBJbnRlcm1lZGlhcnlTY3JlZW4gfSBmcm9tIFwiLi9zY3JlZW5zL0ludGVybWVkaWFyeVNjcmVlblwiO1xyXG5pbXBvcnQgeyBEYXRhTWFuYWdlciB9IGZyb20gXCIuL21hbmFnZXJzL0RhdGFNYW5hZ2VyXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWUge1xyXG4gICAgcHJpdmF0ZSBfY2FudmFzOkhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBfc3RhZ2U6Y3JlYXRlanMuU3RhZ2VHTDtcclxuICAgIHByaXZhdGUgX3NjYWxpbmc6bnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgX2xhc3RHYW1lVGltZTpudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2FudmFzRGl2OkhUTUxDYW52YXNFbGVtZW50KSB7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IGNhbnZhc0RpdjtcclxuICAgICAgICB0aGlzLl9jYW52YXMud2lkdGggPSBHYW1lLldJRFRIO1xyXG4gICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSBHYW1lLkhFSUdIVDtcclxuXHJcbiAgICAgICAgdGhpcy5fbGFzdEdhbWVUaW1lID0gLTE7XHJcblxyXG4gICAgICAgIC8vc2V0IHRoZSBzY2FsaW5nXHJcbiAgICAgICAgdGhpcy5fc2NhbGluZyA9IEdhbWUuSEVJR0hUIC8gMTM2NjtcclxuXHJcbiAgICAgICAgLy9zdGFydCBsb2FkaW5nIGdhbWUgYXNzZXRzXHJcbiAgICAgICAgbmV3IFByb21pc2UoYXN5bmMocmVzLCByZWopID0+IHtcclxuICAgICAgICAgICAgLy9jcmVhdGUgdGhlIHN0YWdlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVhZHlpbmcgc3RhZ2UhXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZUdMKHRoaXMuX2NhbnZhcywgeyBhbnRpYWxpYXM6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICh0aGlzLl9zdGFnZSBhcyBhbnkpLnNldENsZWFyQ29sb3IoXCIjMDAwMDAwXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFnZS5lbmFibGVNb3VzZU92ZXIoMTApO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFnZS51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuX3N0YWdlLCB0aGlzLl9jYW52YXMpO1xyXG5cclxuICAgICAgICAgICAgLy9saXN0ZW4gdG8gYXNzZXQgdXBkYXRlc1xyXG4gICAgICAgICAgICAodGhpcy5fc3RhZ2UgYXMgYW55KS5hZGRFdmVudExpc3RlbmVyKExvYWRNYW5hZ2VyLkFTU0VUU19VUERBVEVELCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coTG9hZE1hbmFnZXIuUGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL2xvYWQgYXNzZXRzXHJcbiAgICAgICAgICAgIGF3YWl0IExvYWRNYW5hZ2VyLmxvYWRBc3NldHMoXCJhc3NldHMvbWFuaWZlc3QuanNvblwiLCB0aGlzLl9zdGFnZSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yIGxvYWRpbmcgYXNzZXRzOlwiLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBMb2dnaW5nLnN1Y2Nlc3MoXCJBc3NldHMgTG9hZGVkIFN1Y2Nlc3NmdWxseSFcIik7XHJcblxyXG4gICAgICAgICAgICAvL2xvYWQgbGV2ZWwgZGF0YVxyXG4gICAgICAgICAgICBhd2FpdCBEYXRhTWFuYWdlci5sb2FkV29ybGRzRGF0YShcImFzc2V0cy9kYXRhL2xldmVscy5qc29uXCIpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBMb2dnaW5nLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBMb2dnaW5nLnN1Y2Nlc3MoXCJMZXZlbCBEYXRhIExvYWRlZCBTdWNjZXNzZnVsbHkhXCIpO1xyXG5cclxuICAgICAgICAgICAgLy9zZXR1cCBjcmVhdGVqcy5TcHJpdGVzXHJcbiAgICAgICAgICAgIGF3YWl0IFNwcml0ZXMuc2V0dXAoKTtcclxuXHJcbiAgICAgICAgICAgIC8vYnVpbGQgdGhlIHNjcmVlbnNcclxuICAgICAgICAgICAgU2NyZWVuTWFuYWdlci5yZWdpc3RlclNjcmVlbihcInNwbGFzaFwiLCBuZXcgU3BsYXNoU2NyZWVuKCkpO1xyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLnJlZ2lzdGVyU2NyZWVuKFwibWVudVwiLCBuZXcgTWVudVNjcmVlbih0aGlzKSk7XHJcbiAgICAgICAgICAgIFNjcmVlbk1hbmFnZXIucmVnaXN0ZXJTY3JlZW4oXCJnYW1lXCIsIG5ldyBHYW1lU2NyZWVuKHRoaXMpKTtcclxuICAgICAgICAgICAgU2NyZWVuTWFuYWdlci5yZWdpc3RlclNjcmVlbihcImVuZFwiLCBuZXcgRW5kU2NyZWVuKCkpO1xyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLnJlZ2lzdGVyU2NyZWVuKFwiaW50ZXJtZWRpYXJ5XCIsIG5ldyBJbnRlcm1lZGlhcnlTY3JlZW4odGhpcykpO1xyXG5cclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9zZXQgdGhlIGN1cnJlbnQgc2NyZWVuXHJcbiAgICAgICAgICAgIC8vZ2FtZSB0ZXN0LCBsb2FkIGRlc2lyZWQgbGV2ZWwgcGF0Y2ggLS0gaWYgYXV0b2xvYWRpbmcgdG8gZ2FtZSBzY3JlZW5cclxuICAgICAgICAgICAgKFNjcmVlbk1hbmFnZXIuZ2V0U2NyZWVuQnlLZXkoXCJnYW1lXCIpIGFzIEdhbWVTY3JlZW4pLkxldmVsRGF0YSA9IERhdGFNYW5hZ2VyLmdldExldmVsRGF0YUJ5SW5kZXgoMSk7XHJcblxyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLnNldEN1cnJlbnRTY3JlZW4oXCJnYW1lXCIsIHRoaXMuX3N0YWdlKTtcclxuXHJcbiAgICAgICAgICAgIC8vc2V0dXAgdGhlIGdhbWUgbG9vcFxyXG4gICAgICAgICAgICBjcmVhdGVqcy5UaWNrZXIuZnJhbWVyYXRlID0gR2FtZS5GUkFNRV9SQVRFO1xyXG4gICAgICAgICAgICBjcmVhdGVqcy5UaWNrZXIub24oXCJ0aWNrXCIsIHRoaXMudXBkYXRlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgdXBkYXRlKGU6YW55KSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGdhbWVUaW1lID0gKHRoaXMuX2xhc3RHYW1lVGltZSAhPSAtMSkgPyBjcmVhdGVqcy5UaWNrZXIuZ2V0TWVhc3VyZWRGUFMoKSAtIHRoaXMuX2xhc3RHYW1lVGltZSA6IDE7XHJcbiAgICAgICAgdGhpcy5fbGFzdEdhbWVUaW1lID0gY3JlYXRlanMuVGlja2VyLmdldE1lYXN1cmVkRlBTKCk7XHJcblxyXG4gICAgICAgIC8vdXBkYXRlIHRoZSBzY3JlZW5cclxuICAgICAgICBpZihTY3JlZW5NYW5hZ2VyLkN1cnJlbnRTY3JlZW4gIT0gbnVsbCkgU2NyZWVuTWFuYWdlci5DdXJyZW50U2NyZWVuLnVwZGF0ZShnYW1lVGltZSk7XHJcblxyXG4gICAgICAgIC8vdXBkYXRlIHRoZSBzdGFnZVxyXG4gICAgICAgIHRoaXMuX3N0YWdlLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgRlJBTUVfUkFURSgpIHsgcmV0dXJuIDMwOyB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBXSURUSCgpIHsgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0ICogMC40ODsgfSAvL2Rlc2lyZWQgc2l6ZVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgSEVJR0hUKCkgeyByZXR1cm4gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7IH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IFN0YWdlV2lkdGgoKSB7IHJldHVybiB0aGlzLl9jYW52YXMud2lkdGg7IH0gLy9hY3R1YWwgc2l6ZVxyXG4gICAgcHVibGljIGdldCBTdGFnZUhlaWdodCgpIHsgcmV0dXJuIHRoaXMuX2NhbnZhcy5oZWlnaHQ7IH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IFN0YWdlKCkgeyByZXR1cm4gdGhpcy5fc3RhZ2U7IH1cclxuICAgIHB1YmxpYyBnZXQgU2NhbGluZygpIHsgcmV0dXJuIHRoaXMuX3NjYWxpbmc7IH1cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gQUJTVFJBQ1RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBMb2dnaW5nIH0gZnJvbSBcIi4vRnVuY3Rpb25zXCI7XHJcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuL2VudGl0aWVzL0VudGl0eVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUG9vbE9iamVjdCB7XHJcbiAgICB0eXBlOnN0cmluZztcclxuICAgIG9iajpFbnRpdHksXHJcbiAgICBhY3RpdmU6Ym9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE9iamVjdFBvb2wge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3Bvb2w6SVBvb2xPYmplY3RbXTtcclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKipDcmVhdGVzIGEgcG9vbCBvYmplY3QuICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZVBvb2xPYmplY3Qob2JqOkVudGl0eSwgdHlwZTpzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBwb29sT2JqID0ge1xyXG4gICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICBvYmosXHJcbiAgICAgICAgICAgIGFjdGl2ZTogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdFBvb2wuUG9vbC5wdXNoKHBvb2xPYmopO1xyXG4gICAgICAgIHJldHVybiBwb29sT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKkNoZWNrcyBvdXQgYSBwb29sIG9iamVjdC4gIFVzZSBQT09MIGdsb2JhbCBmdW5jdGlvbiB0byBhY2Nlc3MuICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNoZWNrb3V0KHR5cGU6c3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgcG9vbE9iaiA9IE9iamVjdFBvb2wuX2dldE9iamVjdEJ5VHlwZSh0eXBlKTtcclxuICAgICAgICBpZihwb29sT2JqICE9IG51bGwpIHtcclxuICAgICAgICAgICAgcG9vbE9iai5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gcG9vbE9iai5vYmo7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlJldHVybnMgYW4gb2JqZWN0IHRvIHRoZSBwb29sLiAqL1xyXG4gICAgcHVibGljIHN0YXRpYyByZXR1cm4ob2JqOkVudGl0eSkge1xyXG4gICAgICAgIGNvbnN0IHBvb2xPYmogPSBPYmplY3RQb29sLl9nZXRPYmplY3RCeU9iaihvYmopO1xyXG4gICAgICAgIGlmKHBvb2xPYmogIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBwb29sT2JqLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIF9nZXRPYmplY3RCeVR5cGUodHlwZSkge1xyXG4gICAgICAgIGNvbnN0IHBvb2xPYmogPSBPYmplY3RQb29sLl9wb29sLmZpbmQoKG8gPT4gby50eXBlID09IHR5cGUgJiYgIW8uYWN0aXZlKSk7XHJcbiAgICAgICAgaWYocG9vbE9iaiA9PSBudWxsKSBMb2dnaW5nLmVycm9yKFwiT2JqZWN0IG5vdCBmb3VuZCBpbiBwb29sLCBvciBwb29sIGlzIGV4aGF1c3RlZC4gIFJldHVybiBzb21lIG9iamVjdHMuXCIpO1xyXG4gICAgICAgIHJldHVybiBwb29sT2JqXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIF9nZXRPYmplY3RCeU9iaihvYmopIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0UG9vbC5fcG9vbC5maW5kKChvID0+IG8ub2JqID09IG9iaikpO1xyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gQUJTVFJBQ1RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgUG9vbCgpIHsgXHJcbiAgICAgICAgaWYoT2JqZWN0UG9vbC5fcG9vbCA9PSBudWxsKSBPYmplY3RQb29sLl9wb29sID0gW107XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdFBvb2wuX3Bvb2w7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4uL0dhbWVcIjtcclxuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vRW50aXR5XCI7XHJcbmltcG9ydCB7IExvYWRNYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL0xvYWRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IElFbmFibGVhYmxlIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcclxuaW1wb3J0IHsgTG9nZ2luZyB9IGZyb20gXCIuLi9GdW5jdGlvbnNcIjtcclxuaW1wb3J0IHsgR2FtZVNjcmVlbiB9IGZyb20gXCIuLi9zY3JlZW5zL0dhbWVTY3JlZW5cIjtcclxuaW1wb3J0IHsgRmlzaCB9IGZyb20gXCIuL0Zpc2hcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYXQgZXh0ZW5kcyBFbnRpdHkgaW1wbGVtZW50cyBJRW5hYmxlYWJsZSB7XHJcbiAgICBwcml2YXRlIF9zcGVlZDpudW1iZXI7XHJcbiAgICBwcml2YXRlIF9maXNoQ2F1Z2h0TXVsdGlwbGllcjpudW1iZXI7IC8vdGhpcyB3aWxsIGJlIHRoZSByYXRlIGF0IHdoaWNoIHRoZSBjYXQgc2xvd3MgZG93biB3aGVuIHJpc2luZyBwZXIgZmlzaFxyXG5cclxuICAgIHByaXZhdGUgX2NhdFlUd2VlbjpjcmVhdGVqcy5Ud2VlbjtcclxuICAgIHByaXZhdGUgX2NhdWdodEZpc2g6RmlzaFtdO1xyXG5cclxuICAgIHByaXZhdGUgX2lzR3JhYmJpbmc6Ym9vbGVhbjtcclxuICAgIHByaXZhdGUgX2lzUmlzaW5nOmJvb2xlYW47XHJcbiAgICBwcml2YXRlIF9oYXNSZWFjaGVkU3VyZmFjZTpib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGdhbWVTY3JlZW46R2FtZVNjcmVlbikge1xyXG4gICAgICAgIHN1cGVyKGdhbWVTY3JlZW4sIExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5DYXRfU3ByaXRlc2hlZXQpO1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMztcclxuICAgICAgICB0aGlzLl9maXNoQ2F1Z2h0TXVsdGlwbGllciA9IDAuMDU7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhdWdodEZpc2ggPSBbXTtcclxuICAgICAgICB0aGlzLl9pc0dyYWJiaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5faXNSaXNpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9oYXNSZWFjaGVkU3VyZmFjZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuX3Nwcml0ZS5nb3RvQW5kUGxheShDYXQuQU5JTUFUSU9OLklkbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIGVuYWJsZSgpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZSgpIHtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKioqKioqKioqKioqKiovXHJcbiAgICAvKiAgIEFDVElPTlMgICAqL1xyXG4gICAgLyoqKioqKioqKioqKioqKi9cclxuICAgIHB1YmxpYyBncmFiKCkge1xyXG4gICAgICAgIC8vY2Fubm90IGdyYWIgaWYgd2UgYXJlIG5vdCBhdCBzdXJmYWNlXHJcbiAgICAgICAgaWYoIXRoaXMuX2hhc1JlYWNoZWRTdXJmYWNlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuX2lzR3JhYmJpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2hhc1JlYWNoZWRTdXJmYWNlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vbW92ZSB0byB4IHBvc2l0aW9uXHJcbiAgICAgICAgdGhpcy5YID0gdGhpcy5HYW1lU2NyZWVuLkdhbWUuU3RhZ2UubW91c2VYO1xyXG5cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTVEFSVCBTUEVFRDpcIiwgdGhpcy5TcGVlZCk7XHJcblxyXG4gICAgICAgIC8vZ3JhYiB0byB5IHBvc2l0aW9uXHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSAodGhpcy5HYW1lU2NyZWVuLkdhbWUuU3RhZ2UubW91c2VZIC8gMikgKiB0aGlzLlNwZWVkO1xyXG4gICAgICAgIHRoaXMuX2NhdFlUd2VlbiA9IGNyZWF0ZWpzLlR3ZWVuXHJcbiAgICAgICAgICAgIC5nZXQodGhpcy5fc3ByaXRlKVxyXG4gICAgICAgICAgICAudG8oeyB5OnRoaXMuR2FtZVNjcmVlbi5HYW1lLlN0YWdlLm1vdXNlWSB9LCBzcGVlZCwgY3JlYXRlanMuRWFzZS5jaXJjSW4pXHJcbiAgICAgICAgICAgIC5jYWxsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vb25jZSB0aGUgZ3JhYiBpcyBkb25lLCB0dXJuIG9mZiBmbGFnXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0dyYWJiaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgIC8vcGxheSBhbmltYXRpb25zXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcHJpdGUuZ290b0FuZFBsYXkoQ2F0LkFOSU1BVElPTi5HcmFiKTtcclxuICAgICAgICAgICAgICAgIC8vbGlzdGVuIGZvciBhbmltYXRpb24gdG8gZmluaXNoXHJcbiAgICAgICAgICAgICAgICAodGhpcy5fc3ByaXRlIGFzIGFueSkub24oXCJhbmltYXRpb25lbmRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Nwcml0ZS5nb3RvQW5kUGxheShDYXQuQU5JTUFUSU9OLkhvbGQpO1xyXG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy90cnkgdG8gZ3JhYiBhIGZpc2hcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpc2hlcyA9IHRoaXMuR2FtZVNjcmVlbi50cnlUb0dyYWJGaXNoZXModGhpcy5YICwgdGhpcy5ZKTtcclxuICAgICAgICAgICAgICAgIC8vc2VlIGlmIGEgZmlzaCB3YXMgZ3JhYmJlZFxyXG4gICAgICAgICAgICAgICAgaWYoZmlzaGVzLmxlbmd0aCA+IDApIHRoaXMuY2F1Z2h0KGZpc2hlcyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMucmV0dXJuVG9TdXJmYWNlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCB0byByZXR1cm4gY2F0IHRvIHN1cmZhY2UuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZXR1cm5Ub1N1cmZhY2UoKSB7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLmdvdG9BbmRQbGF5KENhdC5BTklNQVRJT04uSWRsZSk7XHJcblxyXG4gICAgICAgIC8vcmVtb3ZlIGFueSBsaW5nZXJpbmcgdHdlZW5zXHJcbiAgICAgICAgY3JlYXRlanMuVHdlZW4ucmVtb3ZlVHdlZW5zKHRoaXMuX3Nwcml0ZSk7XHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSAodGhpcy5ZIC8gMikgKiB0aGlzLlNwZWVkO1xyXG4gICAgICAgIHRoaXMuX2NhdFlUd2VlbiA9IGNyZWF0ZWpzLlR3ZWVuLmdldCh0aGlzLl9zcHJpdGUpXHJcbiAgICAgICAgICAgIC53YWl0KDE1MClcclxuICAgICAgICAgICAgLnRvKHt5OjIwfSwgc3BlZWQsIGNyZWF0ZWpzLkVhc2UubGluZWFyKVxyXG4gICAgICAgICAgICAuY2FsbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL29uY2UgdGhlIHN1cmZhY2UgaGFzIGJlZW4gcmVhY2hlZCwgYWxsb3cgeCBtb3ZlbWVudCBhZ2FpblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFjaFN1cmZhY2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhdWdodChmaXNoZXM6RmlzaFtdKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJJIENBVUdIVFwiKTtcclxuICAgICAgICBpZihmaXNoZXMubGVuZ3RoIDw9IDApIHJldHVybjtcclxuICAgICAgICB0aGlzLl9pc1Jpc2luZyA9IHRydWU7ICBcclxuICAgICAgICBcclxuICAgICAgICBsZXQgaGFzTmV3RmlzaCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBmaXNoZXMuZm9yRWFjaChmID0+IHtcclxuICAgICAgICAgICAgaWYodGhpcy5fY2F1Z2h0RmlzaC5pbmRleE9mKGYpICE9IC0xKSByZXR1cm47XHJcbiAgICAgICAgICAgIGhhc05ld0Zpc2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAvL2dyYWIgdGhlIGZpc2hcclxuICAgICAgICAgICAgZi5jYXRjaCgpO1xyXG5cclxuICAgICAgICAgICAgLy9hZGQgZmlzaCB0byBjYXVnaHQgYXJyYXlcclxuICAgICAgICAgICAgdGhpcy5fY2F1Z2h0RmlzaC5wdXNoKGYpO1xyXG5cclxuICAgICAgICAgICAgLy9jb250cm9sIHRoZSBmaXNoXHJcbiAgICAgICAgICAgIGYuWSA9IHRoaXMuWTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkkgV0FTIENBVUdIVCwgTk9XIFJJU0lOR1wiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkZJU0ggQ0FVR0hUIFNQRUVEOlwiLCB0aGlzLlNwZWVkKTtcclxuXHJcbiAgICAgICAgaWYoIWhhc05ld0Zpc2gpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICAvL2lmIHdlIGdyYWJiZWQgYSBmaXNoLi4uXHJcbiAgICAgICAgLy9nbyBiYWNrIHVwLi4uIHNsb3dseVxyXG4gICAgICAgIGNyZWF0ZWpzLlR3ZWVuLnJlbW92ZVR3ZWVucyh0aGlzLl9zcHJpdGUpO1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gdGhpcy5ZICogdGhpcy5TcGVlZDtcclxuICAgICAgICB0aGlzLl9jYXRZVHdlZW4gPSBjcmVhdGVqcy5Ud2Vlbi5nZXQodGhpcy5fc3ByaXRlKVxyXG4gICAgICAgICAgICAud2FpdCgyNTApXHJcbiAgICAgICAgICAgIC50byh7eTotMjB9LCBzcGVlZCwgY3JlYXRlanMuRWFzZS5saW5lYXIpXHJcbiAgICAgICAgICAgIC5jYWxsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vb25jZSB0aGUgc3VyZmFjZSBoYXMgYmVlbiByZWFjaGVkLCBhbGxvdyB4IG1vdmVtZW50IGFnYWluXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWNoU3VyZmFjZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNSaXNpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG4gICAgcHVibGljIGRyb3AoKSB7XHJcbiAgICAgICAgLy9yZWxlYXNlIHRoZSBmaXNoXHJcbiAgICAgICAgLy8gdGhpcy5fY2F1Z2h0RmlzaC5kcm9wcGVkKCk7XHJcbiAgICAgICAgdGhpcy5fY2F1Z2h0RmlzaCA9IFtdO1xyXG4gICAgICAgIC8vcmV0dXJuIHF1aWNrbHlcclxuICAgICAgICB0aGlzLnJldHVyblRvU3VyZmFjZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKkNhbGxlZCB3aGVuIGhpdCBieSBhbiBlbmVteS4gKi9cclxuICAgIHB1YmxpYyBpbmp1cmUoZW5lbXkpIHtcclxuICAgICAgICAvL3N0YXJ0IGh1cnQgYW5pbWF0aW9uXHJcbiAgICAgICAgLy9lbmQgYW55IGN1cnJlbnQgdHdlZW5pbmdcclxuICAgICAgICBjcmVhdGVqcy5Ud2Vlbi5yZW1vdmVUd2VlbnModGhpcy5fc3ByaXRlKTtcclxuICAgICAgICB0aGlzLl9zcHJpdGUuZ290b0FuZFBsYXkoQ2F0LkFOSU1BVElPTi5Pdyk7XHJcbiAgICAgICAgdGhpcy5fY2F0WVR3ZWVuID0gY3JlYXRlanMuVHdlZW4uZ2V0KHRoaXMuX3Nwcml0ZSlcclxuICAgICAgICAgICAgLndhaXQoMzApXHJcbiAgICAgICAgICAgIC50byh7eToyMH0sIDEwMDAsIGNyZWF0ZWpzLkVhc2UubGluZWFyKVxyXG4gICAgICAgICAgICAuY2FsbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL29uY2UgdGhlIHN1cmZhY2UgaGFzIGJlZW4gcmVhY2hlZCwgYWxsb3cgeCBtb3ZlbWVudCBhZ2FpblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFjaFN1cmZhY2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Nwcml0ZS5nb3RvQW5kUGxheShDYXQuQU5JTUFUSU9OLklkbGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhY2hTdXJmYWNlKCkge1xyXG4gICAgICAgIC8vaWYgd2UgaGF2ZSBhIGZpc2gsIHNlbmQgdG8gbWFpbiBsb2dpY1xyXG4gICAgICAgIGlmKHRoaXMuX2NhdWdodEZpc2ggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYXVnaHRGaXNoLmZvckVhY2goZiA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkdhbWVTY3JlZW4uY29sbGVjdEZpc2goZik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9jYXVnaHRGaXNoID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9oYXNSZWFjaGVkU3VyZmFjZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBPVkVSUklERVMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICB1cGRhdGUoZ2FtZVRpbWU6bnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlKGdhbWVUaW1lKTtcclxuXHJcblxyXG4gICAgICAgIC8vaWYgd2UgYXJlIHJpc2luZywgYXR0ZW1wdCB0byBjYXRjaCBtb3JlIGZpc2hcclxuICAgICAgICBpZih0aGlzLl9pc1Jpc2luZykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRSWSBUTyBHUkFCXCIpO1xyXG4gICAgICAgICAgICAvL3RyeSB0byBncmFiIGEgZmlzaFxyXG4gICAgICAgICAgICBjb25zdCBmaXNoZXMgPSB0aGlzLkdhbWVTY3JlZW4udHJ5VG9HcmFiRmlzaGVzKHRoaXMuWCAsIHRoaXMuWSk7XHJcbiAgICAgICAgICAgIC8vc2VlIGlmIGEgZmlzaCB3YXMgZ3JhYmJlZFxyXG4gICAgICAgICAgICBpZihmaXNoZXMubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgIHRoaXMuY2F1Z2h0KGZpc2hlcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2RyYWcgZmlzaCB3aXRoIHVzIGlmIHdlIGhhdmUgYW55XHJcbiAgICAgICAgaWYodGhpcy5fY2F1Z2h0RmlzaCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhdWdodEZpc2guZm9yRWFjaChmID0+IHtcclxuICAgICAgICAgICAgICAgIGYuWSA9IHRoaXMuWSAtIDIwO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBHRVRURVJTICYgU0VUVEVSUyAtLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBHUkFCX1JBTkdFKCkgeyByZXR1cm4gMTIwOyB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBBTklNQVRJT04oKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBcIklkbGVcIiA6IFwiY2F0X2lkbGVcIixcclxuICAgICAgICAgICAgXCJEZWF0aFwiIDogXCJjYXRfZGVhdGhcIixcclxuICAgICAgICAgICAgXCJHcmFiXCIgOiBcImNhdF9ncmFiXCIsXHJcbiAgICAgICAgICAgIFwiSG9sZFwiIDogXCJjYXRfZ3JhYl9ob2xkXCIsXHJcbiAgICAgICAgICAgIFwiT3dcIiA6IFwiY2F0X293XCJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgU3BlZWQoKSB7IFxyXG4gICAgICAgIGNvbnN0IGNhdWdodEZpc2hNdWx0ID0gKCh0aGlzLl9jYXVnaHRGaXNoLmxlbmd0aCA+IDApID8gMSArICh0aGlzLl9jYXVnaHRGaXNoLmxlbmd0aCArIHRoaXMuX2Zpc2hDYXVnaHRNdWx0aXBsaWVyKSA6IDEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGNhdWdodEZpc2hNdWx0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNhdWdodEZpc2hNdWx0ICogdGhpcy5fc3BlZWQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IFNwZWVkKHZhbHVlOm51bWJlcikgeyB0aGlzLl9zcGVlZCA9IHZhbHVlOyB9XHJcbn0iLCJpbXBvcnQgeyBJQ3JlYXRlYWJsZSwgSVVwZGF0ZWFibGUgfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xyXG5pbXBvcnQgeyBHYW1lU2NyZWVuIH0gZnJvbSBcIi4uL3NjcmVlbnMvR2FtZVNjcmVlblwiO1xyXG5pbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4uL0dhbWVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFbnRpdHkgaW1wbGVtZW50cyBJQ3JlYXRlYWJsZTxFbnRpdHk+LCBJVXBkYXRlYWJsZSB7XHJcbiAgICBwcml2YXRlIF9nYW1lU2NyZWVuOkdhbWVTY3JlZW47XHJcbiAgICBwcm90ZWN0ZWQgX25hbWU6c3RyaW5nO1xyXG4gICAgcHJvdGVjdGVkIF9zcHJpdGU6Y3JlYXRlanMuU3ByaXRlO1xyXG4gICAgcHJvdGVjdGVkIF9kaXJlY3Rpb246eyB4Om51bWJlciwgeTpudW1iZXIgfTtcclxuICAgIHByaXZhdGUgX3NjYWxpbmc6bnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgX2lzSWdub3JpbmdDb2xsaXNpb246Ym9vbGVhbjtcclxuICAgIHByaXZhdGUgX2lnbm9yZUNvbGxpc2lvblRpbWVyOm51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lU2NyZWVuOkdhbWVTY3JlZW4sIHNwcml0ZXNoZWV0OmNyZWF0ZWpzLlNwcml0ZVNoZWV0KSB7XHJcbiAgICAgICAgdGhpcy5fZ2FtZVNjcmVlbiA9IGdhbWVTY3JlZW47XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlID0gbmV3IGNyZWF0ZWpzLlNwcml0ZShzcHJpdGVzaGVldCk7XHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0geyB4OjEsIHk6MSB9O1xyXG5cclxuICAgICAgICB0aGlzLl9pc0lnbm9yaW5nQ29sbGlzaW9uID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5faWdub3JlQ29sbGlzaW9uVGltZXIgPSAwO1xyXG5cclxuICAgICAgICAvL2dldCB0aGUgZ2FtZSBzY2FsZVxyXG4gICAgICAgIHRoaXMuX3NjYWxpbmcgPSB0aGlzLl9nYW1lU2NyZWVuLkdhbWUuU2NhbGluZztcclxuICAgIH1cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgY3JlYXRlKGNvbnRhaW5lcjpjcmVhdGVqcy5Db250YWluZXIpOkVudGl0eSB7XHJcbiAgICAgICAgKHRoaXMuX3Nwcml0ZSBhcyBhbnkpLnNjYWxlID0gdGhpcy5fc2NhbGluZztcclxuICAgICAgICAvL21vdmUgdG8gbWFpbiBjb250YWluZXJcclxuICAgICAgICBpZihjb250YWluZXIgPT0gbnVsbClcclxuICAgICAgICAgICAgdGhpcy5fZ2FtZVNjcmVlbi5HYW1lLlN0YWdlLmFkZENoaWxkKHRoaXMuX3Nwcml0ZSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGhpcy5fc3ByaXRlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzdHJveSgpOkVudGl0eSB7XHJcbiAgICAgICAgaWYodGhpcy5fc3ByaXRlID09IG51bGwgfHwgdGhpcy5fc3ByaXRlLnBhcmVudCA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgLy9yZW1vdmUgZnJvbSBtYWluIGNvbnRhaW5lclxyXG4gICAgICAgIHRoaXMuX3Nwcml0ZS5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5fc3ByaXRlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZShnYW1lVGltZTpudW1iZXIpIHtcclxuXHJcbiAgICAgICAgIC8vbGlzdGVuIGZvciBjb2xsaXNpb24gaWdub3JlXHJcbiAgICAgICAgaWYodGhpcy5faXNJZ25vcmluZ0NvbGxpc2lvbikge1xyXG4gICAgICAgICAgICB0aGlzLl9pZ25vcmVDb2xsaXNpb25UaW1lcisrO1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5faWdub3JlQ29sbGlzaW9uVGltZXIgPiBFbnRpdHkuSUdOT1JFX0NPTExJU0lPTilcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzSWdub3JpbmdDb2xsaXNpb24gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN0YXJ0SWdub3JlQ29sbGlzaW9uKCkge1xyXG4gICAgICAgIHRoaXMuX2lzSWdub3JpbmdDb2xsaXNpb24gPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHRlc3RTdGFnZUJvdW5kcyhhcnRpZmljaWFsUmVnOnt4Om51bWJlciwgeTpudW1iZXJ9ID0gbnVsbCkge1xyXG4gICAgICAgIGxldCByZWcgPSB7IHg6dGhpcy5fc3ByaXRlLnJlZ1gsIHk6dGhpcy5fc3ByaXRlLnJlZ1kgfTtcclxuICAgICAgICBpZihhcnRpZmljaWFsUmVnICE9IG51bGwpIHtcclxuICAgICAgICAgICAgcmVnID0ge1xyXG4gICAgICAgICAgICAgICAgeDogKHRoaXMuX2RpcmVjdGlvbi54ID4gMCkgPyB0aGlzLkJvdW5kcy5XaWR0aCAqIGFydGlmaWNpYWxSZWcueCA6ICh0aGlzLkJvdW5kcy5XaWR0aCAqICgxIC0gYXJ0aWZpY2lhbFJlZy54KSksXHJcbiAgICAgICAgICAgICAgICB5OiAodGhpcy5fZGlyZWN0aW9uLnkgPiAwKSA/IHRoaXMuQm91bmRzLkhlaWdodCAqIGFydGlmaWNpYWxSZWcueSA6ICh0aGlzLkJvdW5kcy5IZWlnaHQgKiAoMSAtIGFydGlmaWNpYWxSZWcueSkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29uc3QgYm91bmRzID0geyB3aWR0aDp0aGlzLl9nYW1lLlN0YWdlV2lkdGgsIGhlaWdodDogdGhpcy5fZ2FtZS5TdGFnZUhlaWdodCB9O1xyXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHsgd2lkdGg6dGhpcy5fZ2FtZVNjcmVlbi5HYW1lLlN0YWdlV2lkdGgsIGhlaWdodDogdGhpcy5fZ2FtZVNjcmVlbi5HYW1lLlN0YWdlSGVpZ2h0IH07XHJcbiAgICAgICAgY29uc3QgZXh0ZW50cyA9IHsgICBcclxuICAgICAgICAgICAgeDoodGhpcy5fZGlyZWN0aW9uLnggPiAwKSA/ICh0aGlzLkJvdW5kcy5XaWR0aCAtIHJlZy54KSA6IC1yZWcueCwgXHJcbiAgICAgICAgICAgIHk6KHRoaXMuX2RpcmVjdGlvbi55ID4gMCkgPyAodGhpcy5Cb3VuZHMuSGVpZ2h0IC0gcmVnLnkpIDogLXJlZy55IFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vdGVzdCB3YWxsc1xyXG4gICAgICAgIGlmKCh0aGlzLlggKyBleHRlbnRzLngpID4gYm91bmRzLndpZHRoKSByZXR1cm4gRW50aXR5LkhJVC5SaWdodDtcclxuICAgICAgICBlbHNlIGlmKHRoaXMuWCArIGV4dGVudHMueCA8IDApIHJldHVybiBFbnRpdHkuSElULkxlZnQ7XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBPVkVSUklERVMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBHRVRURVJTICYgU0VUVEVSUyAtLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBJR05PUkVfQ09MTElTSU9OKCkgeyByZXR1cm4gMjA7IH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEhJVCgpIHsgcmV0dXJuIE9iamVjdC5mcmVlemUoe1RvcDowLCBSaWdodDoxLCBCb3R0b206MiwgTGVmdDozfSk7IH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0IEdhbWVTY3JlZW4oKSB7IHJldHVybiB0aGlzLl9nYW1lU2NyZWVuOyB9XHJcblxyXG4gICAgcHVibGljIGdldCBTcHJpdGUoKSB7IHJldHVybiB0aGlzLl9zcHJpdGU7IH1cclxuICAgIHB1YmxpYyBnZXQgUGFyZW50KCkgeyByZXR1cm4gdGhpcy5fc3ByaXRlLnBhcmVudDsgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgWCgpIHsgcmV0dXJuIHRoaXMuX3Nwcml0ZS54OyB9XHJcbiAgICBwdWJsaWMgc2V0IFgodmFsdWUpIHsgdGhpcy5fc3ByaXRlLnggPSB2YWx1ZTsgfVxyXG4gICAgcHVibGljIGdldCBZKCkgeyByZXR1cm4gdGhpcy5fc3ByaXRlLnk7IH1cclxuICAgIHB1YmxpYyBzZXQgWSh2YWx1ZSkgeyB0aGlzLl9zcHJpdGUueSA9IHZhbHVlOyB9XHJcblxyXG4gICAgcHVibGljIHNldCBEaXJlY3Rpb25YKHZhbHVlKSB7IFxyXG4gICAgICAgIGNvbnN0IGxhc3RYID0gdGhpcy5fZGlyZWN0aW9uLng7XHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uLnggPSB2YWx1ZTsgXHJcbiAgICAgICAgLy9mbGlwIHNwcml0ZSBpZiBvdXIgZGlyZWN0aW9uIGhhcyBjaGFuZ2VkXHJcbiAgICAgICAgaWYodGhpcy5fZGlyZWN0aW9uLnggIT0gbGFzdFgpIHRoaXMuX3Nwcml0ZS5zY2FsZVggKj0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBCb3VuZHMoKSB7IFxyXG4gICAgICAgIGxldCBib3VuZHMgPSB0aGlzLl9zcHJpdGUuZ2V0Qm91bmRzKCk7XHJcbiAgICAgICAgcmV0dXJuICB7IFdpZHRoOmJvdW5kcy53aWR0aCwgSGVpZ2h0OmJvdW5kcy5oZWlnaHQgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IElzSWdub3JpbmdDb2xsaXNpb24oKSB7IHJldHVybiB0aGlzLl9pc0lnbm9yaW5nQ29sbGlzaW9uOyB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4uL0dhbWVcIjtcclxuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vRW50aXR5XCI7XHJcbmltcG9ydCB7IExvYWRNYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL0xvYWRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IElFbmFibGVhYmxlIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcclxuaW1wb3J0IHsgTG9nZ2luZyB9IGZyb20gXCIuLi9GdW5jdGlvbnNcIjtcclxuaW1wb3J0IHsgR2FtZVNjcmVlbiB9IGZyb20gXCIuLi9zY3JlZW5zL0dhbWVTY3JlZW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGaXNoIGV4dGVuZHMgRW50aXR5IGltcGxlbWVudHMgSUVuYWJsZWFibGUge1xyXG4gICAgcHJpdmF0ZSBfc3BlZWQ6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfbmF0dXJhbFk6bnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgX2lzQ2F1Z2h0OmJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ2FtZVNjcmVlbjpHYW1lU2NyZWVuKSB7XHJcbiAgICAgICAgc3VwZXIoZ2FtZVNjcmVlbiwgTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLkZpc2hfU3ByaXRlc2hlZXQpO1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMTtcclxuXHJcbiAgICAgICAgdGhpcy5faXNDYXVnaHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLmdvdG9BbmRQbGF5KEZpc2guQU5JTUFUSU9OLlNsb3cpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIFxyXG5cclxuXHJcbiAgICAvKioqKioqKioqKioqKioqL1xyXG4gICAgLyogICBBQ1RJT05TICAgKi9cclxuICAgIC8qKioqKioqKioqKioqKiovXHJcbiAgICBwdWJsaWMgc2V0TmF0dXJhbFkoKSB7XHJcbiAgICAgICAgdGhpcy5fbmF0dXJhbFkgPSB0aGlzLlk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhdGNoKCkge1xyXG4gICAgICAgIGlmKHRoaXMuX2lzQ2F1Z2h0KSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgTG9nZ2luZy5tZXNzYWdlKFwiRmlzaCB3YXMgZ3JhYmJlZCFcIik7XHJcbiAgICAgICAgdGhpcy5faXNDYXVnaHQgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLl9zcHJpdGUuZ290b0FuZFBsYXkoRmlzaC5BTklNQVRJT04uUGFuaWMpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipUZXN0IHRvIHNlZSBpZiBnbG9iYWwgcG9zaXRpb24gaGl0cyBzcHJpdGUuICovXHJcbiAgICBwdWJsaWMgdGVzdEhpdCh4Om51bWJlciwgeTpudW1iZXIpOmJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zcHJpdGUuaGl0VGVzdCh4LCB5KTtcclxuICAgIH1cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEFCU1RSQUNUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEVWRU5UUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE9WRVJSSURFUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5kaXNhYmxlKCk7XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLmRlc3Ryb3koKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZ2FtZVRpbWU6bnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlKGdhbWVUaW1lKTtcclxuXHJcbiAgICAgICAgLy9tb3ZlIHRoZSBmaXNoeVxyXG4gICAgICAgIGlmKCF0aGlzLl9pc0NhdWdodClcclxuICAgICAgICAgICAgdGhpcy5YICs9IHRoaXMuX3NwZWVkICogZ2FtZVRpbWUgKiB0aGlzLl9kaXJlY3Rpb24ueDtcclxuXHJcbiAgICAgICAgLy90ZXN0IGNvbGxpc2lvblxyXG4gICAgICAgIGlmKCF0aGlzLklzSWdub3JpbmdDb2xsaXNpb24pIHtcclxuXHJcbiAgICAgICAgICAgIC8vaWYgZmlzaCBoaXRzIHRoZSBlZGdlLCBmbGlwIGRpcmVjdGlvblxyXG4gICAgICAgICAgICBjb25zdCBoaXQgPSB0aGlzLnRlc3RTdGFnZUJvdW5kcyh7eDowLjUsIHk6MC41fSk7XHJcbiAgICAgICAgICAgIHN3aXRjaChoaXQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgRW50aXR5LkhJVC5SaWdodDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24ueCAqPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zcHJpdGUuc2NhbGVYICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRJZ25vcmVDb2xsaXNpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlggLT0gNSAtIHRoaXMuQm91bmRzLldpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBFbnRpdHkuSElULkxlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uLnggKj0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3ByaXRlLnNjYWxlWCAqPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0SWdub3JlQ29sbGlzaW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5YICs9IDUgLSB0aGlzLkJvdW5kcy5XaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZW5hYmxlKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkaXNhYmxlKCkge1xyXG5cclxuICAgIH1cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEdFVFRFUlMgJiBTRVRURVJTIC0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEFOSU1BVElPTigpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIFwiU2xvd1wiIDogXCJmaXNoX3N3aW1fc2xvd1wiLFxyXG4gICAgICAgICAgICBcIkZhc3RcIiA6IFwiZmlzaF9zd2ltX2Zhc3RcIixcclxuICAgICAgICAgICAgXCJQYW5pY1wiIDogXCJmaXNoX3N3aW1fcGFuaWNcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBTcGVlZCgpIHsgcmV0dXJuIHRoaXMuX3NwZWVkOyB9XHJcbiAgICBwdWJsaWMgc2V0IFNwZWVkKHZhbHVlOm51bWJlcikgeyB0aGlzLl9zcGVlZCA9IHZhbHVlOyB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vR2FtZVwiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgZ2FtZSA9IG5ldyBHYW1lKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZS1jYW52YXNcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQpO1xyXG59KTsiLCJpbXBvcnQgeyBTY3JlZW4gfSBmcm9tIFwiLi4vc2NyZWVucy9TY3JlZW5cIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV29ybGRzRGF0YSB7XHJcbiAgICB3b3JsZHM6TGV2ZWxEYXRhW107XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTGV2ZWxEYXRhIHtcclxuICAgIG5hbWU6c3RyaW5nO1xyXG4gICAgZGF0YTphbnlbXTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERhdGFNYW5hZ2VyIHtcclxuICAgIHByaXZhdGUgc3RhdGljIF93b3JsZHNEYXRhOldvcmxkc0RhdGE7XHJcblxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qKkxvYWRzIGluIHRoZSB3b3JsZHMgZGF0YSEgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZFdvcmxkc0RhdGEoZmlsZUxvY2F0aW9uOnN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxXb3JsZHNEYXRhPihhc3luYyhyZXMsIHJlaikgPT4ge1xyXG4gICAgICAgICAgICBhd2FpdCBmZXRjaChmaWxlTG9jYXRpb24pXHJcbiAgICAgICAgICAgICAgICAudGhlbihibG9iID0+IGJsb2IuanNvbigpKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fd29ybGRzRGF0YSA9IGpzb247XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzKHRoaXMuX3dvcmxkc0RhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlaihcIkNvdWxkIG5vdCBsb2FkIHdvcmxkIGRhdGEhIFwiICsgZXJyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlJldHVybnMgdGhlIGxldmVsIGRhdGEgcmVjZWl2ZWQgYnkgdGhlIGdpdmVuIGluZGV4LiAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRMZXZlbERhdGFCeUluZGV4KGluZGV4Om51bWJlcikge1xyXG4gICAgICAgIC8vZmxhdHRlbiBsZXZlbCBkYXRhLCBhbmQgZ2V0IGRhdGFcclxuICAgICAgICBsZXQgZmxhdHRlbiA9IFtdLmNvbmNhdC5hcHBseShbXSwgRGF0YU1hbmFnZXIuX3dvcmxkc0RhdGEud29ybGRzKTtcclxuICAgICAgICByZXR1cm4gZmxhdHRlbltpbmRleF07XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBPVkVSUklERVMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBHRVRURVJTICYgU0VUVEVSUyAtLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBXb3JsZHNEYXRhKCk6V29ybGRzRGF0YSB7IHJldHVybiBEYXRhTWFuYWdlci5fd29ybGRzRGF0YTsgfVxyXG59IiwiZXhwb3J0IGNsYXNzIExvYWRNYW5hZ2VyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEFTU0VUU19MT0FERUQoKTpzdHJpbmcgeyByZXR1cm4gXCJvbkFzc2V0c0xvYWRlZFwiOyB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBBU1NFVFNfRkFJTEVEKCk6c3RyaW5nIHsgcmV0dXJuIFwib25Bc3NldHNGYWlsZWRcIjsgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgQVNTRVRTX1VQREFURUQoKTpzdHJpbmcgeyByZXR1cm4gXCJvbkFzc2V0c1VwZGF0ZWRcIjsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU3ByaXRlc2hlZXRzOnsgW2tleTpzdHJpbmddOmNyZWF0ZWpzLlNwcml0ZVNoZWV0IH0gPSB7fTtcclxuICAgIHB1YmxpYyBzdGF0aWMgSW1hZ2VzOnsgW2tleTpzdHJpbmddOmNyZWF0ZWpzLkJpdG1hcCB9ID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3N0YWdlOmNyZWF0ZWpzLlN0YWdlR0w7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfcHJlbG9hZE1hbmFnZXI6Y3JlYXRlanMuTG9hZFF1ZXVlO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3NoZWV0c1RvdGFsOm51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfc2hlZXRzTG9hZGVkOm51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3BlcmNlbnRhZ2U6bnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgc3RhdGljIF90b3RhbEFzc2V0c0xvYWRlZDpudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3RvdGFsQXNzZXRzOm51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgQXNzZXRzTG9hZGVkRXZlbnQ6YW55ID0gbmV3IChjcmVhdGVqcyBhcyBhbnkpLkV2ZW50KExvYWRNYW5hZ2VyLkFTU0VUU19MT0FERUQsIGZhbHNlLCB0cnVlKTtcclxuICAgIHByaXZhdGUgc3RhdGljIEFzc2V0c0ZhaWxlZEV2ZW50OmFueSA9IG5ldyAoY3JlYXRlanMgYXMgYW55KS5FdmVudChMb2FkTWFuYWdlci5BU1NFVFNfRkFJTEVELCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBBc3NldHNVcGRhdGVkRXZlbnQ6YW55ID0gbmV3IChjcmVhdGVqcyBhcyBhbnkpLkV2ZW50KExvYWRNYW5hZ2VyLkFTU0VUU19VUERBVEVELCBmYWxzZSwgdHJ1ZSk7XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIHN0YXRpYyByZXNldCgpIHtcclxuICAgICAgICBMb2FkTWFuYWdlci5fc2hlZXRzVG90YWwgPSAwO1xyXG4gICAgICAgIExvYWRNYW5hZ2VyLl9zaGVldHNMb2FkZWQgPSAwO1xyXG5cclxuICAgICAgICBMb2FkTWFuYWdlci5fcGVyY2VudGFnZSA9IDA7XHJcbiAgICAgICAgTG9hZE1hbmFnZXIuX3RvdGFsQXNzZXRzTG9hZGVkID0gMDtcclxuICAgICAgICBMb2FkTWFuYWdlci5fdG90YWxBc3NldHMgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZEFzc2V0cyhzcmM6c3RyaW5nLCBzdGFnZTpjcmVhdGVqcy5TdGFnZUdMKSB7XHJcbiAgICAgICAgTG9hZE1hbmFnZXIucmVzZXQoKTtcclxuICAgICAgICBMb2FkTWFuYWdlci5fc3RhZ2UgPSBzdGFnZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHJlcywgcmVqKSA9PiB7XHJcbiAgICAgICAgICAgIExvYWRNYW5hZ2VyLl9wcmVsb2FkTWFuYWdlciA9IG5ldyBjcmVhdGVqcy5Mb2FkUXVldWUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vc2V0dXAgc291bmQgY29udHJvbGxlcnNcclxuICAgICAgICAgICAgY3JlYXRlanMuU291bmQucmVnaXN0ZXJQbHVnaW5zKFtjcmVhdGVqcy5XZWJBdWRpb1BsdWdpbiwgY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLCBjcmVhdGVqcy5GbGFzaEF1ZGlvUGx1Z2luXSk7XHJcbiAgICAgICAgICAgIGNyZWF0ZWpzLlNvdW5kLmFsdGVybmF0ZUV4dGVuc2lvbnMgPSBbXCJtcDNcIixcIndhdlwiXTtcclxuICAgICAgICAgICAgTG9hZE1hbmFnZXIuX3ByZWxvYWRNYW5hZ2VyLmluc3RhbGxQbHVnaW4oY3JlYXRlanMuU291bmQpO1xyXG5cclxuICAgICAgICAgICAgLy9zZXR1cCBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgKExvYWRNYW5hZ2VyLl9wcmVsb2FkTWFuYWdlciBhcyBhbnkpLm9uKFwiZmlsZWxvYWRcIiwgTG9hZE1hbmFnZXIuX29uTG9hZGVkLCBMb2FkTWFuYWdlcik7XHJcbiAgICAgICAgICAgIChMb2FkTWFuYWdlci5fcHJlbG9hZE1hbmFnZXIgYXMgYW55KS5vbihcImNvbXBsZXRlXCIsIExvYWRNYW5hZ2VyLl9vbkNvbXBsZXRlLCBMb2FkTWFuYWdlcik7XHJcbiAgICAgICAgICAgIChMb2FkTWFuYWdlci5fcHJlbG9hZE1hbmFnZXIgYXMgYW55KS5vbihcImVycm9yXCIsIExvYWRNYW5hZ2VyLl9vbkVycm9yLCBMb2FkTWFuYWdlcik7XHJcblxyXG4gICAgICAgICAgICAvL2dldCB0aGUgbWFuaWZlc3RcclxuICAgICAgICAgICAgZmV0Y2goc3JjKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oYmxvYiA9PiBibG9iLmpzb24oKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbG9hZCB0aGUgbWFuaWZlc3RcclxuICAgICAgICAgICAgICAgICAgICBMb2FkTWFuYWdlci5fcHJlbG9hZE1hbmFnZXIuc2V0TWF4Q29ubmVjdGlvbnMoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgTG9hZE1hbmFnZXIuX3ByZWxvYWRNYW5hZ2VyLmxvYWRNYW5pZmVzdChkYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgKExvYWRNYW5hZ2VyLl9zdGFnZSBhcyBhbnkpLmFkZEV2ZW50TGlzdGVuZXIoTG9hZE1hbmFnZXIuQVNTRVRTX0xPQURFRCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIExvYWRNYW5hZ2VyLmVtaXRFcnJvckV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqKFwiQ291bGQgbm90IGxvYWQgYXNzZXRzIVwiKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGVtaXRMb2FkZWRFdmVudCgpIHtcclxuICAgICAgICBpZihMb2FkTWFuYWdlci5fc3RhZ2UgIT0gbnVsbCkgKExvYWRNYW5hZ2VyLl9zdGFnZSBhcyBhbnkpLmRpc3BhdGNoRXZlbnQoTG9hZE1hbmFnZXIuQXNzZXRzTG9hZGVkRXZlbnQpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBlbWl0RXJyb3JFdmVudCgpIHtcclxuICAgICAgICBpZihMb2FkTWFuYWdlci5fc3RhZ2UgIT0gbnVsbCkgKExvYWRNYW5hZ2VyLl9zdGFnZSBhcyBhbnkpLmRpc3BhdGNoRXZlbnQoTG9hZE1hbmFnZXIuQXNzZXRzRmFpbGVkRXZlbnQpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBlbWl0VXBkYXRlZEV2ZW50KCkge1xyXG4gICAgICAgIExvYWRNYW5hZ2VyLl9wZXJjZW50YWdlID0gcGFyc2VGbG9hdCgoTG9hZE1hbmFnZXIuX3ByZWxvYWRNYW5hZ2VyLmdldEl0ZW1zKHRydWUpLmxlbmd0aCAvIExvYWRNYW5hZ2VyLl9wcmVsb2FkTWFuYWdlci5nZXRJdGVtcyhmYWxzZSkubGVuZ3RoKS50b0ZpeGVkKDIpKTtcclxuICAgICAgICBpZihMb2FkTWFuYWdlci5fc3RhZ2UgIT0gbnVsbCkgKExvYWRNYW5hZ2VyLl9zdGFnZSBhcyBhbnkpLmRpc3BhdGNoRXZlbnQoTG9hZE1hbmFnZXIuQXNzZXRzVXBkYXRlZEV2ZW50KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2xvYWRlZFNoZWV0KG5hbWU6c3RyaW5nLCBzaGVldDpjcmVhdGVqcy5TcHJpdGVTaGVldCkge1xyXG4gICAgICAgIExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0c1tuYW1lXSA9IHNoZWV0O1xyXG5cclxuICAgICAgICBMb2FkTWFuYWdlci5fc2hlZXRzTG9hZGVkKys7XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfb25Mb2FkZWQoZSkge1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcImFzc2V0IGxvYWRlZDogXCIgKyBlLml0ZW0uc3JjICsgXCIgdHlwZTogXCIgKyBlLml0ZW0udHlwZSk7XHJcblxyXG4gICAgICAgIHN3aXRjaChlLml0ZW0udHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIChjcmVhdGVqcyBhcyBhbnkpLlR5cGVzLkpBVkFTQ1JJUFQ6IHtcclxuICAgICAgICAgICAgICAgIC8vbG9hZCB0aGUgc3ByaXRlc2hlZXRcclxuICAgICAgICAgICAgICAgIExvYWRNYW5hZ2VyLl9zaGVldHNUb3RhbCsrO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaGVldCA9ICh3aW5kb3dbZS5pdGVtLmlkXSBhcyBhbnkpLl9TcHJpdGVTaGVldDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBsaXN0ZW4gZm9yIHNwcml0ZXNoZWV0IHRvIGxvYWRcclxuICAgICAgICAgICAgICAgIGlmKCFzaGVldC5jb21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNoZWV0Lm9uKFwiY29tcGxldGVcIiwgKGV2OmFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBMb2FkTWFuYWdlci5fbG9hZGVkU2hlZXQoZS5pdGVtLmlkLCBzaGVldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIExvYWRNYW5hZ2VyLl9sb2FkZWRTaGVldChlLml0ZW0uaWQsIHNoZWV0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAoY3JlYXRlanMgYXMgYW55KS5UeXBlcy5JTUFHRToge1xyXG4gICAgICAgICAgICAgICAgLy9idWlsZCB0aGUgYml0bWFwXHJcbiAgICAgICAgICAgICAgICBMb2FkTWFuYWdlci5JbWFnZXNbZS5pdGVtLmlkXSA9IG5ldyBjcmVhdGVqcy5CaXRtYXAoZS5pdGVtLnNyYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy91cGRhdGUgZXZlbnRcclxuICAgICAgICBMb2FkTWFuYWdlci5lbWl0VXBkYXRlZEV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX29uQ29tcGxldGUoZSkge1xyXG4gICAgICAgIC8vcmVtb3ZlIGFsbCBwcmVMb2FkTWFuYWdlciBldmVudHNcclxuICAgICAgICAoTG9hZE1hbmFnZXIuX3ByZWxvYWRNYW5hZ2VyIGFzIGFueSkucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICBcclxuICAgICAgICAvL21ha2Ugc3VyZSBhbGwgc3ByaXRlc2hlZXRzIGFyZSBsb2FkZWRcclxuICAgICAgICBpZihMb2FkTWFuYWdlci5fc2hlZXRzTG9hZGVkIDwgTG9hZE1hbmFnZXIuX3NoZWV0c1RvdGFsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvYWRJbnRlcnZhbCA9IHNldEludGVydmFsKChldjphbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vc2VlIGlmIHRoZXkgYXJlIGxvYWRlZFxyXG4gICAgICAgICAgICAgICAgaWYoTG9hZE1hbmFnZXIuX3NoZWV0c0xvYWRlZCA+PSBMb2FkTWFuYWdlci5fc2hlZXRzVG90YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5jbGVhckludGVydmFsKGxvYWRJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgTG9hZE1hbmFnZXIuZW1pdExvYWRlZEV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwMClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBMb2FkTWFuYWdlci5lbWl0TG9hZGVkRXZlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfb25FcnJvcihlKSB7XHJcbiAgICAgICAgTG9hZE1hbmFnZXIuZW1pdEVycm9yRXZlbnQoKTtcclxuICAgIH1cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE9WRVJSSURFUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEdFVFRFUlMgJiBTRVRURVJTIC0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IFBlcmNlbnRhZ2UoKTpudW1iZXIgeyByZXR1cm4gTG9hZE1hbmFnZXIuX3BlcmNlbnRhZ2U7IH1cclxuICAgIFxyXG5cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgU2NyZWVuIH0gZnJvbSBcIi4uL3NjcmVlbnMvU2NyZWVuXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2NyZWVuTWFuYWdlciB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfc2NyZWVuc0xvb2t1cDp7IFtrZXk6c3RyaW5nXTpTY3JlZW4gfSA9IHsgfTtcclxuICAgIHByaXZhdGUgc3RhdGljIF9jdXJyZW50U2NyZWVuOlNjcmVlbiA9IG51bGw7XHJcblxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qKlJlZ2lzdGVycyBhIHNjcmVlbiBpbnRvIHRoZSBTY3JlZW4gTWFuYWdlci4gIFVzZXMgYSBrZXkgdG8gYXNzb2NpYXRlIGl0LiAqL1xyXG4gICAgcHVibGljIHN0YXRpYyByZWdpc3RlclNjcmVlbihrZXk6c3RyaW5nLCBzY3JlZW46U2NyZWVuKTp2b2lkIHtcclxuICAgICAgICAvL2lmIHdlIGRvbid0IGhhdmUgdGhpcyBzY3JlZW4sIGFkZCBpdFxyXG4gICAgICAgIGlmKFNjcmVlbk1hbmFnZXIuX3NjcmVlbnNMb29rdXBba2V5XSA9PSBudWxsKVxyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLl9zY3JlZW5zTG9va3VwW2tleV0gPSBzY3JlZW47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqVW5yZWdpc3RlcnMgYSBzY3JlZW4gZnJvbSB0aGUgU2NyZWVuIE1hbmFnZXIuICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHVucmVnaXN0ZXJTY3JlZW4oa2V5OnN0cmluZyk6Ym9vbGVhbiB7XHJcbiAgICAgICAgaWYoU2NyZWVuTWFuYWdlci5fc2NyZWVuc0xvb2t1cFtrZXldID09IG51bGwpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgU2NyZWVuTWFuYWdlci5fc2NyZWVuc0xvb2t1cFtrZXldID0gbnVsbDtcclxuICAgICAgICBkZWxldGUgU2NyZWVuTWFuYWdlci5fc2NyZWVuc0xvb2t1cFtrZXldO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlNldHMgdGhlIGN1cnJlbnQgc2NyZWVuLiAgQ2FuIGJlIGRvbmUgd2l0aCB0aGUgc2NyZWVuIGl0c2VsZiBvciBhbiBhc3NvY2lhdGl2ZSBrZXkuICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldEN1cnJlbnRTY3JlZW4oc2NyZWVuOnN0cmluZyB8IFNjcmVlbiwgc3RhZ2U6Y3JlYXRlanMuU3RhZ2VHTCk6UHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgbGV0IHRlbXBTY3JlZW4gPSBudWxsO1xyXG4gICAgICAgIGlmKHNjcmVlbiBpbnN0YW5jZW9mIFNjcmVlbikgdGVtcFNjcmVlbiA9IHNjcmVlbjtcclxuICAgICAgICBlbHNlIHRlbXBTY3JlZW4gPSBTY3JlZW5NYW5hZ2VyLl9zY3JlZW5zTG9va3VwW3NjcmVlbl07XHJcblxyXG4gICAgICAgIC8vaWYgd2UgZGlkIG5vdCBmaW5kIGEgc2NyZWVuLCBkbyBub3QgZm9sbG93IHRocm91Z2hcclxuICAgICAgICBpZih0ZW1wU2NyZWVuID09IG51bGwpIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuXHJcbiAgICAgICAgbGV0IHByb21pc2VzID0gW107XHJcbiAgICAgICAgLy9pZiB3ZSBoYXZlIGEgcHJldmlvdXMgc2NyZWVuLCB3YWl0IGZvciBpdCB0byBmYWRlIG91dFxyXG4gICAgICAgIGlmKFNjcmVlbk1hbmFnZXIuX2N1cnJlbnRTY3JlZW4gIT0gbnVsbClcclxuICAgICAgICBwcm9taXNlcy5wdXNoKFxyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZShhc3luYyhyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vZmFkZSBvdXRcclxuICAgICAgICAgICAgICAgIGNyZWF0ZWpzLlR3ZWVuXHJcbiAgICAgICAgICAgICAgICAgICAgLmdldChTY3JlZW5NYW5hZ2VyLl9jdXJyZW50U2NyZWVuLkNvbnRhaW5lcilcclxuICAgICAgICAgICAgICAgICAgICAudG8oeyBhbHBoYTowIH0sIDUwMCwgY3JlYXRlanMuRWFzZS5saW5lYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhbGwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLl9jdXJyZW50U2NyZWVuLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgIC8vd2FpdCBmb3IgY2VydGFpbiBhY3Rpb25zIHRvIGZpbmlzaFxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyhyZXMpID0+IHtcclxuICAgICAgICAgICAgLy93YWl0IGZvciBwcm9taXNlcyB0byBmaW5pc2hcclxuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG5cclxuICAgICAgICAgICAgLy9ub3cgYWRkIGluIHRoZSBuZXcgb25lXHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RTY3JlZW4gPSBTY3JlZW4uX2N1clxyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLl9jdXJyZW50U2NyZWVuID0gdGVtcFNjcmVlbjtcclxuICAgICAgICAgICAgU2NyZWVuTWFuYWdlci5fY3VycmVudFNjcmVlbi5jcmVhdGUoc3RhZ2UpO1xyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLl9jdXJyZW50U2NyZWVuLkNvbnRhaW5lci5hbHBoYSA9IDA7XHJcbiAgICAgICAgICAgIFNjcmVlbk1hbmFnZXIuX2N1cnJlbnRTY3JlZW4uZGlzYWJsZSgpOyAvL2Rpc2FibGUgdW50aWwgcmVhZHlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGQURFIElOXCIpXHJcbiAgICAgICAgICAgIC8vZmFkZSBpblxyXG4gICAgICAgICAgICBjcmVhdGVqcy5Ud2VlblxyXG4gICAgICAgICAgICAgICAgLmdldChTY3JlZW5NYW5hZ2VyLl9jdXJyZW50U2NyZWVuLkNvbnRhaW5lcilcclxuICAgICAgICAgICAgICAgIC50byh7IGFscGhhOjEgfSwgMTIwMCwgY3JlYXRlanMuRWFzZS5saW5lYXIpXHJcbiAgICAgICAgICAgICAgICAuY2FsbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJET05FXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIFNjcmVlbk1hbmFnZXIuX2N1cnJlbnRTY3JlZW4uZW5hYmxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRTY3JlZW5CeUtleShrZXk6c3RyaW5nKTpTY3JlZW4ge1xyXG4gICAgICAgIHJldHVybiBTY3JlZW5NYW5hZ2VyLl9zY3JlZW5zTG9va3VwW2tleV07XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBPVkVSUklERVMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBHRVRURVJTICYgU0VUVEVSUyAtLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBBbGxTY3JlZW5zKCkgeyByZXR1cm4gU2NyZWVuTWFuYWdlci5fc2NyZWVuc0xvb2t1cDsgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgQ3VycmVudFNjcmVlbigpIHsgcmV0dXJuIFNjcmVlbk1hbmFnZXIuX2N1cnJlbnRTY3JlZW47IH1cclxufSIsImltcG9ydCB7IFNjcmVlbiB9IGZyb20gXCIuL1NjcmVlblwiO1xyXG5pbXBvcnQgeyBTY3JlZW5NYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL1NjcmVlbk1hbmFnZXJcIjtcclxuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSBcIi4uL3VpL2Rpc3BsYXkvQ29udGFpbmVyXCI7XHJcbmltcG9ydCB7IFNwcml0ZXMgfSBmcm9tIFwiLi4vdWkvU3ByaXRlc1wiO1xyXG5pbXBvcnQgeyBMb2FkTWFuYWdlciB9IGZyb20gXCIuLi9tYW5hZ2Vycy9Mb2FkTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZFNjcmVlbiBleHRlbmRzIFNjcmVlbiB7XHJcbiAgICBwcml2YXRlIF9zcGxhc2g6Y3JlYXRlanMuU2hhcGU7XHJcbiAgICBwcml2YXRlIF9tYWluQ29udGFpbmVyOkNvbnRhaW5lcjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgLy9zZXR1cCBtYWluIGNvbnRhaW5lclxyXG4gICAgICAgIHRoaXMuX21haW5Db250YWluZXIgPSBuZXcgQ29udGFpbmVyKCk7XHJcbiAgICAgICAgdGhpcy5fbWFpbkNvbnRhaW5lci5hZGRNYW55KHtcclxuICAgICAgICAgICAgdHh0U2NvcmVTdGF0aWMgOiBTcHJpdGVzLmdlbmVyYXRlQml0bWFwVGV4dChcIlNjb3JlXCIsIExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5UeXBvZ3JhcGh5KSxcclxuICAgICAgICAgICAgdHh0U2NvcmUgOiBTcHJpdGVzLmdlbmVyYXRlQml0bWFwVGV4dChcIjBcIiwgTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLlR5cG9ncmFwaHkpLFxyXG4gICAgICAgICAgICBsb2dvIDogU3ByaXRlcy5CYWNrZ3JvdW5kcy5Mb2dvLFxyXG4gICAgICAgICAgICBidG5NYWluTWVudSA6IFNwcml0ZXMuQnV0dG9ucy5OZXdHYW1lLFxyXG4gICAgICAgICAgICBidG5OZXh0IDogU3ByaXRlcy5CdXR0b25zLk9wdGlvbnMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gQUJTVFJBQ1RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgY3JlYXRlKHN0YWdlOmNyZWF0ZWpzLlN0YWdlR0wpOlNjcmVlbiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9zZXQgdGhlIHNjb3JlXHJcbiAgICAgICAgdGhpcy5fbWFpbkNvbnRhaW5lci5TcHJpdGVzWyd0eHRTY29yZSddID0gU3ByaXRlcy5nZW5lcmF0ZUJpdG1hcFRleHQoXCI5OTk5XCIsIExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5UeXBvZ3JhcGh5KTtcclxuICAgICAgICBcclxuICAgICAgICAvL2FkZCBpbiB0aGUgY29udGFpbmVyc1xyXG4gICAgICAgIHRoaXMuX21haW5Db250YWluZXIuY2hlY2tvdXRTcHJpdGVzKCk7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZENoaWxkKHRoaXMuX21haW5Db250YWluZXIuQ29udGFpbmVyKTtcclxuICAgICAgICBcclxuICAgICAgICAvL2ZvciB0ZXN0aW5nXHJcbiAgICAgICAgKHRoaXMuX2NvbnRhaW5lciBhcyBhbnkpLm9uKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgU2NyZWVuTWFuYWdlci5zZXRDdXJyZW50U2NyZWVuKFwibWVudVwiLCBzdGFnZSk7XHJcbiAgICAgICAgfSwgdGhpcywgdHJ1ZSk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHJldHVybiBzdXBlci5jcmVhdGUoc3RhZ2UpO1xyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG59IiwiaW1wb3J0IHsgU2NyZWVuIH0gZnJvbSBcIi4vU2NyZWVuXCI7XHJcbmltcG9ydCB7IFNjcmVlbk1hbmFnZXIgfSBmcm9tIFwiLi4vbWFuYWdlcnMvU2NyZWVuTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBPYmplY3RQb29sIH0gZnJvbSBcIi4uL09iamVjdFBvb2xcIjtcclxuaW1wb3J0IHsgRmlzaCB9IGZyb20gXCIuLi9lbnRpdGllcy9GaXNoXCI7XHJcbmltcG9ydCB7IENhdCB9IGZyb20gXCIuLi9lbnRpdGllcy9DYXRcIjtcclxuaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuLi9HYW1lXCI7XHJcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuLi91aS9kaXNwbGF5L0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBTcHJpdGVzIH0gZnJvbSBcIi4uL3VpL1Nwcml0ZXNcIjtcclxuaW1wb3J0IHsgTG9nZ2luZyB9IGZyb20gXCIuLi9GdW5jdGlvbnNcIjtcclxuaW1wb3J0IHsgTGV2ZWxEYXRhIH0gZnJvbSBcIi4uL21hbmFnZXJzL0RhdGFNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IExvYWRNYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL0xvYWRNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjcmVlbiBleHRlbmRzIFNjcmVlbiB7XHJcbiAgICBwcml2YXRlIF9nYW1lOkdhbWU7XHJcbiAgICBwcml2YXRlIF9sZXZlbERhdGE6TGV2ZWxEYXRhO1xyXG5cclxuICAgIC8vY3JlYXRlIGNvbnRhaW5lcnNcclxuICAgIHByaXZhdGUgX3N0YXRpY0NvbnRhaW5lcjpDb250YWluZXI7XHJcbiAgICBwcml2YXRlIF9maXNoQ29udGFpbmVyOmNyZWF0ZWpzLkNvbnRhaW5lcjtcclxuXHJcbiAgICBwcml2YXRlIF93aW5Db250YWluZXI6Y3JlYXRlanMuQ29udGFpbmVyO1xyXG4gICAgcHJpdmF0ZSBfd2luQmFubmVyOmNyZWF0ZWpzLlNoYXBlO1xyXG4gICAgcHJpdmF0ZSBfd2luVGV4dDpjcmVhdGVqcy5CaXRtYXBUZXh0O1xyXG5cclxuICAgIHByaXZhdGUgX2NhdDpDYXQ7XHJcbiAgICBwcml2YXRlIF9maXNoZXM6RmlzaFtdO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIF9yZW1haW5pbmdGaXNoOm51bWJlcjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoZ2FtZTpHYW1lKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLl9nYW1lID0gZ2FtZTtcclxuICAgICAgICB0aGlzLl9maXNoZXMgPSBbXTtcclxuICAgICAgICB0aGlzLl9yZW1haW5pbmdGaXNoID0gLTE7XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxEYXRhID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy9jcmVhdGUgb2JqZWN0IHBvb2xcclxuICAgICAgICBPYmplY3RQb29sLmNyZWF0ZVBvb2xPYmplY3QobmV3IENhdCh0aGlzKSwgUE9PTC5DQVQpXHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IDEyMDsgaSsrKSB7XHJcbiAgICAgICAgICAgIE9iamVjdFBvb2wuY3JlYXRlUG9vbE9iamVjdChuZXcgRmlzaCh0aGlzKSwgUE9PTC5GSVNIKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZm9yKGxldCBpID0gMDsgaSA8IDMwOyBpKyspIHtcclxuICAgICAgICAvLyAgICAgT2JqZWN0UG9vbC5jcmVhdGVQb29sT2JqZWN0KG5ldyBQdWZmZXIodGhpcy5fZ2FtZSksIFBPT0wuUFVGRkVSRklTSClcclxuICAgICAgICAvLyB9XHJcblxyXG5cclxuICAgICAgICAvL3Bvb2wgb3V0IHN0YXRpYyBraXR0eVxyXG4gICAgICAgIHRoaXMuX2NhdCA9IChPYmplY3RQb29sLmNoZWNrb3V0KFBPT0wuQ0FUKSBhcyBDYXQpO1xyXG5cclxuICAgICAgICAvL2NyZWF0ZSBjb250YWluZXJzXHJcbiAgICAgICAgdGhpcy5fc3RhdGljQ29udGFpbmVyID0gbmV3IENvbnRhaW5lcigpO1xyXG4gICAgICAgIHRoaXMuX3N0YXRpY0NvbnRhaW5lci5hZGRNYW55KHtcclxuICAgICAgICAgICAgYmcgOiBTcHJpdGVzLkJhY2tncm91bmRzLkJHXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2Zpc2hDb250YWluZXIgPSBuZXcgY3JlYXRlanMuQ29udGFpbmVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX3dpbkNvbnRhaW5lciA9IG5ldyBjcmVhdGVqcy5Db250YWluZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcblxyXG4gICAgLyoqQXR0ZW1wdHMgdG8gZ3JhYiBhIGZpc2guICBSZXR1cm5zIGFueSBmaXNoIHRoYXQgYXJlIHRvdWNoaW5nIHRoZSBnbG9iYWwgcG9zaXRpb24uICovXHJcbiAgICBwdWJsaWMgdHJ5VG9HcmFiRmlzaGVzKHg6bnVtYmVyLCB5Om51bWJlcik6RmlzaFtdIHtcclxuICAgICAgICBsZXQgZmlzaGVzID0gW107XHJcblxyXG4gICAgICAgIC8vc2VlIGlmIGFueSBmaXNoIGlzIGdyYWJiYWJsZSBhdCB0aGVzZSBjb29yZHMgYW5kIHJldHVybiBpZiBzb1xyXG4gICAgICAgIC8vZm9yIGVhY2ggZmlzaCwgdGVzdCB0aGUgZGlzdGFuY2UgYW5kIHJldHVybiBpZiBjbG9zZVxyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLl9maXNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZmlzaCA9IHRoaXMuX2Zpc2hlc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsUG9zID0gZmlzaC5TcHJpdGUuZ2xvYmFsVG9Mb2NhbCh4LCB5KTtcclxuICAgICAgICAgICAgY29uc3QgaGl0RmlzaCA9IGZpc2gudGVzdEhpdChsb2NhbFBvcy54LCBsb2NhbFBvcy55KTtcclxuXHJcbiAgICAgICAgICAgIGlmKGhpdEZpc2gpIHtcclxuICAgICAgICAgICAgICAgIGZpc2hlcy5wdXNoKGZpc2gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vaWYgbm8gZmlzaCB3YXMgY2F1Z2h0LCByZXR1cm4gbnVsbFxyXG4gICAgICAgIHJldHVybiBmaXNoZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbGxlY3RGaXNoKGZpc2g6RmlzaCkge1xyXG4gICAgICAgIC8vZ2V0IGZpc2hcclxuICAgICAgICBMb2dnaW5nLnN1Y2Nlc3MoXCJHT1QgRklTSCFcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IGtpbGxlZEZpc2ggPSBmaXNoLmRlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgLy9kZWNyZW1lbnQgZmlzaCBjb3VudGVyIC0tIG1ha2Ugc3VyZSB3ZSBkaWRuJ3QgbWFrZSBhbiBlcnJvclxyXG4gICAgICAgIGlmKGtpbGxlZEZpc2ggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW1haW5pbmdGaXNoLS07XHJcblxyXG4gICAgICAgICAgICAvL2lmIGFsbCBvdXIgZmlzaCBhcmUgZ29uZSwgZW5kIHRoZSBnYW1lIVxyXG4gICAgICAgICAgICBpZih0aGlzLl9yZW1haW5pbmdGaXNoIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIC8vd2luIGdhbWUhXHJcbiAgICAgICAgICAgICAgICBMb2dnaW5nLnN1Y2Nlc3MoXCJHQU1FIElTIE9WRVIhXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy53aW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHdpbigpIHtcclxuICAgICAgICB0aGlzLmRpc2FibGUoKTtcclxuICAgICAgICAvL3Nob3cgd2luIGJhbm5lclxyXG4gICAgICAgIGNyZWF0ZWpzLlR3ZWVuLmdldCh0aGlzLl93aW5Db250YWluZXIpXHJcbiAgICAgICAgICAgIC50byh7eTp0aGlzLl9nYW1lLlN0YWdlSGVpZ2h0IC8gMiAtIDI1fSwgNjAwLCBjcmVhdGVqcy5FYXNlLmVsYXN0aWNPdXQpXHJcbiAgICAgICAgICAgIC53YWl0KDIwMDApXHJcbiAgICAgICAgICAgIC5jYWxsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vdHJhbnNpdGlvbiB0byBlbmQgc2NyZWVuXHJcbiAgICAgICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLnNldEN1cnJlbnRTY3JlZW4oXCJlbmRcIiwgdGhpcy5fZ2FtZS5TdGFnZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBTY3JlZW5NYW5hZ2VyLnNldEN1cnJlbnRTY3JlZW4oXCJtZW51XCIsIHRoaXMuX2dhbWUuU3RhZ2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBPVkVSUklERVMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgY3JlYXRlKHN0YWdlOmNyZWF0ZWpzLlN0YWdlR0wpOlNjcmVlbiB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlKHN0YWdlKTtcclxuICAgICAgICAvL2FkZCBzdHVmZlxyXG4gICAgICAgIHRoaXMuX3N0YXRpY0NvbnRhaW5lci5jaGVja291dFNwcml0ZXMoKTtcclxuICAgICAgICB0aGlzLl9zdGF0aWNDb250YWluZXIuU3ByaXRlcy5iZy55ID0gMDtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkQ2hpbGQodGhpcy5fc3RhdGljQ29udGFpbmVyLkNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl9maXNoQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgLy9hZGQgY29uZGl0aW9uYWwgdGV4dFxyXG4gICAgICAgIHRoaXMuX3dpbkJhbm5lciA9IG5ldyBjcmVhdGVqcy5TaGFwZSgpO1xyXG4gICAgICAgIHRoaXMuX3dpbkJhbm5lci5ncmFwaGljcy5iZWdpbkZpbGwoXCJibGFja1wiKTtcclxuICAgICAgICB0aGlzLl93aW5CYW5uZXIuZ3JhcGhpY3MuZHJhd1JlY3QoMCwgMCwgdGhpcy5fZ2FtZS5TdGFnZVdpZHRoLCA1MCk7XHJcbiAgICAgICAgdGhpcy5fd2luQmFubmVyLmNhY2hlKDAsIDAsIHRoaXMuX2dhbWUuU3RhZ2VXaWR0aCwgNTApO1xyXG4gICAgICAgIHRoaXMuX3dpbkNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl93aW5CYW5uZXIpO1xyXG4gICAgICAgIHRoaXMuX3dpblRleHQgPSBTcHJpdGVzLmdlbmVyYXRlQml0bWFwVGV4dChcIldpbiFcIiwgTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLlR5cG9ncmFwaHlXaGl0ZSk7XHJcbiAgICAgICAgdGhpcy5fd2luQ29udGFpbmVyLmFkZENoaWxkKHRoaXMuX3dpblRleHQpO1xyXG4gICAgICAgIHRoaXMuX3dpblRleHQueCA9ICh0aGlzLl9nYW1lLlN0YWdlV2lkdGggLyAyKSAtICh0aGlzLl93aW5UZXh0LmdldEJvdW5kcygpLndpZHRoIC8gMik7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl93aW5Db250YWluZXIpO1xyXG4gICAgICAgIHRoaXMuX3dpbkNvbnRhaW5lci4geSA9IHRoaXMuX2dhbWUuU3RhZ2VIZWlnaHQgKyA1MDtcclxuICAgICAgICB0aGlzLl93aW5Db250YWluZXIubW91c2VFbmFibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2NhdC5jcmVhdGUodGhpcy5fY29udGFpbmVyKTtcclxuXHJcblxyXG4gICAgICAgIC8vYWRkIGxldmVsIGRhdGEgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgaWYodGhpcy5fbGV2ZWxEYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgLy9sb2FkIGluIGNyaXR0ZXJzXHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLl9sZXZlbERhdGEuZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX2xldmVsRGF0YS5kYXRhW2ldO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKGRhdGEuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFBPT0wuRklTSDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlzaCA9IChPYmplY3RQb29sLmNoZWNrb3V0KFBPT0wuRklTSCkgYXMgRmlzaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpc2guY3JlYXRlKHRoaXMuX2Zpc2hDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnNwZWVkICE9IG51bGwpIGZpc2guU3BlZWQgPSBkYXRhLnNwZWVkOyAvL3NldCB2YXJpYWJsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS54ICE9IG51bGwpIGZpc2guWCA9IGRhdGEueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS55ICE9IG51bGwpIGZpc2guWSA9IGRhdGEueTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5mbGlwICE9IG51bGwgJiYgZGF0YS5mbGlwKSBmaXNoLkRpcmVjdGlvblggPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlzaC5zZXROYXR1cmFsWSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXNoZXMucHVzaChmaXNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9ICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vc2V0IGZpc2ggdG90YWxcclxuICAgICAgICAgICAgdGhpcy5fcmVtYWluaW5nRmlzaCA9IHRoaXMuX2Zpc2hlcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLl9jYXQuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuX2Zpc2hlcy5mb3JFYWNoKGYgPT4gZi5kZXN0cm95KCkpO1xyXG4gICAgICAgIHRoaXMuX2Zpc2hDb250YWluZXIucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZmlzaGVzID0gW107XHJcblxyXG4gICAgICAgIHJldHVybiBzdXBlci5kZXN0cm95KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZShnYW1lVGltZTpudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBub3JtYWxpemVkVGltZSA9IE1hdGgubWluKDEsIGdhbWVUaW1lKSArIDAuNTtcclxuXHJcbiAgICAgICAgLy91cGRhdGUgZW50aXRpZXNcclxuICAgICAgICB0aGlzLl9maXNoZXMuZm9yRWFjaChmaXNoID0+IHtcclxuICAgICAgICAgICAgZmlzaC51cGRhdGUobm9ybWFsaXplZFRpbWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXQudXBkYXRlKG5vcm1hbGl6ZWRUaW1lKTtcclxuXHJcbiAgICAgICAgc3VwZXIudXBkYXRlKGdhbWVUaW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZW5hYmxlKCkge1xyXG4gICAgICAgICh0aGlzLl9jb250YWluZXIgYXMgYW55KS5vbihcImNsaWNrXCIsIHRoaXMuX2NhdC5ncmFiLCB0aGlzLl9jYXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNhYmxlKCkge1xyXG4gICAgICAgICh0aGlzLl9jb250YWluZXIgYXMgYW55KS5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIGdldCBHYW1lKCkgeyByZXR1cm4gdGhpcy5fZ2FtZTsgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgTGV2ZWxEYXRhKGRhdGE6TGV2ZWxEYXRhKSB7IHRoaXMuX2xldmVsRGF0YSA9IGRhdGE7IH1cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUE9PTCB7IFxyXG4gICAgc3RhdGljIGdldCBDQVQoKSB7IHJldHVybiBcImNhdFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IEZJU0goKSB7IHJldHVybiBcImZpc2hcIjsgfVxyXG4gICAgc3RhdGljIGdldCBQVUZGRVJGSVNIKCkgeyByZXR1cm4gXCJwdWZmZXJcIjsgfVxyXG59IiwiaW1wb3J0IHsgU2NyZWVuIH0gZnJvbSBcIi4vU2NyZWVuXCI7XHJcbmltcG9ydCB7IFNjcmVlbk1hbmFnZXIgfSBmcm9tIFwiLi4vbWFuYWdlcnMvU2NyZWVuTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTcHJpdGVzIH0gZnJvbSBcIi4uL3VpL1Nwcml0ZXNcIjtcclxuaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuLi9HYW1lXCI7XHJcbmltcG9ydCB7IExvYWRNYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL0xvYWRNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSW50ZXJtZWRpYXJ5U2NyZWVuIGV4dGVuZHMgU2NyZWVuIHtcclxuICAgIHByaXZhdGUgX2dhbWU6R2FtZTtcclxuICAgIHByaXZhdGUgX2JnOmNyZWF0ZWpzLlNoYXBlO1xyXG4gICAgcHJpdmF0ZSBfdGV4dENvbnRhaW5lcjpjcmVhdGVqcy5Db250YWluZXI7XHJcbiAgICBwcml2YXRlIF90eHRTcHJpdGU6Y3JlYXRlanMuRGlzcGxheU9iamVjdDtcclxuXHJcbiAgICBwcml2YXRlIF90ZXh0OnN0cmluZztcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoZ2FtZTpHYW1lKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLl9nYW1lID0gZ2FtZTtcclxuXHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyoqQ2hvb3NlcyB0aGUgc2NyZWVuIHRvIGxvYWQgaW4gYWZ0ZXIgdGhlIGludGVybWVkaWFyeS4gKi9cclxuICAgIHB1YmxpYyBxdWV1ZU5leHRTY3JlZW4oc2NyZWVuS2V5OnN0cmluZywgZHVyYXRpb246bnVtYmVyPTMwMDApIHtcclxuICAgICAgICBjb25zdCBldnQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vbG9hZCB0aGUgc2NyZWVuXHJcbiAgICAgICAgICAgIFNjcmVlbk1hbmFnZXIuc2V0Q3VycmVudFNjcmVlbihzY3JlZW5LZXksIHRoaXMuX2dhbWUuU3RhZ2UpO1xyXG4gICAgICAgICAgICAvL2NsZWFyIHRoZSB0aW1lb3V0XHJcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoZXZ0KTtcclxuICAgICAgICB9LCBkdXJhdGlvbik7XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBPVkVSUklERVMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgY3JlYXRlKHN0YWdlOmNyZWF0ZWpzLlN0YWdlR0wpOlNjcmVlbiB7XHJcbiAgICAgICAgLy9hZGQgc3R1ZmZcclxuICAgICAgICB0aGlzLl9iZyA9IG5ldyBjcmVhdGVqcy5TaGFwZSgpO1xyXG4gICAgICAgIHRoaXMuX2JnLmdyYXBoaWNzLmJlZ2luRmlsbChcIiMxOTE5MTlcIik7XHJcbiAgICAgICAgdGhpcy5fYmcuZ3JhcGhpY3MuZHJhd1JlY3QoMCwgMCwgdGhpcy5fZ2FtZS5TdGFnZVdpZHRoLCB0aGlzLl9nYW1lLlN0YWdlSGVpZ2h0KTtcclxuICAgICAgICB0aGlzLl9iZy5ncmFwaGljcy5lbmRGaWxsKCk7XHJcbiAgICAgICAgdGhpcy5fYmcuY2FjaGUoMCwgMCwgdGhpcy5fZ2FtZS5TdGFnZVdpZHRoLCB0aGlzLl9nYW1lLlN0YWdlSGVpZ2h0KTtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkQ2hpbGQodGhpcy5fYmcpO1xyXG5cclxuICAgICAgICB0aGlzLl90ZXh0Q29udGFpbmVyID0gbmV3IGNyZWF0ZWpzLkNvbnRhaW5lcigpO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl90ZXh0Q29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5fdGV4dCAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoZSB0ZXh0XHJcbiAgICAgICAgICAgIHRoaXMuX3R4dFNwcml0ZSA9IFNwcml0ZXMuZ2VuZXJhdGVCaXRtYXBUZXh0KHRoaXMuX3RleHQsIExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5UeXBvZ3JhcGh5V2hpdGUpO1xyXG4gICAgICAgICAgICAodGhpcy5fdHh0U3ByaXRlIGFzIGFueSkuc2NhbGUgPSAwLjY7XHJcbiAgICAgICAgICAgIC8vbG9hZCBpbnRvIGNvbnRhaW5lclxyXG4gICAgICAgICAgICB0aGlzLl90ZXh0Q29udGFpbmVyLmFkZENoaWxkKHRoaXMuX3R4dFNwcml0ZSk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy9wdXQgY29udGFpbmVyIGF0IGJvdHRvbVxyXG4gICAgICAgICAgICB0aGlzLl90ZXh0Q29udGFpbmVyLnggPSAodGhpcy5fZ2FtZS5TdGFnZVdpZHRoIC8gMikgLSAoKHRoaXMuX3R4dFNwcml0ZS5nZXRCb3VuZHMoKS53aWR0aCAvIDIpICogMC42KTtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dENvbnRhaW5lci55ID0gKHRoaXMuX2dhbWUuU3RhZ2VIZWlnaHQgLyAyKSAtICh0aGlzLl90eHRTcHJpdGUuZ2V0Qm91bmRzKCkuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc3VwZXIuY3JlYXRlKHN0YWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLl90ZXh0Q29udGFpbmVyLnJlbW92ZUFsbENoaWxkcmVuKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBzdXBlci5kZXN0cm95KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVuYWJsZSgpIHtcclxuICAgICAgICBzdXBlci5lbmFibGUoKTtcclxuXHJcbiAgICAgICAgLy9mb3IgdGVzdGluZ1xyXG4gICAgICAgICh0aGlzLl9jb250YWluZXIgYXMgYW55KS5vbihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIFNjcmVlbk1hbmFnZXIuc2V0Q3VycmVudFNjcmVlbihcIm1lbnVcIiwgdGhpcy5TdGFnZSk7XHJcbiAgICAgICAgfSwgdGhpcywgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc2FibGUoKSB7XHJcbiAgICAgICAgc3VwZXIuZGlzYWJsZSgpO1xyXG5cclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuVGV4dCA9IFwiXCI7XHJcbiAgICAgICAgc3VwZXIucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBHRVRURVJTICYgU0VUVEVSUyAtLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgc2V0IFRleHQodmFsdWU6c3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHZhbHVlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU2NyZWVuIH0gZnJvbSBcIi4vU2NyZWVuXCI7XHJcbmltcG9ydCB7IFNjcmVlbk1hbmFnZXIgfSBmcm9tIFwiLi4vbWFuYWdlcnMvU2NyZWVuTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTcHJpdGVzIH0gZnJvbSBcIi4uL3VpL1Nwcml0ZXNcIjtcclxuaW1wb3J0IHsgTGF5b3V0IH0gZnJvbSBcIi4uL3VpL2Rpc3BsYXkvTGF5b3V0XCI7XHJcbmltcG9ydCB7IExvYWRNYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL0xvYWRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuLi91aS9kaXNwbGF5L0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBMb2dnaW5nIH0gZnJvbSBcIi4uL0Z1bmN0aW9uc1wiO1xyXG5pbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4uL0dhbWVcIjtcclxuaW1wb3J0IHsgTGV2ZWxTZWxlY3REaXNwbGF5IH0gZnJvbSBcIi4uL3VpL2N1c3RvbS9MZXZlbFNlbGVjdERpc3BsYXlcIjtcclxuaW1wb3J0IHsgSW50ZXJtZWRpYXJ5U2NyZWVuIH0gZnJvbSBcIi4vSW50ZXJtZWRpYXJ5U2NyZWVuXCI7XHJcbmltcG9ydCB7IEdhbWVTY3JlZW4gfSBmcm9tIFwiLi9HYW1lU2NyZWVuXCI7XHJcbmltcG9ydCB7IERhdGFNYW5hZ2VyIH0gZnJvbSBcIi4uL21hbmFnZXJzL0RhdGFNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVudVNjcmVlbiBleHRlbmRzIFNjcmVlbiB7XHJcbiAgICBwcml2YXRlIF9nYW1lOkdhbWU7XHJcbiAgICAvL2NvbnRhaW5lcnNcclxuICAgIHByaXZhdGUgX3N3aXBlQ29udGFpbmVyOmNyZWF0ZWpzLkNvbnRhaW5lcjtcclxuICAgIHByaXZhdGUgX3N0YXRpY0NvbnRhaW5lcjpDb250YWluZXI7XHJcbiAgICBwcml2YXRlIF9tYWluQ29udGFpbmVyOkNvbnRhaW5lcjtcclxuICAgIHByaXZhdGUgX2NsZWFyZWRDb250YWluZXI6Q29udGFpbmVyO1xyXG4gICAgcHJpdmF0ZSBfb3B0aW9uc0NvbnRhaW5lcjpDb250YWluZXI7XHJcblxyXG4gICAgLy9jdXN0b20gY29udGFpbmVyc1xyXG4gICAgcHJpdmF0ZSBfbGV2ZWxTZWxlY3REaXNwbGF5OkxldmVsU2VsZWN0RGlzcGxheTtcclxuXHJcbiAgICAvL3Byb3BlcnRpZXNcclxuICAgIHByaXZhdGUgX3N3aXBlU3BlZWQ6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfY3VycmVudFNjcmVlbjpzdHJpbmc7XHJcbiAgICBwcml2YXRlIF9pbml0aWFsU3dpcGVQb3M6e3g6bnVtYmVyLCB5Om51bWJlcn07XHJcbiAgICBwcml2YXRlIF9kcmFnVGltZXI6YW55O1xyXG5cclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoZ2FtZTpHYW1lKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZ2FtZSA9IGdhbWU7XHJcblxyXG4gICAgICAgIC8vc2V0dXAgc3dpcGUgY29udGFpbmVyIC0tIGhvbGRzIGFsbCBtb3Zpbmcgc3ByaXRlc1xyXG4gICAgICAgIHRoaXMuX3N3aXBlQ29udGFpbmVyID0gbmV3IGNyZWF0ZWpzLkNvbnRhaW5lcigpO1xyXG5cclxuICAgICAgICAvL3NldHVwIHN0YXRpYyBjb250YWluZXJcclxuICAgICAgICB0aGlzLl9zdGF0aWNDb250YWluZXIgPSBuZXcgQ29udGFpbmVyKCk7XHJcbiAgICAgICAgdGhpcy5fc3RhdGljQ29udGFpbmVyLmFkZE1hbnkoe1xyXG4gICAgICAgICAgICBiZyA6IFNwcml0ZXMuQmFja2dyb3VuZHMuQkdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9zZXR1cCBtYWluIGNvbnRhaW5lclxyXG4gICAgICAgIHRoaXMuX21haW5Db250YWluZXIgPSBuZXcgQ29udGFpbmVyKCk7XHJcbiAgICAgICAgdGhpcy5fbWFpbkNvbnRhaW5lci5hZGRNYW55KHtcclxuICAgICAgICAgICAgbG9nbyA6IFNwcml0ZXMuQmFja2dyb3VuZHMuTG9nbyxcclxuICAgICAgICAgICAgZmlzaGJvd2wgOiBTcHJpdGVzLkJ1dHRvbnMuRmlzaGJvd2wsXHJcbiAgICAgICAgICAgIGJ0bk5ld0dhbWUgOiBTcHJpdGVzLkJ1dHRvbnMuTmV3R2FtZSxcclxuICAgICAgICAgICAgYnRuT3B0aW9ucyA6IFNwcml0ZXMuQnV0dG9ucy5PcHRpb25zLFxyXG4gICAgICAgICAgICBidG5MZXZlbFNlbGVjdCA6IFNwcml0ZXMuQnV0dG9ucy5MZXZlbFNlbGVjdCxcclxuICAgICAgICAgICAgYnRuRXhpdCA6IFNwcml0ZXMuQnV0dG9ucy5FeGl0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vc2V0dXAgb3B0aW9ucyBjb250YWluZXJcclxuICAgICAgICB0aGlzLl9vcHRpb25zQ29udGFpbmVyID0gbmV3IENvbnRhaW5lcigpO1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnNDb250YWluZXIuYWRkTWFueSh7XHJcbiAgICAgICAgICAgIHR4dE9wdGlvbnMgOiBTcHJpdGVzLmdlbmVyYXRlQml0bWFwVGV4dChcIk9wdGlvbnNcIiwgTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLlR5cG9ncmFwaHkpLFxyXG4gICAgICAgICAgICBidG5DbGVhckRhdGEgOiBTcHJpdGVzLkJ1dHRvbnMuQ2xlYXJEYXRhXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9uc0NvbnRhaW5lci5Db250YWluZXIueCAtPSB0aGlzLl9nYW1lLlN0YWdlV2lkdGg7XHJcblxyXG4gICAgICAgIC8vc2V0dXAgY2xlYXJlZCBjb250YWluZXJcclxuICAgICAgICB0aGlzLl9jbGVhcmVkQ29udGFpbmVyID0gbmV3IENvbnRhaW5lcigpO1xyXG4gICAgICAgIHRoaXMuX2NsZWFyZWRDb250YWluZXIuYWRkKFwidHh0Q2xlYXJlZFwiLCBTcHJpdGVzLmdlbmVyYXRlQml0bWFwVGV4dChcIkRhdGEgc3VjY2Vzc2Z1bGx5IGNsZWFyZWQhXCIsIExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5UeXBvZ3JhcGh5KSk7XHJcbiAgICAgICAgdGhpcy5fY2xlYXJlZENvbnRhaW5lci5Db250YWluZXIueCAtPSB0aGlzLl9nYW1lLlN0YWdlV2lkdGg7XHJcbiAgICAgICAgdGhpcy5fY2xlYXJlZENvbnRhaW5lci5Db250YWluZXIueSAtPSB0aGlzLl9nYW1lLlN0YWdlSGVpZ2h0O1xyXG5cclxuICAgICAgICAvL3NldHVwIGxldmVsIHNlbGVjdCBjb250YWluZXJcclxuICAgICAgICAvLyB0aGlzLl9sZXZlbFNlbGVjdENvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcclxuICAgICAgICAvLyB0aGlzLl9sZXZlbFNlbGVjdENvbnRhaW5lci5hZGRNYW55KHtcclxuICAgICAgICAvLyAgICAgdHh0T3B0aW9ucyA6IFNwcml0ZXMuZ2VuZXJhdGVCaXRtYXBUZXh0KFwiTGV2ZWwgU2VsZWN0XCIsIExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5UeXBvZ3JhcGh5KSxcclxuICAgICAgICAvLyAgICAgLy8gc3RhdGljQkcgOiBTcHJpdGVzLkJhY2tncm91bmRzLkxldmVsU2VsZWN0QkcsXHJcbiAgICAgICAgLy8gICAgIC8vIC8vIGxldmVscyA6IHRoaXMuX2xldmVsU2VsZWN0TGV2ZWxzQ29udGFpbmVyLkNvbnRhaW5lclxyXG4gICAgICAgIC8vICAgICAvLyBsZXZlbDEgOiBTcHJpdGVzLmNsb25lU3ByaXRlKFNwcml0ZXMuQnV0dG9ucy5MZXZlbEVtcHR5IGFzIFNwcml0ZSksXHJcbiAgICAgICAgLy8gICAgIC8vIGxldmVsMiA6IFNwcml0ZXMuY2xvbmVTcHJpdGUoU3ByaXRlcy5CdXR0b25zLkxldmVsRW1wdHkgYXMgU3ByaXRlKVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIHRoaXMuX2xldmVsU2VsZWN0RGlzcGxheSA9IG5ldyBMZXZlbFNlbGVjdERpc3BsYXkoKTtcclxuICAgICAgICAvLyB0aGlzLl9sZXZlbFNlbGVjdENvbnRhaW5lci5hZGQoXCJsZXZlbFNlbGVjdFwiLCB0aGlzLl9sZXZlbFNlbGVjdERpc3BsYXkuQ29udGFpbmVyKTtcclxuICAgICAgICAvLyB0aGlzLl9sZXZlbFNlbGVjdENvbnRhaW5lci5Db250YWluZXIueCArPSB0aGlzLl9nYW1lLlN0YWdlV2lkdGg7XHJcblxyXG4gICAgICAgIHRoaXMuX2xldmVsU2VsZWN0RGlzcGxheSA9IG5ldyBMZXZlbFNlbGVjdERpc3BsYXkoZ2FtZSk7XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxTZWxlY3REaXNwbGF5LkNvbnRhaW5lci54ICs9IHRoaXMuX2dhbWUuU3RhZ2VXaWR0aDtcclxuXHJcblxyXG4gICAgICAgIC8vc2V0dXAgcHJvcGVydGllc1xyXG4gICAgICAgIHRoaXMuX3N3aXBlU3BlZWQgPSA4MDA7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudFNjcmVlbiA9IFwibWFpblwiO1xyXG4gICAgICAgIHRoaXMuX2luaXRpYWxTd2lwZVBvcyA9IHsgeDotMSwgeTotMSB9O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwcml2YXRlIF9vbk5ld0dhbWUoKSB7XHJcbiAgICAgICAgTG9nZ2luZy5tZXNzYWdlKFwiR28gdG8gbmV3IGdhbWUhXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBEYXRhTWFuYWdlci5nZXRMZXZlbERhdGFCeUluZGV4KDApO1xyXG4gICAgICAgIChTY3JlZW5NYW5hZ2VyLmdldFNjcmVlbkJ5S2V5KFwiZ2FtZVwiKSBhcyBHYW1lU2NyZWVuKS5MZXZlbERhdGEgPSBkYXRhO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGludGVybWVkaWFyeSA9IFNjcmVlbk1hbmFnZXIuZ2V0U2NyZWVuQnlLZXkoXCJpbnRlcm1lZGlhcnlcIikgYXMgSW50ZXJtZWRpYXJ5U2NyZWVuO1xyXG4gICAgICAgIG5ldyBQcm9taXNlKGFzeW5jKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpbnRlcm1lZGlhcnkuVGV4dCA9IGRhdGEubmFtZTtcclxuICAgICAgICAgICAgYXdhaXQgU2NyZWVuTWFuYWdlci5zZXRDdXJyZW50U2NyZWVuKGludGVybWVkaWFyeSwgdGhpcy5TdGFnZSk7XHJcbiAgICAgICAgICAgIGludGVybWVkaWFyeS5xdWV1ZU5leHRTY3JlZW4oXCJnYW1lXCIpO1xyXG5cclxuICAgICAgICAgICAgcmVzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9vbk9wdGlvbnMoKSB7XHJcbiAgICAgICAgLy9nbyB0byBvcHRpb25zIVxyXG4gICAgICAgIExvZ2dpbmcubWVzc2FnZShcIkdvIHRvIG9wdGlvbnMhXCIpO1xyXG4gICAgICAgIGNyZWF0ZWpzLlR3ZWVuLmdldCh0aGlzLl9zd2lwZUNvbnRhaW5lcikudG8oe3g6dGhpcy5fZ2FtZS5TdGFnZVdpZHRofSwgdGhpcy5fc3dpcGVTcGVlZCwgY3JlYXRlanMuRWFzZS5jaXJjT3V0KTtcclxuICAgICAgICB0aGlzLl9jdXJyZW50U2NyZWVuID0gXCJvcHRpb25zXCI7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9vbkxldmVsU2VsZWN0KCkge1xyXG4gICAgICAgIExvZ2dpbmcubWVzc2FnZShcIkdvIHRvIGxldmVsIHNlbGVjdCFcIik7XHJcbiAgICAgICAgY3JlYXRlanMuVHdlZW4uZ2V0KHRoaXMuX3N3aXBlQ29udGFpbmVyKS50byh7eDotdGhpcy5fZ2FtZS5TdGFnZVdpZHRofSwgdGhpcy5fc3dpcGVTcGVlZCwgY3JlYXRlanMuRWFzZS5jaXJjT3V0KTtcclxuICAgICAgICB0aGlzLl9jdXJyZW50U2NyZWVuID0gXCJsZXZlbFNlbGVjdFwiO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfb25FeGl0KCkge1xyXG4gICAgICAgIExvZ2dpbmcubWVzc2FnZShcIkdvIHRvIGV4aXQhXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX29uTWFpbigpIHtcclxuICAgICAgICBMb2dnaW5nLm1lc3NhZ2UoXCJHbyB0byBtYWluIVwiKTtcclxuICAgICAgICBjcmVhdGVqcy5Ud2Vlbi5nZXQodGhpcy5fc3dpcGVDb250YWluZXIpLnRvKHt4OjB9LCB0aGlzLl9zd2lwZVNwZWVkLCBjcmVhdGVqcy5FYXNlLmJvdW5jZU91dCk7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudFNjcmVlbiA9IFwibWFpblwiO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX29uQ2xlYXJEYXRhKCkge1xyXG4gICAgICAgIExvZ2dpbmcuc3VjY2VzcyhcIkNsZWFyZWQgZGF0YSFcIik7XHJcbiAgICAgICAgY3JlYXRlanMuVHdlZW4uZ2V0KHRoaXMuX3N3aXBlQ29udGFpbmVyKS50byh7eDp0aGlzLl9nYW1lLlN0YWdlV2lkdGgsIHk6dGhpcy5fZ2FtZS5TdGFnZUhlaWdodH0sIHRoaXMuX3N3aXBlU3BlZWQsIGNyZWF0ZWpzLkVhc2UuY3ViaWNJbik7XHJcbiAgICAgICAgLy8gdGhpcy5fY3VycmVudFNjcmVlbiA9IFwiY2xlYXJlZFwiXHJcbiAgICAgICAgbGV0IGUgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNyZWF0ZWpzLlR3ZWVuLmdldCh0aGlzLl9zd2lwZUNvbnRhaW5lcikudG8oe3g6dGhpcy5fZ2FtZS5TdGFnZVdpZHRoLCB5OjB9LCB0aGlzLl9zd2lwZVNwZWVkLCBjcmVhdGVqcy5FYXNlLmN1YmljSW5PdXQpO1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChlKTtcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFNjcmVlbiA9IFwib3B0aW9uc1wiO1xyXG4gICAgICAgIH0sIDIwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX29uRHJhZ1N0YXJ0KGUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5faW5pdGlhbFN3aXBlUG9zID0geyB4OmUuc3RhZ2VYLCB5OmUuc3RhZ2VZIH07XHJcblxyXG4gICAgICAgIC8vcmVzZXQgZHJhZyB0aW1lciBpZiBub3QgbnVsbFxyXG4gICAgICAgIGlmKHRoaXMuX2RyYWdUaW1lciAhPSBudWxsKSB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX2RyYWdUaW1lcik7XHJcbiAgICAgICAgdGhpcy5fZHJhZ1RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxTd2lwZVBvcyA9IHsgeDotMSwgeTotMSB9O1xyXG4gICAgICAgICAgICB0aGlzLl9kcmFnVGltZXIgPSBudWxsO1xyXG4gICAgICAgIH0sIDUwMCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9vbkRyYWdFbmQoZSkge1xyXG4gICAgICAgIGlmKHRoaXMuX2luaXRpYWxTd2lwZVBvcy54ICE9IC0xIHx8IHRoaXMuX2luaXRpYWxTd2lwZVBvcy55ICE9IC0xKSB7XHJcbiAgICAgICAgICAgIC8vZmluZCB0aGUgZGlyZWN0aW9uXHJcbiAgICAgICAgICAgIGlmKCh0aGlzLl9pbml0aWFsU3dpcGVQb3MueCAtIGUuc3RhZ2VYKSA+IDIwKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9jdXJyZW50U2NyZWVuID09IFwib3B0aW9uc1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uTWFpbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYoKHRoaXMuX2luaXRpYWxTd2lwZVBvcy54IC0gZS5zdGFnZVgpIDwgLTIwKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9jdXJyZW50U2NyZWVuID09IFwibGV2ZWxTZWxlY3RcIilcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbk1haW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBPVkVSUklERVMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgY3JlYXRlKHN0YWdlOmNyZWF0ZWpzLlN0YWdlR0wpOlNjcmVlbiB7XHJcblxyXG4gICAgICAgIC8vYWRkIGluIHRoZSBjb250YWluZXJzXHJcbiAgICAgICAgdGhpcy5fc3RhdGljQ29udGFpbmVyLlNwcml0ZXMuYmcueSA9IDA7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZENoaWxkKHRoaXMuX3N0YXRpY0NvbnRhaW5lci5Db250YWluZXIpO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl9zd2lwZUNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5fc3dpcGVDb250YWluZXIuYWRkQ2hpbGQodGhpcy5fbWFpbkNvbnRhaW5lci5Db250YWluZXIpO1xyXG4gICAgICAgIHRoaXMuX3N3aXBlQ29udGFpbmVyLmFkZENoaWxkKHRoaXMuX29wdGlvbnNDb250YWluZXIuQ29udGFpbmVyKTtcclxuICAgICAgICB0aGlzLl9zd2lwZUNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl9jbGVhcmVkQ29udGFpbmVyLkNvbnRhaW5lcik7XHJcbiAgICAgICAgLy8gdGhpcy5fc3dpcGVDb250YWluZXIuYWRkQ2hpbGQodGhpcy5fbGV2ZWxTZWxlY3RDb250YWluZXIuQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fc3dpcGVDb250YWluZXIuYWRkQ2hpbGQodGhpcy5fbGV2ZWxTZWxlY3REaXNwbGF5LkNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIHJldHVybiBzdXBlci5jcmVhdGUoc3RhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbmFibGUoKSB7XHJcbiAgICAgICAgc3VwZXIuZW5hYmxlKCk7XHJcbiAgICAgICAgLy9saXN0ZW4gdG8gZXZlbnRzXHJcbiAgICAgICAgKHRoaXMuX21haW5Db250YWluZXIuU3ByaXRlcy5idG5OZXdHYW1lIGFzIGFueSkub24oXCJjbGlja1wiLCB0aGlzLl9vbk5ld0dhbWUsIHRoaXMsIHRydWUpO1xyXG4gICAgICAgICh0aGlzLl9tYWluQ29udGFpbmVyLlNwcml0ZXMuYnRuT3B0aW9ucyBhcyBhbnkpLm9uKFwiY2xpY2tcIiwgdGhpcy5fb25PcHRpb25zLCB0aGlzKTtcclxuICAgICAgICAodGhpcy5fbWFpbkNvbnRhaW5lci5TcHJpdGVzLmJ0bkxldmVsU2VsZWN0IGFzIGFueSkub24oXCJjbGlja1wiLCB0aGlzLl9vbkxldmVsU2VsZWN0LCB0aGlzKTtcclxuICAgICAgICAodGhpcy5fbWFpbkNvbnRhaW5lci5TcHJpdGVzLmJ0bkV4aXQgYXMgYW55KS5vbihcImNsaWNrXCIsIHRoaXMuX29uRXhpdCwgdGhpcyk7XHJcblxyXG4gICAgICAgIFNwcml0ZXMubGlzdGVuVG9DbGVhckRhdGEoKTtcclxuICAgICAgICAodGhpcy5fb3B0aW9uc0NvbnRhaW5lci5TcHJpdGVzLmJ0bkNsZWFyRGF0YSBhcyBhbnkpLm9uKFNwcml0ZXMuQ0xFQVJfREFUQSwgdGhpcy5fb25DbGVhckRhdGEsIHRoaXMpO1xyXG5cclxuICAgICAgICAvL2xpc3RlbiBmb3Igc3dpcGVzXHJcbiAgICAgICAgKHRoaXMuX3N0YXRpY0NvbnRhaW5lci5TcHJpdGVzLmJnIGFzIGFueSkub24oXCJtb3VzZWRvd25cIiwgdGhpcy5fb25EcmFnU3RhcnQsIHRoaXMpO1xyXG4gICAgICAgICh0aGlzLl9zdGF0aWNDb250YWluZXIuU3ByaXRlcy5iZyBhcyBhbnkpLm9uKFwiY2xpY2tcIiwgdGhpcy5fb25EcmFnRW5kLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5fbWFpbkNvbnRhaW5lci5TcHJpdGVzLmJ0bk9wdGlvbnMub24oXCJjbGlja1wiLCAoKSA9PiBjb25zb2xlLmxvZyhcIkhFTExPIEkgQ0xJQ1wiKSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2xldmVsU2VsZWN0RGlzcGxheS5lbmFibGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzYWJsZSgpIHtcclxuICAgICAgICBzdXBlci5kaXNhYmxlKCk7XHJcbiAgICAgICAgLy9zdG9wIGxpc3RlbiB0byBldmVudHNcclxuICAgICAgICAodGhpcy5fbWFpbkNvbnRhaW5lci5TcHJpdGVzLmJ0bk5ld0dhbWUgYXMgYW55KS5vZmYoXCJjbGlja1wiLCB0aGlzLl9vbk5ld0dhbWUpO1xyXG4gICAgICAgICh0aGlzLl9tYWluQ29udGFpbmVyLlNwcml0ZXMuYnRuT3B0aW9ucyBhcyBhbnkpLm9mZihcImNsaWNrXCIsIHRoaXMuX29uT3B0aW9ucyk7XHJcbiAgICAgICAgKHRoaXMuX21haW5Db250YWluZXIuU3ByaXRlcy5idG5MZXZlbFNlbGVjdCBhcyBhbnkpLm9mZihcImNsaWNrXCIsIHRoaXMuX29uTGV2ZWxTZWxlY3QpO1xyXG4gICAgICAgICh0aGlzLl9tYWluQ29udGFpbmVyLlNwcml0ZXMuYnRuRXhpdCBhcyBhbnkpLm9mZihcImNsaWNrXCIsIHRoaXMuX29uRXhpdCk7XHJcblxyXG4gICAgICAgIFNwcml0ZXMuc3RvcExpc3RlblRvQ2xlYXJEYXRhKCk7XHJcbiAgICAgICAgKHRoaXMuX29wdGlvbnNDb250YWluZXIuU3ByaXRlcy5idG5DbGVhckRhdGEgYXMgYW55KS5vZmYoU3ByaXRlcy5DTEVBUl9EQVRBLCB0aGlzLl9vbkNsZWFyRGF0YSk7XHJcblxyXG4gICAgICAgIC8vc3RvcCBsaXN0ZW4gZm9yIHN3aXBlc1xyXG4gICAgICAgICh0aGlzLl9zdGF0aWNDb250YWluZXIuU3ByaXRlcy5iZyBhcyBhbnkpLm9mZihcIm1vdXNlZG93blwiLCB0aGlzLl9vbkRyYWdTdGFydCk7XHJcbiAgICAgICAgKHRoaXMuX3N0YXRpY0NvbnRhaW5lci5TcHJpdGVzLmJnIGFzIGFueSkub2ZmKFwiY2xpY2tcIiwgdGhpcy5fb25EcmFnRW5kKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuX2xldmVsU2VsZWN0RGlzcGxheS5kaXNhYmxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2V0KCkge1xyXG4gICAgICAgICAvL3Jlc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgc3dpcGUgY29udGFpbmVyXHJcbiAgICAgICAgIHRoaXMuX3N3aXBlQ29udGFpbmVyLnggPSAwO1xyXG4gICAgICAgICB0aGlzLl9zd2lwZUNvbnRhaW5lci55ID0gMDtcclxuICAgICAgICBzdXBlci5yZXNldCgpO1xyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG59IiwiaW1wb3J0IHsgSVVwZGF0ZWFibGUsIElDcmVhdGVhYmxlLCBJRW5hYmxlYWJsZSB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2NyZWVuIGltcGxlbWVudHMgSUNyZWF0ZWFibGU8U2NyZWVuPiwgSVVwZGF0ZWFibGUsIElFbmFibGVhYmxlIHtcclxuICAgIHByaXZhdGUgX3N0YWdlOmNyZWF0ZWpzLlN0YWdlR0w7XHJcbiAgICBwcm90ZWN0ZWQgX2NvbnRhaW5lcjpjcmVhdGVqcy5Db250YWluZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gbmV3IGNyZWF0ZWpzLkNvbnRhaW5lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qKlVwZGF0ZXMgdGhlIHNjcmVlbi4gKi9cclxuICAgIHB1YmxpYyB1cGRhdGUoZ2FtZVRpbWU6bnVtYmVyKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKkNyZWF0ZXMgdGhlIHNjcmVlbiBhbmQgYWRkcyB0byB0aGUgc3RhZ2UuICovXHJcbiAgICBwdWJsaWMgY3JlYXRlKHN0YWdlOmNyZWF0ZWpzLlN0YWdlR0wpOlNjcmVlbiB7XHJcbiAgICAgICAgdGhpcy5fc3RhZ2UgPSBzdGFnZTtcclxuICAgICAgICAvL2FkZCB0byB0aGUgc3RhZ2VcclxuICAgICAgICB0aGlzLl9zdGFnZS5hZGRDaGlsZCh0aGlzLl9jb250YWluZXIpO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipEZXN0cm95cyB0aGUgc2NyZWVuIGFuZCByZW1vdmVzIGZyb20gdGhlIHN0YWdlLiAqL1xyXG4gICAgcHVibGljIGRlc3Ryb3koKTpTY3JlZW4ge1xyXG5cclxuICAgICAgICAvL3JlbW92ZSBmcm9tIHRoZSBzdGFnZVxyXG4gICAgICAgIHRoaXMuX3N0YWdlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbmFibGUoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNhYmxlKCkge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNldCgpIHtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEFCU1RSQUNUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEVWRU5UUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE9WRVJSSURFUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEdFVFRFUlMgJiBTRVRURVJTIC0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHB1YmxpYyBnZXQgQ29udGFpbmVyKCk6Y3JlYXRlanMuQ29udGFpbmVyIHsgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjsgfVxyXG4gICAgcHJvdGVjdGVkIGdldCBTdGFnZSgpOmNyZWF0ZWpzLlN0YWdlR0wgeyByZXR1cm4gdGhpcy5fc3RhZ2U7IH1cclxuXHJcbn0iLCJpbXBvcnQgeyBTY3JlZW4gfSBmcm9tIFwiLi9TY3JlZW5cIjtcclxuaW1wb3J0IHsgU2NyZWVuTWFuYWdlciB9IGZyb20gXCIuLi9tYW5hZ2Vycy9TY3JlZW5NYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3BsYXNoU2NyZWVuIGV4dGVuZHMgU2NyZWVuIHtcclxuICAgIHByaXZhdGUgX3NwbGFzaDpjcmVhdGVqcy5TaGFwZTtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBPVkVSUklERVMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgY3JlYXRlKHN0YWdlOmNyZWF0ZWpzLlN0YWdlR0wpOlNjcmVlbiB7XHJcbiAgICAgICAgLy9hZGQgc3R1ZmZcclxuICAgICAgICB0aGlzLl9zcGxhc2ggPSBuZXcgY3JlYXRlanMuU2hhcGUoKTtcclxuICAgICAgICB0aGlzLl9zcGxhc2guZ3JhcGhpY3MuYmVnaW5GaWxsKFwicmVkXCIpO1xyXG4gICAgICAgIHRoaXMuX3NwbGFzaC5ncmFwaGljcy5kcmF3UmVjdCgwLCAwLCAxMDAsIDEwMCk7XHJcbiAgICAgICAgdGhpcy5fc3BsYXNoLmdyYXBoaWNzLmVuZEZpbGwoKTtcclxuICAgICAgICB0aGlzLl9zcGxhc2guY2FjaGUoMCwgMCwgMTAwLCAxMDApO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl9zcGxhc2gpO1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZShzdGFnZSk7XHJcblxyXG4gICAgICAgIC8vZm9yIHRlc3RpbmdcclxuICAgICAgICAodGhpcy5fY29udGFpbmVyIGFzIGFueSkub24oXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBTY3JlZW5NYW5hZ2VyLnNldEN1cnJlbnRTY3JlZW4oXCJtZW51XCIsIHN0YWdlKTtcclxuICAgICAgICB9LCB0aGlzLCB0cnVlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBHRVRURVJTICYgU0VUVEVSUyAtLS0tLS0tLS0tLS0tLSovXHJcbn0iLCJpbXBvcnQgeyBMb2FkTWFuYWdlciB9IGZyb20gXCIuLi9tYW5hZ2Vycy9Mb2FkTWFuYWdlclwiO1xyXG5cclxuLyoqVXNlZCB0byBnYWluIGFjY2VzcyB0byBpbi1nYW1lIHNwcml0ZXMuICovXHJcbmV4cG9ydCBjbGFzcyBTcHJpdGVzIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgQ0xFQVJfREFUQTpzdHJpbmcgPSBcIm9uQ2xlYXJEYXRhXCI7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2JhY2tncm91bmRzOnsgW2tleTpzdHJpbmddOmNyZWF0ZWpzLkRpc3BsYXlPYmplY3QgfSA9IHsgfTtcclxuICAgIHByaXZhdGUgc3RhdGljIF9idXR0b25zOnsgW2tleTpzdHJpbmddOmNyZWF0ZWpzLkRpc3BsYXlPYmplY3QgfSA9IHsgfTtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfc3ByaXRlc2hlZXRzOmNyZWF0ZWpzLlNwcml0ZVNoZWV0W107XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2NhbkNsZWFyRGF0YTpib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIHN0YXRpYyBzZXR1cCgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFNwcml0ZXMuc3ByaXRlc2hlZXRzID0gc3ByaXRlc2hlZXRzXHJcbiAgICAgICAgICAgIC8vc2V0dXAgYWxsIHRoZSBzcHJpdGVzXHJcbiAgICAgICAgICAgIC8qIC0tLS0tLS0gU1RBVElDIC0tLS0tLS0gKi9cclxuICAgICAgICAgICAgU3ByaXRlcy5fYmFja2dyb3VuZHMuTWFpbiA9IG5ldyBjcmVhdGVqcy5TcHJpdGUoTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLlVJKTsgLy8gU3RhdGljIEJHXHJcbiAgICAgICAgICAgIChTcHJpdGVzLl9iYWNrZ3JvdW5kcy5NYWluIGFzIGNyZWF0ZWpzLlNwcml0ZSkuZ290b0FuZFN0b3AoXCJiZ19tYWluX3N0YXRpY1wiKTtcclxuXHJcbiAgICAgICAgICAgIFNwcml0ZXMuX2JhY2tncm91bmRzLkxvZ28gPSBuZXcgY3JlYXRlanMuU3ByaXRlKExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5FbnRpdGllcyk7IC8vIExPR09cclxuICAgICAgICAgICAgKFNwcml0ZXMuX2JhY2tncm91bmRzLkxvZ28gYXMgY3JlYXRlanMuU3ByaXRlKS5nb3RvQW5kU3RvcChcImljb25fdGl0bGVcIik7XHJcblxyXG4gICAgICAgICAgICBTcHJpdGVzLl9iYWNrZ3JvdW5kcy5CRyA9IExvYWRNYW5hZ2VyLkltYWdlcy5CRzsgLy8gUmVkdXhcclxuICAgICAgICAgICAgU3ByaXRlcy5fYmFja2dyb3VuZHMuQkdUb3AgPSBMb2FkTWFuYWdlci5JbWFnZXMuQkdUb3A7XHJcblxyXG5cclxuICAgICAgICAgICAgLyogLS0tLS0tLSBBTklNQVRFRCAtLS0tLS0tICovXHJcbiAgICAgICAgICAgIFNwcml0ZXMuX2JhY2tncm91bmRzLldhdmUgPSBuZXcgY3JlYXRlanMuU3ByaXRlKExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5VSSk7IC8vIEFuaW1hdGVkIEJHXHJcbiAgICAgICAgICAgIChTcHJpdGVzLl9iYWNrZ3JvdW5kcy5XYXZlIGFzIGNyZWF0ZWpzLlNwcml0ZSkuZ290b0FuZFBsYXkoXCJiZ19tYWluXCIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLyogLS0tLS0tLSBCVVRUT05TIC0tLS0tLS0gKi9cclxuICAgICAgICAgICAgU3ByaXRlcy5fYnV0dG9ucy5OZXdHYW1lID0gbmV3IGNyZWF0ZWpzLlNwcml0ZShMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuRW50aXRpZXMpOyAvLyBOZXcgR2FtZVxyXG4gICAgICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5OZXdHYW1lIGFzIGNyZWF0ZWpzLlNwcml0ZSkuZ290b0FuZFN0b3AoXCJidG5fbmV3X2dhbWVcIik7XHJcbiAgICAgICAgICAgIG5ldyBjcmVhdGVqcy5CdXR0b25IZWxwZXIoU3ByaXRlcy5fYnV0dG9ucy5OZXdHYW1lIGFzIGNyZWF0ZWpzLlNwcml0ZSwgXCJidG5fbmV3X2dhbWVcIiwgXCJidG5fbmV3X2dhbWVfaG92ZXJcIiwgXCJidG5fbmV3X2dhbWVfaG92ZXJcIik7XHJcblxyXG5cclxuICAgICAgICAgICAgU3ByaXRlcy5fYnV0dG9ucy5PcHRpb25zID0gbmV3IGNyZWF0ZWpzLlNwcml0ZShMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuRW50aXRpZXMpOyAvLyBPcHRpb25zXHJcbiAgICAgICAgICAgIChTcHJpdGVzLl9idXR0b25zLk9wdGlvbnMgYXMgY3JlYXRlanMuU3ByaXRlKS5nb3RvQW5kU3RvcChcImJ0bl9uZXdfZ2FtZVwiKTtcclxuICAgICAgICAgICAgbmV3IGNyZWF0ZWpzLkJ1dHRvbkhlbHBlcihTcHJpdGVzLl9idXR0b25zLk9wdGlvbnMgYXMgY3JlYXRlanMuU3ByaXRlLCBcImJ0bl9vcHRpb25zXCIsIFwiYnRuX29wdGlvbnNfaG92ZXJcIiwgXCJidG5fb3B0aW9uc19ob3ZlclwiKTtcclxuXHJcbiAgICAgICAgICAgIFNwcml0ZXMuX2J1dHRvbnMuTGV2ZWxTZWxlY3QgPSBuZXcgY3JlYXRlanMuU3ByaXRlKExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5FbnRpdGllcyk7IC8vIFNlbGVjdFxyXG4gICAgICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5MZXZlbFNlbGVjdCBhcyBjcmVhdGVqcy5TcHJpdGUpLmdvdG9BbmRTdG9wKFwiYnRuX3NlbGVjdFwiKTtcclxuICAgICAgICAgICAgbmV3IGNyZWF0ZWpzLkJ1dHRvbkhlbHBlcihTcHJpdGVzLl9idXR0b25zLkxldmVsU2VsZWN0IGFzIGNyZWF0ZWpzLlNwcml0ZSwgXCJidG5fc2VsZWN0XCIsIFwiYnRuX3NlbGVjdF9ob3ZlclwiLCBcImJ0bl9zZWxlY3RfaG92ZXJcIik7XHJcblxyXG4gICAgICAgICAgICBTcHJpdGVzLl9idXR0b25zLkV4aXQgPSBuZXcgY3JlYXRlanMuU3ByaXRlKExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5FbnRpdGllcyk7IC8vIEV4aXRcclxuICAgICAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuRXhpdCBhcyBjcmVhdGVqcy5TcHJpdGUpLmdvdG9BbmRTdG9wKFwiYnRuX3NlbGVjdFwiKTtcclxuICAgICAgICAgICAgbmV3IGNyZWF0ZWpzLkJ1dHRvbkhlbHBlcihTcHJpdGVzLl9idXR0b25zLkV4aXQgYXMgY3JlYXRlanMuU3ByaXRlLCBcImJ0bl9leGl0XCIsIFwiYnRuX2V4aXRfaG92ZXJcIiwgXCJidG5fZXhpdF9ob3ZlclwiKTtcclxuXHJcbiAgICAgICAgICAgIFNwcml0ZXMuX2J1dHRvbnMuRmlzaGJvd2wgPSBuZXcgY3JlYXRlanMuU3ByaXRlKExvYWRNYW5hZ2VyLlNwcml0ZXNoZWV0cy5FbnRpdGllcyk7IC8vIEZpc2hib3dsXHJcbiAgICAgICAgICAgIChTcHJpdGVzLl9idXR0b25zLkZpc2hib3dsIGFzIGNyZWF0ZWpzLlNwcml0ZSkuZ290b0FuZFN0b3AoXCJidG5fc2VsZWN0XCIpO1xyXG4gICAgICAgICAgICBuZXcgY3JlYXRlanMuQnV0dG9uSGVscGVyKFNwcml0ZXMuX2J1dHRvbnMuRmlzaGJvd2wgYXMgY3JlYXRlanMuU3ByaXRlLCBcImljb25fZmlzaGJvd2xcIiwgXCJpY29uX2Zpc2hib3dsX2hvdmVyXCIsIFwiaWNvbl9maXNoYm93bF9ob3ZlclwiLCB0cnVlKTtcclxuXHJcblxyXG4gICAgICAgICAgICAvKiAtLS0tLS0tIE1FTlUgLS0tLS0tLSAqL1xyXG4gICAgICAgICAgICBTcHJpdGVzLl9iYWNrZ3JvdW5kcy5MZXZlbFNlbGVjdEJHID0gbmV3IGNyZWF0ZWpzLlNwcml0ZShMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuTWVudV9MZXZlbF9TZWxlY3QpOyAvLyBMZXZlbCBTZWxlY3QgQkdcclxuICAgICAgICAgICAgKFNwcml0ZXMuX2JhY2tncm91bmRzLkxldmVsU2VsZWN0QkcgYXMgY3JlYXRlanMuU3ByaXRlKS5nb3RvQW5kU3RvcChcInN0YXRpY19iZ1wiKTtcclxuICAgICAgICAgICAgU3ByaXRlcy5fYnV0dG9ucy5MZXZlbEVtcHR5ID0gbmV3IGNyZWF0ZWpzLlNwcml0ZShMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuTWVudV9MZXZlbF9TZWxlY3QpOyAvLyBMZXZlbCBFbXB0eSBCdXR0b25cclxuICAgICAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuTGV2ZWxFbXB0eSBhcyBjcmVhdGVqcy5TcHJpdGUpLmdvdG9BbmRTdG9wKFwibGV2ZWxfZW1wdHlcIik7XHJcbiAgICAgICAgICAgIFNwcml0ZXMuX2J1dHRvbnMuTGV2ZWxDb21wbGV0ZSA9IG5ldyBjcmVhdGVqcy5TcHJpdGUoTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLk1lbnVfTGV2ZWxfU2VsZWN0KTsgLy8gTGV2ZWwgQ29tcGxldGUgQnV0dG9uXHJcbiAgICAgICAgICAgIChTcHJpdGVzLl9idXR0b25zLkxldmVsQ29tcGxldGUgYXMgY3JlYXRlanMuU3ByaXRlKS5nb3RvQW5kU3RvcChcImxldmVsX2NvbXBsZXRlXCIpO1xyXG4gICAgICAgICAgICBTcHJpdGVzLl9idXR0b25zLkxldmVsU3BlY2lhbEVtcHR5ID0gbmV3IGNyZWF0ZWpzLlNwcml0ZShMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuTWVudV9MZXZlbF9TZWxlY3QpOyAvLyBMZXZlbCBTcGVjaWFsIEVtcHR5IEJ1dHRvblxyXG4gICAgICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5MZXZlbFNwZWNpYWxFbXB0eSBhcyBjcmVhdGVqcy5TcHJpdGUpLmdvdG9BbmRTdG9wKFwibGV2ZWxfc3BlY2lhbF9lbXB0eVwiKTtcclxuICAgICAgICAgICAgU3ByaXRlcy5fYnV0dG9ucy5MZXZlbFNwZWNpYWxDb21wbGV0ZSA9IG5ldyBjcmVhdGVqcy5TcHJpdGUoTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLk1lbnVfTGV2ZWxfU2VsZWN0KTsgLy8gTGV2ZWwgU3BlY2lhbCBDb21wbGV0ZSBCdXR0b25cclxuICAgICAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuTGV2ZWxTcGVjaWFsQ29tcGxldGUgYXMgY3JlYXRlanMuU3ByaXRlKS5nb3RvQW5kU3RvcChcImxldmVsX3NwZWNpYWxfY29tcGxldGVcIik7XHJcblxyXG5cclxuICAgICAgICAgICAgLyogLS0tLS0tLSBDT01QTEVYIC0tLS0tLS0gKi9cclxuICAgICAgICAgICAgU3ByaXRlcy5fc2V0dXBCVE5DbGVhckRhdGEoKTtcclxuXHJcbiAgICAgICAgICAgIHJlcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC8qIC0tLSBDb21wbGV4IGNyZWF0ZWpzLlNwcml0ZSBTZXR1cCAtLS0gKi9cclxuICAgIHByaXZhdGUgc3RhdGljIF9zZXR1cEJUTkNsZWFyRGF0YSgpIHtcclxuICAgICAgICBTcHJpdGVzLl9idXR0b25zLkNsZWFyRGF0YSA9IG5ldyBjcmVhdGVqcy5TcHJpdGUoTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLlVJKTsgLy8gQlROIENsZWFyIERhdGFcclxuICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5DbGVhckRhdGEgYXMgY3JlYXRlanMuU3ByaXRlKS5nb3RvQW5kU3RvcChcImJ0bl9jbGVhcl9kYXRhXCIpO1xyXG4gICAgICAgIChTcHJpdGVzLl9idXR0b25zLkNsZWFyRGF0YSBhcyBjcmVhdGVqcy5TcHJpdGUpLmN1cnNvciA9IFwicG9pbnRlclwiO1xyXG4gICAgICAgIFNwcml0ZXMuX2NhbkNsZWFyRGF0YSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBsaXN0ZW5Ub0NsZWFyRGF0YSgpIHtcclxuICAgICAgICAvL2xpc3RlblxyXG4gICAgICAgIChTcHJpdGVzLl9idXR0b25zLkNsZWFyRGF0YSBhcyBhbnkpLm9uKFwibW91c2Vkb3duXCIsIFNwcml0ZXMuX2J0bkRhdGFEb3duKTtcclxuICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5DbGVhckRhdGEgYXMgYW55KS5vbihcImFuaW1hdGlvbmVuZFwiLCBTcHJpdGVzLl9idG5EYXRhQ29tcGxldGUpO1xyXG4gICAgICAgIChTcHJpdGVzLl9idXR0b25zLkNsZWFyRGF0YSBhcyBhbnkpLm9uKFwiY2xpY2tcIiwgU3ByaXRlcy5fYnRuRGF0YVVwKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgc3RvcExpc3RlblRvQ2xlYXJEYXRhKCkge1xyXG4gICAgICAgIC8vbGlzdGVuXHJcbiAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuQ2xlYXJEYXRhIGFzIGFueSkub2ZmKFwibW91c2Vkb3duXCIsIFNwcml0ZXMuX2J0bkRhdGFEb3duKTtcclxuICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5DbGVhckRhdGEgYXMgYW55KS5vZmYoXCJhbmltYXRpb25lbmRcIiwgU3ByaXRlcy5fYnRuRGF0YUNvbXBsZXRlKTtcclxuICAgICAgICAoU3ByaXRlcy5fYnV0dG9ucy5DbGVhckRhdGEgYXMgYW55KS5vZmYoXCJjbGlja1wiLCBTcHJpdGVzLl9idG5EYXRhVXApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9idG5EYXRhRG93bihlKSB7XHJcbiAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuQ2xlYXJEYXRhIGFzIGNyZWF0ZWpzLlNwcml0ZSkuZ290b0FuZFBsYXkoXCJidG5fY2xlYXJfZGF0YV9wcm9ncmVzc1wiKTtcclxuICAgICAgICBTcHJpdGVzLl9jYW5DbGVhckRhdGEgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2J0bkRhdGFVcChlKSB7XHJcbiAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuQ2xlYXJEYXRhIGFzIGNyZWF0ZWpzLlNwcml0ZSkuZ290b0FuZFN0b3AoXCJidG5fY2xlYXJfZGF0YVwiKTtcclxuICAgICAgICBTcHJpdGVzLl9jYW5DbGVhckRhdGEgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgc3RhdGljIF9idG5EYXRhQ29tcGxldGUoZSkge1xyXG4gICAgICAgIChTcHJpdGVzLl9idXR0b25zLkNsZWFyRGF0YSBhcyBjcmVhdGVqcy5TcHJpdGUpLmdvdG9BbmRTdG9wKFwiYnRuX2NsZWFyX2RhdGFcIik7XHJcbiAgICAgICAgLy9kaXNwYXRjaCBldmVudCB0byBidXR0b25cclxuICAgICAgICBpZihTcHJpdGVzLl9jYW5DbGVhckRhdGEpIHtcclxuICAgICAgICAgICAgKFNwcml0ZXMuX2J1dHRvbnMuQ2xlYXJEYXRhIGFzIGNyZWF0ZWpzLlNwcml0ZSkuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoU3ByaXRlcy5DTEVBUl9EQVRBKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLyoqQSBoZWxwZXIgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgYW5kIGNhY2hlIHRleHQgZm9yIHRoZSBTdGFnZUdMIG9iamVjdC4gKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2VuZXJhdGVUZXh0KHRleHQsIGRldGFpbHMgPSBcIjIwcHggQXJpYWxcIiwgY29sb3IgPSBcIiNGRkZFRUVcIikge1xyXG4gICAgICAgIGNvbnN0IHRleHRPYmogPSBuZXcgY3JlYXRlanMuVGV4dCh0ZXh0LCBkZXRhaWxzLCBjb2xvcilcclxuICAgICAgICB0ZXh0T2JqLmNhY2hlKDAsIDAsIHRleHRPYmouZ2V0Qm91bmRzKCkud2lkdGgsIHRleHRPYmouZ2V0Qm91bmRzKCkuaGVpZ2h0KTtcclxuICAgICAgICByZXR1cm4gdGV4dE9iajtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdlbmVyYXRlQml0bWFwVGV4dCh0ZXh0LCBzcHJpdGVzaGVldCkge1xyXG4gICAgICAgIGNvbnN0IHRleHRPYmogPSBuZXcgY3JlYXRlanMuQml0bWFwVGV4dCh0ZXh0LCBzcHJpdGVzaGVldCk7XHJcbiAgICAgICAgcmV0dXJuIHRleHRPYmo7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEFCU1RSQUNUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEVWRU5UUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE9WRVJSSURFUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEdFVFRFUlMgJiBTRVRURVJTIC0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEJhY2tncm91bmRzKCkgeyByZXR1cm4gU3ByaXRlcy5fYmFja2dyb3VuZHM7IH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEJ1dHRvbnMoKSB7IHJldHVybiBTcHJpdGVzLl9idXR0b25zOyB9XHJcblxyXG4gICAgLy8gc3RhdGljIGdldCBCRygpIHsgcmV0dXJuIFNwcml0ZXMuX2JnIH1cclxuICAgIC8vIHN0YXRpYyBnZXQgTG9nbygpIHsgcmV0dXJuIFNwcml0ZXMuX2xvZ28gfVxyXG4gICAgLy8gc3RhdGljIGdldCBBbmltQkcoKSB7IHJldHVybiBTcHJpdGVzLl9hbmltQmcgfVxyXG4gICAgLy8gc3RhdGljIGdldCBHYW1lQkcoKSB7IHJldHVybiBTcHJpdGVzLl9nYW1lQkcgfVxyXG4gICAgLy8gc3RhdGljIGdldCBHYW1lQkdUb3AoKSB7IHJldHVybiBTcHJpdGVzLl9nYW1lQkdUb3AgfVxyXG4gICAgLy8gLy9idXR0b25zXHJcbiAgICAvLyBzdGF0aWMgZ2V0IEJUTl9OZXdfR2FtZSgpIHsgcmV0dXJuIFNwcml0ZXMuX2J0bk5ld0dhbWUgfVxyXG4gICAgLy8gc3RhdGljIGdldCBCVE5fT3B0aW9ucygpIHsgcmV0dXJuIFNwcml0ZXMuX2J0bk9wdGlvbnMgfVxyXG4gICAgLy8gc3RhdGljIGdldCBCVE5fU2VsZWN0KCkgeyByZXR1cm4gU3ByaXRlcy5fYnRuU2VsZWN0IH1cclxuICAgIC8vIHN0YXRpYyBnZXQgQlROX0V4aXQoKSB7IHJldHVybiBTcHJpdGVzLl9idG5FeGl0IH1cclxuICAgIC8vIHN0YXRpYyBnZXQgQlROX0Zpc2hib3dsKCkgeyByZXR1cm4gU3ByaXRlcy5fYnRuRmlzaGJvd2wgfVxyXG4gICAgLy8gc3RhdGljIGdldCBCVE5fQ2xlYXJEYXRhKCkgeyByZXR1cm4gU3ByaXRlcy5fYnRuQ2xlYXJEYXRhIH1cclxuXHJcblxyXG4gICAgLy8gc3RhdGljIGdldCBDTEVBUl9EQVRBKCkgeyByZXR1cm4gXCJvbkNsZWFyRGF0YVwiIH1cclxufSIsImltcG9ydCB7IFNwcml0ZXMgfSBmcm9tIFwiLi4vU3ByaXRlc1wiO1xyXG5pbXBvcnQgeyBMb2FkTWFuYWdlciB9IGZyb20gXCIuLi8uLi9tYW5hZ2Vycy9Mb2FkTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4uLy4uL0dhbWVcIjtcclxuaW1wb3J0IHsgSUVuYWJsZWFibGUgfSBmcm9tIFwiLi4vLi4vSW50ZXJmYWNlc1wiO1xyXG5pbXBvcnQgeyBHYW1lU2NyZWVuIH0gZnJvbSBcIi4uLy4uL3NjcmVlbnMvR2FtZVNjcmVlblwiO1xyXG5pbXBvcnQgeyBEYXRhTWFuYWdlciB9IGZyb20gXCIuLi8uLi9tYW5hZ2Vycy9EYXRhTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTY3JlZW5NYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL21hbmFnZXJzL1NjcmVlbk1hbmFnZXJcIjtcclxuaW1wb3J0IHsgSW50ZXJtZWRpYXJ5U2NyZWVuIH0gZnJvbSBcIi4uLy4uL3NjcmVlbnMvSW50ZXJtZWRpYXJ5U2NyZWVuXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIExldmVsU2VsZWN0RGlzcGxheSBpbXBsZW1lbnRzIElFbmFibGVhYmxlIHtcclxuICAgIHByaXZhdGUgX2dhbWU6R2FtZTtcclxuXHJcbiAgICBwcml2YXRlIF9jb250YWluZXI6Y3JlYXRlanMuQ29udGFpbmVyO1xyXG4gICAgcHJpdmF0ZSBfYmFja2dyb3VuZDpjcmVhdGVqcy5TcHJpdGU7XHJcbiAgICBwcml2YXRlIF9sZXZlbHNDb250YWluZXI6Y3JlYXRlanMuQ29udGFpbmVyO1xyXG4gICAgcHJpdmF0ZSBfbGV2ZWxUZXh0Q29udGFpbmVyOmNyZWF0ZWpzLkNvbnRhaW5lcjtcclxuXHJcbiAgICBwcml2YXRlIF9sZXZlbHNEYXRhOmFueTtcclxuXHJcbiAgICBwcml2YXRlIF9sZXZlbEJ1dHRvbnM6Y3JlYXRlanMuU3ByaXRlW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ2FtZTpHYW1lKSB7XHJcbiAgICAgICAgdGhpcy5fZ2FtZSA9IGdhbWU7XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxCdXR0b25zID0gW107XHJcblxyXG4gICAgICAgIC8vYnVpbGQgdGhlIHJlcXVpcmVkIGNvbXBvbmVudHMgZm9yIHRoZSBsZXZlbCBzZWxlY3QgZGlzcGxheVxyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG5ldyBjcmVhdGVqcy5Db250YWluZXIoKTtcclxuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kID0gU3ByaXRlcy5CYWNrZ3JvdW5kcy5MZXZlbFNlbGVjdEJHIGFzIGNyZWF0ZWpzLlNwcml0ZTtcclxuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kLnggPSAoZ2FtZS5TdGFnZVdpZHRoIC8gMikgLSAodGhpcy5fYmFja2dyb3VuZC5nZXRCb3VuZHMoKS53aWR0aCAvIDIpO1xyXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmQueSA9IDgwO1xyXG5cclxuICAgICAgICB0aGlzLl9sZXZlbHNDb250YWluZXIgPSBuZXcgY3JlYXRlanMuQ29udGFpbmVyKCk7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZENoaWxkKHRoaXMuX2JhY2tncm91bmQpO1xyXG4gICAgICAgIGxldCB0ZXh0ID0gU3ByaXRlcy5nZW5lcmF0ZUJpdG1hcFRleHQoXCJMZXZlbCBTZWxlY3RcIiwgTG9hZE1hbmFnZXIuU3ByaXRlc2hlZXRzLlR5cG9ncmFwaHkpO1xyXG4gICAgICAgIHRleHQueCA9IChnYW1lLlN0YWdlV2lkdGggLyAyKSAtICh0ZXh0LmdldEJvdW5kcygpLndpZHRoIC8gMik7XHJcbiAgICAgICAgdGV4dC55ID0gMzA7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZENoaWxkKHRleHQpO1xyXG5cclxuXHJcbiAgICAgICAgLy9zZXR1cCBkaXNwbGF5IHRleHRcclxuICAgICAgICB0aGlzLl9sZXZlbFRleHRDb250YWluZXIgPSBuZXcgY3JlYXRlanMuQ29udGFpbmVyKCk7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZENoaWxkKHRoaXMuX2xldmVsVGV4dENvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIHRoaXMuTGV2ZWxUZXh0ID0gXCJIZWxsbyBXb3JsZCFcIjtcclxuXHJcblxyXG4gICAgICAgIC8vc3Bvb2Ygc29tZSBsZXZlbCBkYXRhXHJcbiAgICAgICAgdGhpcy5fbGV2ZWxzRGF0YSA9IFtcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgeyBuYW1lOiBcIldlbGNvbWUgdG8gdGhlIHBvbmQhXCIsIGNvbXBsZXRlOnRydWUsIHVubG9ja2VkOnRydWUsIGRhdGE6WzAsIDAsIDAsIDAsIDAsIDAsIDBdIH0sXHJcbiAgICAgICAgICAgICAgICB7IG5hbWU6IFwiQSBuZXcgYWR2ZW50dXJlIVwiLCBjb21wbGV0ZTp0cnVlLCB1bmxvY2tlZDp0cnVlLCBkYXRhOlswLCAwLCAwLCAwLCAwLCAwLCAwXSB9LFxyXG4gICAgICAgICAgICAgICAgeyBuYW1lOiBcIkxlYXJuIHRvIGFpbSFcIiwgY29tcGxldGU6ZmFsc2UsIHVubG9ja2VkOnRydWUsIGRhdGE6WzAsIDAsIDAsIDAsIDAsIDAsIDBdIH0sXHJcbiAgICAgICAgICAgICAgICB7IG5hbWU6IFwiUGVyc2VwaG9uZSFcIiwgc3BlY2lhbDp0cnVlLCBjb21wbGV0ZTpmYWxzZSwgdW5sb2NrZWQ6ZmFsc2UsIGRhdGE6WzAsIDAsIDAsIDAsIDAsIDAsIDBdIH0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgIHsgbmFtZTogXCJJbiBkZWVwIHdhdGVyIVwiLCBjb21wbGV0ZTpmYWxzZSwgdW5sb2NrZWQ6ZmFsc2UsIGRhdGE6WzAsIDAsIDAsIDAsIDAsIDAsIDBdIH0sXHJcbiAgICAgICAgICAgICAgICB7IG5hbWU6IFwiQW4gb2NlYW4gb2YgZmlzaCFcIiwgY29tcGxldGU6ZmFsc2UsIHVubG9ja2VkOmZhbHNlLCBkYXRhOlswLCAwLCAwLCAwLCAwLCAwLCAwXSB9LFxyXG4gICAgICAgICAgICAgICAgeyBuYW1lOiBcIkJhcm5hY2xlcyBhaG95IVwiLCBjb21wbGV0ZTpmYWxzZSwgdW5sb2NrZWQ6ZmFsc2UsIGRhdGE6WzAsIDAsIDAsIDAsIDAsIDAsIDBdIH0sXHJcbiAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT3dlbiFcIiwgc3BlY2lhbDp0cnVlLCBjb21wbGV0ZTpmYWxzZSwgdW5sb2NrZWQ6ZmFsc2UsIGRhdGE6WzAsIDAsIDAsIDAsIDAsIDAsIDBdIH0sXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICBdO1xyXG5cclxuXHJcbiAgICAgICAgLy9idWlsZCB0aGUgbGV2ZWwgaWNvbnNcclxuICAgICAgICBmb3IobGV0IHIgPSAwOyByIDwgdGhpcy5fbGV2ZWxzRGF0YS5sZW5ndGg7IHIrKykge1xyXG4gICAgICAgICAgICAvL2l0ZXJhdGUgdGhyb3VnaCBsZXZlbHNcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuX2xldmVsc0RhdGFbcl0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxldmVsRGF0YSA9IHRoaXMuX2xldmVsc0RhdGFbcl1baV07XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxFVkVMXCIsIGxldmVsRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvL2RlY2lkZSB0aGUgc3ByaXRlXHJcbiAgICAgICAgICAgICAgICBsZXQgc3ByaXRlID0gU3ByaXRlcy5CdXR0b25zLkxldmVsRW1wdHkuY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgIGlmKGxldmVsRGF0YS5zcGVjaWFsICE9IG51bGwgJiYgbGV2ZWxEYXRhLnNwZWNpYWwpIHNwcml0ZSA9IFNwcml0ZXMuQnV0dG9ucy5MZXZlbFNwZWNpYWxFbXB0eS5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgLy8gLy9jb21wbGV0ZWRcclxuICAgICAgICAgICAgICAgIGlmKGxldmVsRGF0YS5jb21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZSA9IFNwcml0ZXMuQnV0dG9ucy5MZXZlbENvbXBsZXRlLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobGV2ZWxEYXRhLnNwZWNpYWwgIT0gbnVsbCAmJiBsZXZlbERhdGEuc3BlY2lhbCkgc3ByaXRlID0gU3ByaXRlcy5CdXR0b25zLkxldmVsU3BlY2lhbENvbXBsZXRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9sb2NrZWRcclxuICAgICAgICAgICAgICAgIGlmKCFsZXZlbERhdGEudW5sb2NrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUuYWxwaGEgPSAwLjI1O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLmFscGhhID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgLy9leHRyYXNcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9wbGFjZVxyXG4gICAgICAgICAgICAgICAgc3ByaXRlLnggPSA2MCAqIGk7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUueSA9IDUwICogcjtcclxuICAgICAgICAgICAgICAgIC8vYWRkXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXZlbHNDb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcclxuICAgICAgICAgICAgICAgIC8vdG8gYXJyYXlcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xldmVsQnV0dG9ucy5wdXNoKHNwcml0ZSBhcyBjcmVhdGVqcy5TcHJpdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5fbGV2ZWxzQ29udGFpbmVyLnggPSAoZ2FtZS5TdGFnZVdpZHRoIC8gMikgLSAodGhpcy5fbGV2ZWxzQ29udGFpbmVyLmdldEJvdW5kcygpLndpZHRoIC8gMik7XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxzQ29udGFpbmVyLnkgPSAxMDA7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZENoaWxkKHRoaXMuX2xldmVsc0NvbnRhaW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIGVuYWJsZSgpIHtcclxuICAgICAgICB0aGlzLl9sZXZlbEJ1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgICAgICAgICBidG4ub24oXCJjbGlja1wiLCB0aGlzLl9vbkxldmVsQ2xpY2ssIHRoaXMpO1xyXG4gICAgICAgICAgICBidG4ub24oXCJtb3VzZW92ZXJcIiwgdGhpcy5fb25MZXZlbEhvdmVyLCB0aGlzKTtcclxuICAgICAgICAgICAgYnRuLm9uKFwibW91c2VvdXRcIiwgdGhpcy5fb25MZXZlbFVuaG92ZXIsIHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNhYmxlKCkge1xyXG4gICAgICAgIHRoaXMuX2xldmVsQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICAgICAgICAgIGJ0bi5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipSZXR1cm5zIGxldmVsIGRhdGEgZnJvbSB0aGUgZ2l2ZW4gaW5kZXguICovXHJcbiAgICBwcml2YXRlIF9nZXREYXRhQnlJbmRleChpbmRleDpudW1iZXIpIHtcclxuICAgICAgICAvL2ZsYXR0ZW4gbGV2ZWwgZGF0YSwgYW5kIGdldCBkYXRhXHJcbiAgICAgICAgbGV0IGZsYXR0ZW4gPSB0aGlzLl9sZXZlbHNEYXRhLnJlZHVjZSgoYWNjLCBuZXh0KSA9PiBhY2MuY29uY2F0KG5leHQpKTtcclxuICAgICAgICByZXR1cm4gZmxhdHRlbltpbmRleF07XHJcbiAgICB9XHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBBQlNUUkFDVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwcml2YXRlIF9vbkxldmVsQ2xpY2soZSkge1xyXG4gICAgICAgICAvL2dldCBidXR0b24gaW5kZXhcclxuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLl9sZXZlbEJ1dHRvbnMuaW5kZXhPZihlLnRhcmdldCk7XHJcblxyXG4gICAgICAgIGlmKGluZGV4ID09IC0xKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vc2V0IHRoZSBsZXZlbCBpbmRleFxyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBEYXRhTWFuYWdlci5nZXRMZXZlbERhdGFCeUluZGV4KGluZGV4KTtcclxuICAgICAgICAoU2NyZWVuTWFuYWdlci5nZXRTY3JlZW5CeUtleShcImdhbWVcIikgYXMgR2FtZVNjcmVlbikuTGV2ZWxEYXRhID0gZGF0YTtcclxuICAgICAgICAvL2dvIHRvIGludGVybWVkaWFyeSBzY3JlZW5cclxuICAgICAgICBjb25zdCBpbnRlcm1lZGlhcnkgPSBTY3JlZW5NYW5hZ2VyLmdldFNjcmVlbkJ5S2V5KFwiaW50ZXJtZWRpYXJ5XCIpIGFzIEludGVybWVkaWFyeVNjcmVlbjtcclxuICAgICAgICBuZXcgUHJvbWlzZShhc3luYyhyZXMpID0+IHtcclxuICAgICAgICAgICAgaW50ZXJtZWRpYXJ5LlRleHQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgIGF3YWl0IFNjcmVlbk1hbmFnZXIuc2V0Q3VycmVudFNjcmVlbihpbnRlcm1lZGlhcnksIHRoaXMuX2dhbWUuU3RhZ2UpO1xyXG4gICAgICAgICAgICBpbnRlcm1lZGlhcnkucXVldWVOZXh0U2NyZWVuKFwiZ2FtZVwiLCAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgIHJlcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX29uTGV2ZWxIb3ZlcihlKSB7XHJcbiAgICAgICAgLy9maW5kIHRoZSBidXR0b24gZGF0YVxyXG4gICAgICAgIC8vZ2V0IGJ1dHRvbiBpbmRleFxyXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuX2xldmVsQnV0dG9ucy5pbmRleE9mKGUudGFyZ2V0KTtcclxuICAgICAgICBcclxuICAgICAgICBpZihpbmRleCAhPSAtMSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5fZ2V0RGF0YUJ5SW5kZXgoaW5kZXgpO1xyXG4gICAgICAgICAgICBpZihkYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEudW5sb2NrZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5MZXZlbFRleHQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfb25MZXZlbFVuaG92ZXIoZSkge1xyXG4gICAgICAgIHRoaXMuTGV2ZWxUZXh0ID0gXCJcIjtcclxuICAgIH1cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE9WRVJSSURFUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEdFVFRFUlMgJiBTRVRURVJTIC0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHB1YmxpYyBnZXQgQ29udGFpbmVyKCkgeyByZXR1cm4gdGhpcy5fY29udGFpbmVyOyB9XHJcbiAgICBwdWJsaWMgc2V0IExldmVsVGV4dCh2YWx1ZTpzdHJpbmcpIHtcclxuICAgICAgICBpZih2YWx1ZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xldmVsVGV4dENvbnRhaW5lci5yZW1vdmVBbGxDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY3JlYXRlIHRoZSB0ZXh0XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IFNwcml0ZXMuZ2VuZXJhdGVCaXRtYXBUZXh0KHZhbHVlLCBMb2FkTWFuYWdlci5TcHJpdGVzaGVldHMuVHlwb2dyYXBoeSk7XHJcbiAgICAgICAgKHRleHQgYXMgYW55KS5zY2FsZSA9IDAuNjtcclxuICAgICAgICAvL2xvYWQgaW50byBjb250YWluZXJcclxuICAgICAgICB0aGlzLl9sZXZlbFRleHRDb250YWluZXIucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuICAgICAgICB0aGlzLl9sZXZlbFRleHRDb250YWluZXIuYWRkQ2hpbGQodGV4dCk7XHJcblxyXG4gICAgICAgIC8vcHV0IGNvbnRhaW5lciBhdCBib3R0b21cclxuICAgICAgICB0aGlzLl9sZXZlbFRleHRDb250YWluZXIueCA9ICh0aGlzLl9nYW1lLlN0YWdlV2lkdGggLyAyKSAtICgodGV4dC5nZXRCb3VuZHMoKS53aWR0aCAvIDIpICogMC42KTtcclxuICAgICAgICB0aGlzLl9sZXZlbFRleHRDb250YWluZXIueSA9IHRoaXMuX2dhbWUuU3RhZ2VIZWlnaHQgLSAzMDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dCB9IGZyb20gXCIuL0xheW91dFwiO1xyXG5cclxuLyoqVXNlcyBjdXN0b20gY2xhc3NlcyBhbmQgdGhlIGNyZWF0ZWpzIGxpYnJhcnkgdG8gaGVscCBlYXNpbHkgYnVpbGQgdXAgdWkgaW50ZXJmYWNlcyB3aXRoIERpc3BsYXlPYmplY3RzLiAqL1xyXG5leHBvcnQgY2xhc3MgQ29udGFpbmVyIHtcclxuICAgIHByaXZhdGUgX3Nwcml0ZXM6eyBba2V5OnN0cmluZ106Y3JlYXRlanMuRGlzcGxheU9iamVjdCB9O1xyXG4gICAgcHJpdmF0ZSBfY29udGFpbmVyOmNyZWF0ZWpzLkNvbnRhaW5lcjtcclxuICAgIHByaXZhdGUgX2xheW91dDpMYXlvdXQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlcyA9IHsgfTtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBuZXcgY3JlYXRlanMuQ29udGFpbmVyKCk7XHJcbiAgICAgICAgdGhpcy5fbGF5b3V0ID0gTGF5b3V0Lk1BS0VfVkVSVElDQUxfQ0VOVEVSKHRoaXMuX2NvbnRhaW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgcHVibGljIGFkZChrZXk6c3RyaW5nLCBzcHJpdGU6Y3JlYXRlanMuRGlzcGxheU9iamVjdCwgdXBkYXRlTGF5b3V0OmJvb2xlYW49dHJ1ZSk6Ym9vbGVhbiB7XHJcbiAgICAgICAgaWYodGhpcy5fc3ByaXRlc1trZXldICE9IG51bGwpIHJldHVybiBmYWxzZTtcclxuICAgICAgICB0aGlzLl9zcHJpdGVzW2tleV0gPSBzcHJpdGUuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgaWYodXBkYXRlTGF5b3V0KSB0aGlzLl9sYXlvdXQuYnVpbGRMYXlvdXQodHJ1ZSwgLi4uT2JqZWN0LmtleXModGhpcy5fc3ByaXRlcykubWFwKGsgPT4gdGhpcy5fc3ByaXRlc1trXSkpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRNYW55KHNwcml0ZXM6eyBba2V5OnN0cmluZ106Y3JlYXRlanMuRGlzcGxheU9iamVjdCB9KSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoc3ByaXRlcykuZm9yRWFjaChrID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZGQoaywgc3ByaXRlc1trXSwgZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9sYXlvdXQuYnVpbGRMYXlvdXQodHJ1ZSwgLi4uT2JqZWN0LmtleXModGhpcy5fc3ByaXRlcykubWFwKGsgPT4gdGhpcy5fc3ByaXRlc1trXSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGFuZ2VMYXlvdXQobGF5b3V0OkxheW91dCkge1xyXG4gICAgICAgIHRoaXMuX2xheW91dCA9IGxheW91dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipJbiBjYXNlIG9mIHdhbmRlcmluZyBvciByZXVzYWJsZSBzcHJpdGVzLCBjYWxsIHRoZW0gYmFjayB0byB0aGlzIGxheW91dCEgKi9cclxuICAgIHB1YmxpYyBjaGVja291dFNwcml0ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5fbGF5b3V0LmJ1aWxkTGF5b3V0KHRydWUsIC4uLk9iamVjdC5rZXlzKHRoaXMuX3Nwcml0ZXMpLm1hcChrID0+IHRoaXMuX3Nwcml0ZXNba10pKTtcclxuICAgIH1cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEFCU1RSQUNUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEVWRU5UUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE9WRVJSSURFUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIEdFVFRFUlMgJiBTRVRURVJTIC0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHB1YmxpYyBnZXQgQ29udGFpbmVyKCk6Y3JlYXRlanMuQ29udGFpbmVyIHsgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjsgfVxyXG4gICAgcHVibGljIGdldCBTcHJpdGVzKCkgeyByZXR1cm4gdGhpcy5fc3ByaXRlczsgfVxyXG59IiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuLi8uLi9HYW1lXCI7XHJcblxyXG4vKipVc2VkIHRvIGxheW91dCBjcmVhdGVqcyBkaXNwbGF5IG9iamVjdHMuICovXHJcbmV4cG9ydCBjbGFzcyBMYXlvdXQge1xyXG4gICAgLy9qdXN0aWZ5IGNvbnRlbnRcclxuICAgIHB1YmxpYyBzdGF0aWMgSE9SSVpPTlRBTDpzdHJpbmcgPSBcImhvcml6b250YWxcIjtcclxuICAgIHB1YmxpYyBzdGF0aWMgVkVSVElDQUw6c3RyaW5nID0gXCJ2ZXJ0aWNhbFwiO1xyXG4gICAgLy9hbGlnbiBpdGVtc1xyXG4gICAgcHVibGljIHN0YXRpYyBTVEFSVDpzdHJpbmcgPSBcInN0YXJ0XCI7XHJcbiAgICBwdWJsaWMgc3RhdGljIEVORDpzdHJpbmcgPSBcImVuZFwiO1xyXG4gICAgcHVibGljIHN0YXRpYyBDRU5URVI6c3RyaW5nID0gXCJjZW50ZXJcIjtcclxuXHJcbiAgICBwcml2YXRlIF9wYXJlbnQ6Y3JlYXRlanMuQ29udGFpbmVyO1xyXG4gICAgcHJpdmF0ZSBfaXRlbXM6Y3JlYXRlanMuRGlzcGxheU9iamVjdFtdO1xyXG5cclxuICAgIHByaXZhdGUgX2RpcmVjdGlvbjpzdHJpbmc7XHJcbiAgICBwcml2YXRlIF9hbGlnbm1lbnQ6c3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBfY3Jvc3NBbGlnbm1lbnQ6c3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBfc3BhY2luZzpudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IocGFyZW50OmNyZWF0ZWpzLkNvbnRhaW5lciwgZGlyZWN0aW9uOnN0cmluZywgYWxpZ25tZW50OnN0cmluZywgY3Jvc3NBbGlnbm1lbnQ6c3RyaW5nLCBzcGFjaW5nOm51bWJlciA9IDUpIHtcclxuICAgICAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xyXG4gICAgICAgIHRoaXMuX2FsaWdubWVudCA9IGFsaWdubWVudDtcclxuICAgICAgICB0aGlzLl9jcm9zc0FsaWdubWVudCA9IGNyb3NzQWxpZ25tZW50O1xyXG4gICAgICAgIHRoaXMuX3NwYWNpbmcgPSBzcGFjaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIHB1YmxpYyBidWlsZExheW91dChhZGRUb1BhcmVudDpib29sZWFuPXRydWUsIC4uLml0ZW1zOmNyZWF0ZWpzLkRpc3BsYXlPYmplY3RbXSkge1xyXG4gICAgICAgIGlmKGl0ZW1zLmxlbmd0aCA8PSAwKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcblxyXG4gICAgICAgIGlmKGFkZFRvUGFyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudC5yZW1vdmVBbGxDaGlsZHJlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuXHJcbiAgICAgICAgaWYodGhpcy5fZGlyZWN0aW9uID09IExheW91dC5WRVJUSUNBTCkge1xyXG4gICAgICAgICAgICAvLyBYIC0gQ0VOVEVSXHJcbiAgICAgICAgICAgIGxldCB0b3RhbEhlaWdodCA9IDA7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuX2FsaWdubWVudCA9PSBMYXlvdXQuQ0VOVEVSKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtOmNyZWF0ZWpzLkRpc3BsYXlPYmplY3QgPSBpdGVtc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnggPSAoR2FtZS5XSURUSCAvIDIpIC0gKGl0ZW0uZ2V0Qm91bmRzKCkud2lkdGggLyAyKTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnkgPSB0b3RhbEhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbEhlaWdodCArPSBpdGVtLmdldEJvdW5kcygpLmhlaWdodCArIHRoaXMuX3NwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYWRkVG9QYXJlbnQpIHRoaXMuX3BhcmVudC5hZGRDaGlsZChpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBZIC0gQ0VOVEVSXHJcbiAgICAgICAgICAgICAgICAvL2hhbmRsZSB2ZXJ0aWNhbCBhbGlnbm1lbnRcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX2Nyb3NzQWxpZ25tZW50ID09IExheW91dC5TVEFSVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIERPIE5PVEhJTkcsIHRoaXMgaXMgdGhlIGRlZmF1bHRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5fY3Jvc3NBbGlnbm1lbnQgPT0gTGF5b3V0LkNFTlRFUikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsSGVpZ2h0ICs9IGl0ZW1zW2l0ZW1zLmxlbmd0aC0xXS5nZXRCb3VuZHMoKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW06Y3JlYXRlanMuRGlzcGxheU9iamVjdCA9IGl0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2RlY2lwaGVyIGRlc2lyZWQgY2VudGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ueSArPSAoR2FtZS5IRUlHSFQgLyAyKSAtICh0b3RhbEhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gQUJTVFJBQ1RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gT1ZFUlJJREVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gR0VUVEVSUyAmIFNFVFRFUlMgLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLSBIRUxQRVIgRlVOQ1RJT05TIC0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBwdWJsaWMgc3RhdGljIE1BS0VfVkVSVElDQUxfQ0VOVEVSKGNvbnRhaW5lcjpjcmVhdGVqcy5Db250YWluZXIpIHsgcmV0dXJuIG5ldyBMYXlvdXQoY29udGFpbmVyLCBMYXlvdXQuVkVSVElDQUwsIExheW91dC5DRU5URVIsIExheW91dC5DRU5URVIsIDUpOyB9XHJcblxyXG59Il19"}